{"version":3,"sources":["utils/auth.js","utils/mutations.js","components/LogInForm/index.js","components/SignUpForm/index.js","components/Dropdown/index.js","components/MainNavbar/index.js","pages/Splash/index.js","utils/queries.js","components/TopUsersList/index.js","components/TopQuizzesList/index.js","components/SearchResults/index.js","components/QuizList/index.js","components/RecentlyTaken/index.js","pages/Dashboard/index.js","components/Alert/index.js","pages/QuizCreator/index.js","pages/Quiz/index.js","utils/dateFormat.js","pages/Search/index.js","App.js","reportWebVitals.js","index.js"],"names":["localStorage","getItem","token","decode","exp","Date","now","removeItem","this","getToken","isTokenExpired","idToken","setItem","window","location","assign","LOGIN_USER","gql","CREATE_USER","CREATE_QUIZ","DELETE_QUIZ","SUBMIT_QUIZ","LogInForm","useState","email","password","userFormData","setUserFormData","useMutation","loginUser","handleFormSubmit","event","a","preventDefault","variables","data","Error","Auth","login","console","error","className","onSubmit","e","value","onChange","target","type","placeholder","SignUpForm","username","createUser","addUser","Dropdown","dropdownPopoverShow","setDropdownPopoverShow","btnDropdownRef","createRef","popoverDropdownRef","onclick","document","querySelector","ref","onClick","createPopper","current","placement","getProfile","icon","faChevronDown","style","minWidth","to","href","logout","customStyles","content","top","left","right","bottom","marginRight","transform","display","textAlign","MainNavbar","isOpen","setIsOpen","checked","setChecked","closeModal","handleRadioChange","log","src","loggedIn","onRequestClose","shouldReturnFocusAfterClose","shouldCloseOnOverlayClick","contentLabel","faTimes","size","id","name","Modal","setAppElement","getElementById","Splash","rel","faGithub","faLinkedinIn","faAddressCard","GET_TOP_USERS","GET_TOP_QUIZZES","GET_QUIZZES","GET_QUIZ","GET_ME","SEARCH_QUIZZES","DEEP_SEARCH","TopUsersList","useQuery","pollInterval","loading","stopPolling","setTimeout","topUsers","map","user","quizzes","length","quizzesTaken","TopQuizzesList","currentPage","setCurrentPage","itemsPerPage","pages","indexOfLastItem","indexOfFirstItem","topQuizzesData","topQuizzes","i","Math","ceil","push","currentItems","slice","renderPageNumbers","n","padding","handleClick","Number","quiz","_id","title","author","faChevronRight","renderData","disabled","faChevronLeft","SearchResults","input","search","searchData","searchQuizzes","QuizList","deleteQuiz","redirect","setRedirect","fetchPolicy","refetch","quizData","stopPropagation","quizId","JSON","stringify","handleQuizEdit","faEdit","handleQuizDelete","RecentlyTaken","me","recentlyTaken","Dashboard","searchInput","setSearchInput","Alert","hideFunction","message","faExclamation","QuizCreator","createQuiz","show","alert","setAlert","baseQuiz","description","tags","questions","baseQuestion","questionText","answers","index","baseAnswer","answerText","isCorrect","loadedQuiz","parse","__typename","question","answer","takers","createdAt","scores","useEffect","setQuiz","currentQuestion","setCurrentQuestion","currentAnswer","setCurrentAnswer","tagText","setTagText","updateQuestion","newQuestionList","updateAnswer","newAnswerList","handleQuizValidate","valid","forEach","handleQuizCreate","handleTagInputEnter","key","newTags","handleTagSubmit","questionInput","focus","handleQuestionChange","delIndex","indexOf","splice","handleQuestionDelete","newQuestion","addQuestion","faPlus","answerInput","handleAnswerChange","correctAnswer","handleCorrectChange","handleAnswerDelete","newAnswer","addAnswer","options","allowTabFill","onKeyDown","tag","deleteTag","Quiz","setAnswers","percentage","results","grades","setGrades","started","setStarted","submitQuiz","useParams","answerList","chosenAnswer","questionIndex","forceUpdate","setValue","useForceUpdate","getChosenAnswer","chosenIndex","find","gradeColor","Answers","answersList","questionList","newAnswers","checkAnswer","faTag","score","percent","toFixed","newIndex","prevQuestion","nextQuestion","gradeQuiz","grade","correct","addDateSuffix","date","dateStr","toString","lastChar","charAt","dateFormat","timestamp","monthLength","dateSuffix","months","dateObj","parseInt","formattedMonth","getMonth","dayOfMonth","getDate","year","getFullYear","hour","getHours","floor","getMinutes","formattedTimeStamp","SearchPage","setSearch","setInput","TagsList","deletable","deepSearchData","deepSearch","result","handleSearchSubmit","httpLink","createHttpLink","uri","errorLink","onError","graphQLErrors","networkError","link","ApolloLink","from","authLink","setContext","_","headers","authorization","client","ApolloClient","concat","cache","InMemoryCache","App","ApolloProvider","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e362aceb.chunk.js","sourcesContent":["import decode from 'jwt-decode';\n\nclass AuthService {\n  getToken() {\n    return localStorage.getItem('id_token');\n  };\n\n  isTokenExpired(token) {\n    const decoded = decode(token);\n    if (decoded.exp < Date.now() / 1000) {\n      localStorage.removeItem('id_token');\n      return true;\n    }\n    return false;\n  };\n\n  getProfile()  {\n    return decode(this.getToken());\n  };\n\n  loggedIn() {\n    const token = this.getToken();\n    return token && !this.isTokenExpired(token) ? true : false;\n  };\n\n  login(idToken) {\n    localStorage.setItem('id_token', idToken);\n  };\n\n  logout() {\n    localStorage.removeItem('id_token');\n    window.location.assign('/');\n  };\n};\n\nexport default new AuthService();\n","import { gql } from \"@apollo/client\";\n\nexport const LOGIN_USER = gql`\n    mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n        user {\n          _id\n          username\n        }\n        token\n  }\n}\n`\n\nexport const CREATE_USER = gql`\n    mutation createUser($email: String!, $username: String!, $password: String!) {\n     addUser(email: $email, username: $username, password: $password) {\n         user {\n              _id\n              username\n             }\n         token\n  }\n}\n`\n\nexport const CREATE_QUIZ = gql `\n    mutation createQuiz($input: QuizInput!) {\n  createQuiz(input: $input) {\n    title\n    _id\n    createdAt\n    author\n    questions {\n      questionText\n      answers {\n        answerText\n        isCorrect\n      }\n    }\n  }\n}\n`\n\nexport const DELETE_QUIZ = gql`\n  mutation deleteQuiz($quizId: ID!) {\n    deleteQuiz(quizId: $quizId) {\n      title\n      _id\n      author\n    }\n  }\n`\n\nexport const SUBMIT_QUIZ = gql`\n  mutation submitQuiz($quizId: ID!, $answers: [submittedAnswer]) {\n    submitQuiz(quizId: $quizId, answers: $answers) {\n      percentage\n      results {\n        questionIndex\n        correct\n      }\n    }\n  }\n`","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\n\nimport Auth from '../../utils/auth';\nimport { LOGIN_USER } from '../../utils/mutations';\n\nexport default function LogInForm() {\n  const [userFormData, setUserFormData] = useState({ email: '', password: '' });\n\n  const [loginUser] = useMutation(LOGIN_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await loginUser({\n        variables: {...userFormData}\n      });\n      if (!data) {\n        throw new Error('Something went wrong!');\n      }\n      Auth.login(data.login.token);\n      window.location.assign('/home');\n    } catch(err) {\n      console.error(err);\n    }\n  \n    setUserFormData({\n      email: '',\n      password: ''\n    });\n  };\n  \n  return (\n    <div>\n      <form className='p-3' onSubmit={(e) => handleFormSubmit(e)}>\n        <input value={userFormData.email} onChange={(e) => setUserFormData({...userFormData, email: e.target.value})} type='email' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='john@website.com' />\n        <input value={userFormData.password} onChange={(e) => setUserFormData({...userFormData, password: e.target.value})} type='password' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='password' />\n        <button \n          type='submit' className='w-full px-4 py-3 bg-blue-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform'\n        >\n          Submit\n        </button>\n      </form>\n    </div>\n  )\n};\n","import React, { useState } from 'react';\n\nimport { useMutation } from '@apollo/client';\n\nimport Auth from '../../utils/auth';\nimport { CREATE_USER } from '../../utils/mutations';\n\nexport default function SignUpForm() {\n  const [userFormData, setUserFormData] = useState({ username: '', email: '', password: ''});\n  const [createUser] = useMutation(CREATE_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await createUser({\n        variables: {...userFormData}\n      });\n\n      if (!data) {\n        throw new Error('something went wrong!');\n      }\n      Auth.login(data.addUser.token);\n      window.location.assign('/home');\n    } catch (err) {\n      console.error(err);\n    }\n\n    setUserFormData({\n      username: '',\n      email: '',\n      password: ''\n    });\n  };\n\n  return (\n    <div>\n      <form className='p-3' onSubmit={(e) => handleFormSubmit(e)}>\n      <input value={userFormData.username} onChange={(e) => setUserFormData({...userFormData, username: e.target.value})} type='text' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='username' />\n        <input value={userFormData.email} onChange={(e) => setUserFormData({...userFormData, email: e.target.value})} type='email' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='john@website.com' />\n        <input value={userFormData.password} onChange={(e) => setUserFormData({...userFormData, password: e.target.value})} type='password' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='password' />\n        {/* <input onChange={handleInputChange} type='password' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='confirm password' /> */}\n        <button \n          type='submit' className='w-full px-4 py-3 bg-blue-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform'>\n          Submit\n        </button>\n      </form>\n    </div>\n  )\n};\n","import React, { useState, createRef } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { createPopper } from \"@popperjs/core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown } from \"@fortawesome/free-solid-svg-icons\";\n\nimport Auth from '../../utils/auth';\n\nexport default function Dropdown() {\n  const [dropdownPopoverShow, setDropdownPopoverShow] = useState(false);\n  const btnDropdownRef = createRef();\n  const popoverDropdownRef = createRef();\n\n  const openDropdownPopover = () => {\n    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {\n      placement: \"bottom-start\"\n    });\n    setDropdownPopoverShow(true);\n  };\n\n  const closeDropdownPopover = () => {\n    setDropdownPopoverShow(false);\n  };\n\n  window.onclick = function(event) {\n    event.preventDefault();\n    if (event.target !== document.querySelector('.dropdownbtn')) {\n      setDropdownPopoverShow(false);\n    }\n  }\n\n  return (\n    <>\n      <div className=\"flex flex-wrap px-4\">\n      <div className=\"relative font-main inline-flex align-middle gap-x-1 w-full\">\n            <button\n              className={dropdownPopoverShow ?\n                \"text-theme-aliceblue text-sm px-4 py-2 rounded-t-full shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-100 dropdownbtn bg-theme-blueblack\" :\n                \"text-theme-aliceblue text-sm px-4 py-2 rounded-full shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-100 dropdownbtn bg-theme-bluemidgray\"\n              }\n              type=\"button\"\n              ref={btnDropdownRef}\n              onClick={() => {\n                dropdownPopoverShow\n                  ? closeDropdownPopover()\n                  : openDropdownPopover();\n              }}\n            >\n              {Auth.getProfile().data.username} {\" \"} \n              <FontAwesomeIcon icon={faChevronDown} />\n            </button>\n            <div\n              ref={popoverDropdownRef}\n              className={\n                (dropdownPopoverShow ? \"block \" : \"hidden \") +\n                \"bg-theme-blueblack text-base divide-y divide-theme-bluemidgray overflow-y-hidden text-theme-aliceblue z-50 py-1 list-none text-center rounded-br-full rounded-bl-full rounded-tl-full shadow-xl mt-1\"\n              }\n              style={{ minWidth: \"12rem\" }}\n            >\n            <Link to=\"/home\">\n              <p className=\"text-sm p-2 hover:text-gray-400 transition duration-200 font-normal block w-full whitespace-nowrap bg-transparent\">\n                Home\n              </p>\n            </Link>\n            <Link to=\"/creator\">\n              <p className=\"text-sm p-2 hover:text-gray-400 transition duration-200 font-normal block w-full whitespace-nowrap bg-transparent\">\n                Creator\n              </p>\n            </Link>\n            <Link to=\"/search\">\n              <p className=\"text-sm hover:text-gray-400 transition duration-200 p-2 font-normal block w-full whitespace-nowrap bg-transparent\">\n                Advanced Search\n              </p>\n            </Link>\n              <a\n                href=\"/home\"\n                className=\"text-sm p-2 font-normal block w-full whitespace-nowrap bg-transparent\"\n              >\n                <button className='p-2 bg-red-500 hover:bg-red-800 transition duration-200 rounded-md text-white outline-none shadow-lg' onClick={Auth.logout}>Logout</button>\n              </a>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Modal from 'react-modal';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\n\nimport LogInForm from '../LogInForm';\nimport SignUpForm from '../SignUpForm';\nimport Dropdown from '../Dropdown';\nimport Auth from '../../utils/auth';\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    display: 'inline',\n    textAlign: 'right'\n  }\n};\n\nModal.setAppElement(document.getElementById('root'));\n\nexport default function MainNavbar() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [checked, setChecked] = useState('login-radio');\n\n  function openModal() {\n    setIsOpen(true);\n  };\n  \n  function closeModal() {\n    setIsOpen(false);\n  };\n\n  function handleRadioChange(event) {\n    console.log(event.target);\n  }\n\n  return (\n    <nav className='w-full fixed bg-theme-main z-10'>\n      <div className='flex items-center justify-between mx-auto w-11/12 py-1'>\n        <div>\n          <Link to=\"/home\">\n            <img className='h-14 md:h-16' src='./quizzard-logo.png'/>\n          </Link>\n        </div>\n        <div>\n          {Auth.loggedIn() ? (\n            <>\n              <Dropdown/>\n            </>\n          ) : (\n            <>\n            <button className='openModal text-theme-aliceblue hover:text-gray-300 border-2 border-theme-main bg-theme-bluemidgray transition duration-200 hover:bg-theme-smoke rounded-full p-2 text-center' onClick={openModal}>Log In | Sign Up</button>\n            </>\n          )}\n        </div>\n        <Modal \n          isOpen={isOpen}\n          onRequestClose={closeModal}\n          style={customStyles}\n          shouldReturnFocusAfterClose={false}\n          shouldCloseOnOverlayClick={true}\n          contentLabel=\"Login/Signup Modal\"\n          >\n          <button className=\"text-center\" onClick={closeModal}><FontAwesomeIcon icon={faTimes} size='2x' /></button>\n          <form>\n            <fieldset className='text-center space-x-4'>\n              <label>\n                <input id='login-radio' checked={checked === 'login-radio'} value='login-radio' onClick={() => setChecked('login-radio')} onChange={handleRadioChange} name='modalRadio' type='radio' /> Log In\n              </label>\n              <label>\n                <input id='signup-radio' checked={checked === 'signup-radio'} value='signup-radio' onClick={() => setChecked('signup-radio')} onChange={handleRadioChange} name='modalRadio' type='radio' /> Sign Up\n              </label>\n            </fieldset>\n          </form>\n          <div>\n            {checked === 'login-radio' ? <LogInForm /> : <SignUpForm />}\n          </div>\n        </Modal>\n      </div>\n    </nav>\n  )\n};\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGithub, faLinkedinIn } from '@fortawesome/free-brands-svg-icons';\nimport { faAddressCard } from '@fortawesome/free-regular-svg-icons';\n\nexport default function Splash() {\n  return (\n    <div className='min-h-screen flex justify-center items-center '>\n      <div className='mx-auto my-20 w-4/5 md:w-2/3'>\n        <div className='container shadow-xl grid grid-cols-1 divide-y divide-y-8 divide-theme-lighter bg-theme-bluegray text-theme-aliceblue p-6 rounded-md border-2 border-theme-main md:border-4'>\n          <div className='p-2 whitespace-nowrap md:whitespace-normal text-2xl lg:text-3xl animate-float font-semibold'>\n            <p className='font-title text-center tracking-wide'>\n              Welcome to Quizzard!\n            </p>\n          </div>\n          <div className='p-2 text-sm md:text-base'>\n            <p>\n              A web app where users can create and take quizzes on a variety of topics. Their results and the amount of times the quiz has been taken are stored, to be proudly displayed on the homepage.\n            </p>\n          </div>\n          <div className='p-2 text-sm md:text-base'>\n            <p>\n              To get started with Quizzard, simply <span className='text-theme-complement'>sign up using the button in the top right</span> or log in if you already have an account. Once logged in, you can search for a quiz, or if there isn't one on a certain topic, making a quiz is very intuitive!\n            </p>\n          </div>\n          <div className='p-2 text-sm md:text-base'>\n            <p>\n              The <span className='text-theme-complement'>top quizzes</span> are determined by the amount of times a quiz has been taken, and <span className='text-theme-complement'>top tags</span> are controlled by how many quizzes belong to that tag. <span className='text-theme-complement'>Top users</span> are decided by the amount of quizzes they've made and the amount of times their quizzes have been taken.\n            </p>\n          </div>\n          <div className='p-2 text-sm md:text-base'>\n            <p>\n              Quizzard is a progressive web app built on the MERN stack, and uses GraphQL/Apollo for routing as opposed to a RESTful API. Created by <span className='text-theme-bluedarkgray'>Jared Donovan</span> and <span className='text-theme-bluedarkgray'>Anthony Krueger</span>, this is the final project for{\" \"}\n              <span className='text-theme-darkroyal'>\n                Northwestern University's\n              </span>{\" \"}\n              Full-Stack Web Development Boot Camp.\n            </p>\n          </div>\n          <div className='p-2 text-center space-y-2'>\n            <h2 className=\"text-xl font-bold\">Links</h2>\n            <div className='grid grid-cols-1 justify-center md:flex md:divide-x divide-theme-lighter items-center'>\n              <div className='flex items-center justify-between md:space-x-1 p-3'>\n                <p className='text-gray-200 text-sm md:text-base'>\n                  Github Repo:\n                </p>\n                <a \n                  className='text-theme-berry hover:text-theme-darkberry transition duration-200' \n                  href='https://github.com/Quizzard-Dev/Quizzard' \n                  target='_blank' \n                  rel='noreferrer'\n                >\n                  <FontAwesomeIcon icon={faGithub} size='3x'/>\n                </a>\n              </div>\n              <div className='flex items-center justify-between md:space-x-1 p-3'>\n                <p className='text-gray-200 text-sm md:text-base'>\n                  Jared: \n                </p>\n                <div className='flex space-x-3'>\n                  <a \n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \n                    href='https://github.com/jdono100' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faGithub} size='2x'/> \n                  </a>\n                  <a\n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \n                    href='https://www.linkedin.com/in/jared-donovan/' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faLinkedinIn} size='2x'/>\n                  </a>\n                  <a\n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \n                    href='http://www.jareddonovanportfolio.com/' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faAddressCard} size='2x'/>\n                  </a>\n                </div>\n              </div>\n              <div className='flex items-center justify-between md:space-x-1 p-3'>\n                <p className='text-sm md:text-base text-gray-200'>\n                  Anthony: \n                </p>\n                <div className='flex space-x-3'>\n                  <a\n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \n                    href='https://github.com/AnthonyKrueger' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faGithub} size='2x'/> \n                  </a>\n                  <a\n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \n                    href='https://www.linkedin.com/in/anthony-krueger-1545a5208/' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faLinkedinIn} size='2x'/>\n                  </a>\n                  <a\n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \n                    href='https://aik-portfolio.herokuapp.com/' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faAddressCard} size='2x'/>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n};\n","import { gql } from '@apollo/client';\n\nexport const GET_USERS = gql`\n    query users {\n        users {\n            _id\n            username\n        }\n    }\n`;\n\nexport const GET_TOP_USERS = gql`\n    query topUsers {\n        topUsers {\n            _id\n            username\n            quizzesTaken\n            quizzes {\n                _id\n            }\n        }\n    }\n`;\n\nexport const GET_TOP_QUIZZES = gql`\n    query topQuizzes {\n        topQuizzes {\n            _id\n            title\n            author\n            takers\n        }\n    }\n`;\n\nexport const GET_USER = gql`\n    query user($userId: ID!) {\n        user(userId: $userId) {\n            username\n            quizzes {\n                title\n                questions {\n                    questionText\n                    answers {\n                        answerText\n                        isCorrect\n                    }\n                }\n            }\n        }\n    }\n`;\n\nexport const GET_QUIZZES = gql`\n    query quizzes($author: String!) {\n        quizzes(author: $author) {\n            _id\n            title\n            tags\n            description\n            takers\n            author\n            questions {\n                questionText\n                index\n                answers {\n                    answerText\n                    isCorrect\n                    index\n                }\n            }\n        }\n    }\n`;\n\nexport const GET_QUIZ = gql`\n    query quiz($quizId: ID!) {\n        quiz(quizId: $quizId) {\n            _id\n            title\n            author\n            createdAt\n            description\n            tags\n            questions {\n                questionText\n                index\n                answers {\n                    answerText\n                    index\n                    isCorrect\n                }\n            }\n            scores {\n                username\n                percent\n            }\n        }\n    }\n`;\n\nexport const GET_ME = gql`\n  query me {\n    me {\n      _id\n      username\n      recentlyTaken {\n          title\n          description\n          _id\n          author\n      }\n      quizzes {\n        _id\n        title\n        questions {\n          questionText\n          index\n          answers {\n            answerText\n            index\n            isCorrect\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const SEARCH_QUIZZES = gql`\n  query search($search: String!) {\n    searchQuizzes(search: $search) {\n      _id\n      title\n      author\n    }\n  }\n`;\n\nexport const DEEP_SEARCH = gql`\n    query DeepSearch($input: SearchInput) {\n        deepSearch(input: $input) {\n         title\n         _id\n         author\n         description\n         tags\n         createdAt\n  }\n}\n`\n","import { useQuery } from '@apollo/client';\nimport { GET_TOP_USERS } from '../../utils/queries';\n\nexport default function TopUsersList() {\n    const {loading, data, error, stopPolling} = useQuery(GET_TOP_USERS, {\n      pollInterval: 1000\n    })\n\n    if (loading) {\n      return (\n          <div className=\"flex justify-center items-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n          </div>\n      )\n    }\n  \n    if(error) {\n      return(\n        <span>Error</span>\n      )\n    }\n\n    setTimeout(() => {\n      stopPolling()\n    }, 120000)\n  \n    return (\n      <div className=\"space-y-1\">\n        {data.topUsers ? data.topUsers.map(user => {\n          return (\n            <div className=\"bg-theme-berry p-1 text-base flex-wrap font-normal flex justify-between rounded\">\n              <div className=\"w-2/6\">\n                <span>{user.username}</span>\n              </div>\n              <div className=\"w-2/6\">\n                <span>Quizzes: {user.quizzes.length}</span>\n              </div>\n              <div className=\"w-2/6\">\n                <span>Taken: {user.quizzesTaken}</span>\n              </div>\n            </div>\n          )\n        }) : null}\n      </div>\n    )}","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\nimport { useQuery } from '@apollo/client';\nimport { GET_TOP_QUIZZES } from '../../utils/queries';\n\nexport default function TopQuizzesList() {\n  const renderData = (data) => {\n    return (\n      <>\n        {data.map((quiz, i) => {\n          return (\n            <Link to={`/quiz/${quiz._id}`} key={i}>\n              <div className=\"flex justify-between p-1 text-base flex-wrap font-normal container rounded bg-theme-berry hover:bg-theme-darkberry hover:shadow-sm transition duration-200\">\n                <span>{quiz.title}</span>\n                <span>by: {quiz.author}</span>\n                <div>\n                  <span><FontAwesomeIcon icon={faChevronRight} /></span>\n                </div>\n              </div>\n            </Link>\n          )\n        })}\n      </>\n    )\n  };\n    const {loading, data, error, stopPolling} = useQuery(GET_TOP_QUIZZES, {\n      pollInterval: 1000\n    });\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const [itemsPerPage] = useState(8);\n  \n    const pages = [];\n    const indexOfLastItem = currentPage * itemsPerPage;\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n\n    let topQuizzesData = data?.topQuizzes || [];\n\n    for (let i = 0; i < Math.ceil(topQuizzesData.length/itemsPerPage); i++) {\n      pages.push(i + 1);\n    };\n\n    const currentItems = topQuizzesData.slice(indexOfFirstItem, indexOfLastItem);\n\n    if (loading) {\n      return (\n          <div className=\"flex justify-center items-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n          </div>\n      )\n    };\n    \n    if(error) {\n      return(\n        <span>Error :/</span>\n      )\n    };\n\n    const renderPageNumbers = pages.map(n => {\n      return (\n        <div className='cursor-pointer'>\n          <li \n            className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\n            style={{\n              padding: '0.25rem'\n            }}\n            key={n} \n            id={n}\n            onClick={handleClick}\n          >\n            {n}\n          </li>\n        </div>\n      );\n    });\n  \n    function handleClick(event) {\n      setCurrentPage(Number(event.target.id));\n    };\n  \n    function handlePrevBtn() {\n      setCurrentPage(currentPage - 1);\n    };\n  \n    function handleNextBtn() {\n      setCurrentPage(currentPage + 1);\n    };\n\n    setTimeout(() => {\n      stopPolling()\n    }, 120000)\n  \n    return (\n      <div className=\"space-y-4 text-sm md:text-lg\">\n        <h1 className='font-semibold text-lg'>Top Quizzes</h1>\n        {topQuizzesData.length ? (\n          <div className=\"container flex flex-col space-y-2\">\n            {renderData(currentItems)}\n            <ul className='flex justify-center flex-wrap list-none'>\n              <li key='prevbtn' className='p-1'>\n                <button\n                  onClick={handlePrevBtn}\n                  disabled={currentPage == pages[0] ? true : false}\n                >\n                  <FontAwesomeIcon icon={faChevronLeft} />\n                </button>\n              </li>\n              {topQuizzesData.length > 8 ? renderPageNumbers : null}\n              <li key='nextbtn' className='p-1'>\n                <button\n                  onClick={handleNextBtn}\n                  disabled={currentPage == pages[pages.length - 1] ? true : false}\n                >\n                  <FontAwesomeIcon icon={faChevronRight} />\n                </button>\n              </li>\n            </ul>\n          </div>\n        )\n        : null}\n      </div>\n    )}","import React, { useState } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\n\nimport { SEARCH_QUIZZES } from '../../utils/queries';\n\nexport default function SearchResults({ input }) {\n  const renderData = (data) => {\n    return (\n      <>\n        {data.map((quiz, i) => {\n          return (\n            <Link to={`/quiz/${quiz._id}`} key={i}>\n              <div className=\"flex justify-between text-base container rounded bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 px-2 py-1\">\n                <span>{quiz.title}</span>\n                <span>{quiz.author}</span>\n                <div>\n                  <span><FontAwesomeIcon icon={faChevronRight} /></span>\n                </div>\n              </div>\n            </Link>\n          )\n        })}\n      </>\n    )\n  };\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage] = useState(8);\n\n  const pages = [];\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n\n  const { loading, data, error } = useQuery(SEARCH_QUIZZES, {\n    variables: { search: input }\n  });\n\n  let searchData = data?.searchQuizzes || [];\n  \n  for (let i = 0; i < Math.ceil(searchData.length/itemsPerPage); i++) {\n    pages.push(i + 1);\n  };\n\n  const currentItems = searchData.slice(indexOfFirstItem, indexOfLastItem);\n\n  if (loading) {\n    return (\n      <div className='h-auto md:h-ninety p-5 justify-center flex items-center overflow-y-auto bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\n        <div className=\" flex justify-center items-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n        </div>\n      </div>\n    )\n  };\n\n  const renderPageNumbers = pages.map(n => {\n    return (\n      <div className='cursor-pointer'>\n        <li \n          className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\n          style={{\n            padding: '0.25rem'\n          }}\n          key={n} \n          id={n}\n          onClick={handleClick}\n        >\n          {n}\n        </li>\n      </div>\n    );\n  });\n\n  function handleClick(event) {\n    setCurrentPage(Number(event.target.id));\n  };\n\n  function handlePrevBtn() {\n    setCurrentPage(currentPage - 1);\n  };\n\n  function handleNextBtn() {\n    setCurrentPage(currentPage + 1);\n  };\n\n  return (\n    <div className='h-auto shadow-2xl md:h-ninety p-5 bg-theme-bluegray text-sm md:text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\n      {searchData.length \n      ? (\n        <div className='space-y-4'>\n          <span className='italic'>{`Search Results for '${input}'`}</span>\n          <div className='flex flex-col font-normal space-y-2 container'>\n            {renderData(currentItems)}\n            <div className='flex justify-center items-center'>\n              <ul className='flex flex-wrap list-none'>\n                <li key='prevbtn' className='p-1'>\n                  <button\n                    onClick={handlePrevBtn}\n                    disabled={currentPage == pages[0] ? true : false}\n                  >\n                    <FontAwesomeIcon icon={faChevronLeft} />\n                  </button>\n                </li>\n                {searchData.length > 8 ? renderPageNumbers : null}\n                <li key='nextbtn' className='p-1'>\n                  <button\n                    onClick={handleNextBtn}\n                    disabled={currentPage == pages[pages.length - 1] ? true : false}\n                  >\n                    <FontAwesomeIcon icon={faChevronRight} />\n                  </button>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      )\n    : `No results for that search!`}\n    </div>\n  )\n}\n","import { useQuery, useMutation } from \"@apollo/client\";\nimport { useState, useEffect } from 'react';\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { \n  faTimes, \n  faChevronLeft, \n  faChevronRight, \n  faEdit \n} from '@fortawesome/free-solid-svg-icons';\n\nimport { DELETE_QUIZ } from \"../../utils/mutations\";\nimport { GET_QUIZZES } from \"../../utils/queries\";\nimport Auth from \"../../utils/auth\";\n\nexport default function QuizList() {\n  const renderData = (data) => {\n    return (\n      <>\n        {data.map((quiz, i) => {\n          return (\n            <div key={i} className=\"flex justify-between container rounded bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 px-2 py-1\">\n              <Link to={`/quiz/${quiz._id}`}>\n                <div className='w-auto font-semibold'>\n                  <span>{quiz.title}</span>\n                </div>\n              </Link>\n              <div className=\"px-1 space-x-3\">\n                <Link to='/creator'>\n                  <span onClick={() => handleQuizEdit(quiz)}>\n                    <FontAwesomeIcon icon={faEdit} />\n                  </span>\n                </Link>\n                <span className='cursor-pointer' onClick={(e) => handleQuizDelete(quiz, e)}>\n                  <FontAwesomeIcon icon={faTimes} />\n                </span>\n              </div>\n            </div>\n          )\n        })}\n      </>\n    )\n  }\n\n  const [deleteQuiz] = useMutation(DELETE_QUIZ);\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(6);\n\n  const [redirect, setRedirect] = useState(\"\");\n\n  const pages = [];\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  \n  const { loading, data, refetch } = useQuery(GET_QUIZZES, {\n    variables: { \n      author: Auth.getProfile().data.username,\n    },\n    fetchPolicy: \"cache-and-network\"\n  });\n  \n  let quizData = data?.quizzes || [];\n  \n  for (let i = 0; i < Math.ceil(quizData.length/itemsPerPage); i++) {\n    pages.push(i + 1);\n  };\n\n  const currentItems = quizData.slice(indexOfFirstItem, indexOfLastItem);\n\n  const renderPageNumbers = pages.map(n => {\n    return (\n      <div className='cursor-pointer'>\n        <li \n          className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\n          style={{\n            padding: '0.25rem'\n          }}\n          key={n} \n          id={n}\n          onClick={handleClick}\n        >\n          {n}\n        </li>\n      </div>\n    );\n  });\n\n  \n  function handleClick(event) {\n    setCurrentPage(Number(event.target.id));\n  };\n  \n  function handlePrevBtn() {\n    setCurrentPage(currentPage - 1);\n  };\n  \n  function handleNextBtn() {\n    setCurrentPage(currentPage + 1);\n  };\n\n  function handleQuizEdit(quiz) {\n    localStorage.setItem('quiz', JSON.stringify(quiz));\n    setRedirect(true);\n  };\n\n  async function handleQuizDelete(quiz, e) {\n    e.stopPropagation();\n    e.preventDefault();\n    const { data } = await deleteQuiz({\n      variables: { quizId: quiz._id }\n    });\n    if(data) {\n      refetch()\n    }\n  };\n\n  if (loading) {\n    return (\n        <div className=\"flex justify-center items-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n        </div>\n    )\n  }\n  \n  if (redirect) {\n    return <Redirect to=\"/creator\" />;\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-lg mb-5 font-semibold\">Your Quizzes</h2>\n      {quizData.length\n        ? (<div>\n          <span>{`You have ${quizData.length} Saved Quizzes`}</span>\n          <div className=\"mt-5 flex flex-col space-y-2 container\">\n            {renderData(currentItems)}\n            <div className='flex justify-center items-center'>\n              <ul className='flex flex-wrap list-none'>\n                <li key='prevbtn' className='p-1'>\n                  <button\n                    onClick={handlePrevBtn}\n                    disabled={currentPage == pages[0] ? true : false}\n                  >\n                    <FontAwesomeIcon icon={faChevronLeft} />\n                  </button>\n                </li>\n                {quizData.length > 6 ? renderPageNumbers : null}\n                <li key='nextbtn' className='p-1'>\n                  <button\n                    onClick={handleNextBtn}\n                    disabled={currentPage == pages[pages.length - 1] ? true : false}\n                  >\n                    <FontAwesomeIcon icon={faChevronRight} />\n                  </button>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>)\n        : <p className='italic'>You have no saved quizzes...</p>}\n    </div>\n  )\n};\n","import { useQuery } from \"@apollo/client\"\nimport { GET_ME } from \"../../utils/queries\"\nimport { Link } from \"react-router-dom\"\n\nexport default function RecentlyTaken() {\n    const { data, loading, error } = useQuery(GET_ME)\n\n    if (loading) {\n        return (\n            <div className=\"flex justify-center items-center\">\n                <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n            </div>\n        )\n    }\n\n    if (error) {\n        return (\n            <span>Error</span>\n        )\n    }\n\n    return (\n        <div>\n            {data.me.recentlyTaken.length ?\n                <div>\n                    {data.me.recentlyTaken.map(quiz => {\n                        return (\n                            <div className=\"my-2\">\n                                <Link to={`/quiz/${quiz._id}`}>\n                                    <div className=\"bg-theme-main hover:bg-theme-darkest transition duration-200 flex justify-between rounded p-1\">\n                                        <p>{quiz.title}</p>\n                                        <p className=\"text-md font-normal\">{quiz.author}</p>\n                                    </div>\n                                </Link>\n\n                            </div>\n                        )\n                    })}\n                </div>\n                : <span className='italic font-normal'>No quizzes taken!</span>}\n        </div>\n    )\n}","import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\n\nimport TopUsersList from '../../components/TopUsersList';\nimport TopQuizzesList from \"../../components/TopQuizzesList\"\nimport SearchResults from '../../components/SearchResults';\nimport Auth from '../../utils/auth';\nimport QuizList from '../../components/QuizList';\nimport RecentlyTaken from '../../components/RecentlyTaken';\n\n\nexport default function Dashboard() {\n  const [searchInput, setSearchInput] = useState('');\n\n  let token = localStorage.getItem('id_token');\n  \n  if (!token) {\n    return <Redirect to='/' />\n  };\n\n  return (\n    <div className='min-h-screen flex md:pt-16 justify-center '>\n      <div className='h-auto w-full md:h-eightyvh m-2 md:m-5 grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4'>\n        <div className='text-center h-full space-y-4 mt-20 md:mt-0'>\n          <form className='h-10 md:h-ten'>\n            <input \n              value={searchInput}\n              onChange={(e) => {\n                setSearchInput(e.target.value);\n              }}\n              type='text'\n              className='w-full bg-theme-aliceblue hover:bg-gray-200 placeholder-gray-500 placeholder-opacity-70 transition duration-200 shadow-lg p-3 rounded'\n              placeholder='Search for topics!'\n            />\n          </form>\n          {!(searchInput === \"\") ? <SearchResults input={searchInput} /> : (\n            <div className='h-2/3 md:h-ninety p-5 shadow-2xl bg-theme-bluegray text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\n              <TopQuizzesList />\n            </div>\n          )}\n        </div>\n        <div className='flex flex-wrap space-y-0 md:space-y-4 text-xs lg:text-sm text-center'>\n          <div className='h-ten justify-between w-full flex lg:w-full mb-3 md:mb-0 md:pt-0 md:mt-0 gap-3'>\n            <div className='w-full'>\n              <Link to='/search'>\n                <button className='p-3 h-10 md:h-16 bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg'>\n                    <p>\n                      Advanced Search\n                    </p>\n                </button>\n              </Link>\n            </div>\n            <div className='w-full'>\n              <Link to='/creator'>\n                <button className='p-3 h-10 md:h-16 bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg'>\n                  <p>\n                    Create a quiz\n                  </p>\n                </button>\n              </Link>\n            </div>\n            <div className='w-full'>\n              <Link to='/' onClick={Auth.logout}>\n                <button className='p-3 h-10 md:h-16 bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg'>\n                  <p>\n                    Log out\n                  </p>\n                </button>\n              </Link>\n            </div>\n          </div>\n          <div className='grid md:h-ninety shadow-2xl p-5 flex-grow bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\n          <QuizList />\n          </div>\n        </div>\n        <div className='text-center space-y-4'>\n        <div className=\"hidden md:grid h-auto shadow-2xl text-sm md:text-lg overflow-y-auto md:h-1/2 p-5 bg-theme-bluegray font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main\">\n            Recently Taken\n            <RecentlyTaken />\n        </div>\n          <div className='hidden md:grid h-1/2 p-5 shadow-2xl bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\n            Top Users\n            <TopUsersList />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons';\n\nexport default function Alert({ hideFunction, message }) {\n  return (\n    <div>\n      <div className=\"text-white flex px-6 py-4 border-0 rounded relative mb-4 bg-red-700\">\n        <span className=\"text-xl inline-block mr-5 align-middle\">\n          <FontAwesomeIcon icon={faExclamation} />\n        </span>\n        <span className=\"inline-block align-middle mr-8\">\n          <b className=\"capitalize\">Failed: </b> {message}\n        </span>\n        <button onClick={hideFunction} className=\"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none\">\n          <span>×</span>\n        </button>\n      </div>\n    </div>\n  )\n};\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from \"react-router\";\nimport { useMutation } from '@apollo/client';\nimport { CREATE_QUIZ } from '../../utils/mutations';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { Hint } from 'react-autocomplete-hint';\n\nimport Alert from '../../components/Alert';\n\nexport default function QuizCreator() {\n  const [createQuiz, {error}] = useMutation(CREATE_QUIZ);\n\n  const [alert, setAlert] = useState({show: false, message:\"\"})\n\n  const baseQuiz = {\n    title: \"\",\n    description: \"\",\n    tags: [],\n    questions: []\n  };\n\n  const baseQuestion = {\n    questionText: \"\",\n    answers: [],\n    index: 0\n  };\n\n  const baseAnswer = {\n    answerText: \"\",\n    isCorrect: false,\n    index: 0\n  };\n\n  const tags = [\n    \"Programming\",\n    \"Javascript\",\n    \"Node\",\n    \"MySQL\",\n    \"CSS\",\n    \"React\",\n    \"MongoDB\",\n    \"WebDev\",\n    \"HTML\",\n    \"Movies\",\n    \"Television\",\n    \"Math\",\n    \"History\",\n    \"Science\",\n    \"Geography\"\n  ]\n\n  const loadedQuiz = localStorage.getItem('quiz')\n    ? JSON.parse(localStorage.getItem('quiz'))\n    : baseQuiz;\n\n  if (loadedQuiz.__typename) {\n    delete loadedQuiz.__typename;\n    loadedQuiz.questions.map((question) => {\n      delete question.__typename;\n      question.answers.map((answer) => {\n        delete answer.__typename;\n        return answer;\n      });\n      return question;\n    });\n  };\n\n  if (loadedQuiz._id || loadedQuiz.author) {\n    delete loadedQuiz._id;\n    delete loadedQuiz.author;\n    delete loadedQuiz.takers;\n  };\n\n  if(loadedQuiz.createdAt) {\n    delete loadedQuiz.createdAt\n  }\n\n  if(loadedQuiz.scores) {\n    delete loadedQuiz.scores\n  }\n\n  if(!loadedQuiz.tags) {\n    loadedQuiz.tags = []\n  }\n\n  useEffect(() => {\n    if(error) {\n      setAlert({show: true, message: error.message})\n    }\n  }, [error])\n\n  const [quiz, setQuiz] = useState(loadedQuiz);\n\n  const [currentQuestion, setCurrentQuestion] = useState({});\n\n  const [currentAnswer, setCurrentAnswer] = useState({});\n\n  const [tagText, setTagText] = useState(\"\")\n\n  const [redirect, setRedirect] = useState(false);\n\n  function addQuestion() {\n    if(currentAnswer.answerText) {\n      updateAnswer();\n    }\n    updateQuestion()\n    const newQuestionList = quiz.questions;\n    if(newQuestionList.length < 30) {\n      const newQuestion = baseQuestion;\n      newQuestion.index = quiz.questions.length + 1;\n      newQuestionList.push(baseQuestion);\n      setQuiz({ ...quiz, questions: newQuestionList });\n      setCurrentAnswer({})\n      setCurrentQuestion(newQuestion)\n      setTimeout(() => {\n        const questionInput = document.querySelector(\"#questionInput\")\n        if(questionInput) {\n          questionInput.focus()\n        }\n      }, 100)\n    }\n    else {\n      setAlert({show: true, message: \"Max of 30 questions!\"})\n    }\n  };\n\n  function addAnswer() {\n    updateAnswer()\n    const newAnswerList = currentQuestion.answers;\n    if(newAnswerList.length < 10) {\n      const newAnswer = baseAnswer;\n      newAnswer.index = currentQuestion.answers.length + 1;\n      if (newAnswer.index === 1) {\n        newAnswer.isCorrect = true;\n      };\n      newAnswerList.push(newAnswer);\n      setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\n      setCurrentAnswer(newAnswer)\n      updateQuestion()\n      setTimeout(() => {\n        const answerInput = document.querySelector(\"#answerInput\")\n        if(answerInput) {\n          answerInput.focus()\n        }\n      }, 100)\n    }\n    else {\n      setAlert({show: true, message: \"Max of 10 answers per question!\"})\n    }\n  };\n\n  function updateQuestion() {\n    const newQuestionList = quiz.questions;\n    newQuestionList[currentQuestion.index - 1] = currentQuestion;\n    setQuiz({ ...quiz, questions: newQuestionList });\n    localStorage.setItem('quiz', JSON.stringify(quiz));\n  };\n\n  function updateAnswer() {\n    const newAnswerList = currentQuestion.answers;\n    newAnswerList[currentAnswer.index - 1] = currentAnswer;\n    setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\n  };\n\n  function handleQuestionInput(value) {\n    setCurrentQuestion({ ...currentQuestion, questionText: value })\n\n  }\n\n  function handleQuestionChange(question) {\n    if(currentAnswer.answerText) {\n      updateAnswer()\n    }\n    updateQuestion();\n    setCurrentQuestion(question);\n    setCurrentAnswer({});\n    setTimeout(() => {\n      const questionInput = document.querySelector(\"#questionInput\")\n      if(questionInput) {\n        questionInput.focus()\n      }\n    }, 100)\n  };\n\n  function handleAnswerChange(answer) {\n    updateAnswer();\n    updateQuestion();\n    setCurrentAnswer(answer);\n    setTimeout(() => {\n      const answerInput = document.querySelector(\"#answerInput\")\n      if(answerInput) {\n        answerInput.focus()\n      }\n    }, 100)\n  };\n\n  function handleQuestionDelete(question, e) {\n    e.stopPropagation();\n    if(currentAnswer.answerText) {\n      updateAnswer();\n    }\n    updateQuestion();\n    if (question.index === currentQuestion.index) {\n      setCurrentQuestion({});\n      setCurrentAnswer({});\n    };\n\n    const newQuestionList = quiz.questions;\n    const delIndex = newQuestionList.indexOf(question);\n    newQuestionList.splice(delIndex, 1);\n    newQuestionList.forEach((question, index) => {\n      question.index = (index + 1);\n    });\n    setQuiz({ ...quiz, questions: newQuestionList });\n  };\n\n  function handleAnswerDelete(answer, e) {\n    e.stopPropagation();\n    updateAnswer();\n    if (answer.index === currentAnswer.index) {\n      setCurrentAnswer({});\n    };\n    const newAnswerList = currentQuestion.answers;\n    const delIndex = newAnswerList.indexOf(answer);\n    newAnswerList.splice(delIndex, 1);\n    newAnswerList.forEach((answer, index) => {\n      answer.index = (index + 1);\n    })\n    if (answer.isCorrect && newAnswerList.length) {\n      newAnswerList[0].isCorrect = true;\n    }\n    setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\n  }\n\n  function handleCorrectChange(correctAnswer, e) {\n    e.stopPropagation();\n    const newAnswerList = currentQuestion.answers.map((answer) => {\n      if (answer === correctAnswer) {\n        answer.isCorrect = true;\n      }\n      else {\n        answer.isCorrect = false;\n      }\n      return answer;\n    })\n    console.log(newAnswerList);\n    setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\n\n  }\n\n  function handleQuizValidate() {\n    if(currentAnswer.answerText) {\n      updateAnswer();\n    }\n    updateQuestion();\n    let valid = true\n    if(!quiz.title) {\n      valid = false;\n      setAlert({show: true, message: \"You need a title!\"})\n    }\n    if(!(quiz.description.length >= 10)) {\n      valid = false;\n      setAlert({show: true, message: \"You need a Description of at least 10 characters!\"})\n    }\n    if(!(quiz.questions.length >= 3)) {\n      valid = false;\n      setAlert({show: true, message: \"You need at least 3 questions!\"})\n    }\n    if(!quiz.tags.length) {\n      valid = false;\n      setAlert({show: true, message: \"At least 1 tag is required!\"})\n    }\n    quiz.questions.forEach(question => {\n      if(!(question.answers.length >= 2)) {\n        valid= false;\n        setAlert({show: true, message: \"Each question must have at least 2 answers!\"})\n      }\n      if(!question.questionText) {\n        valid= false;\n        setAlert({show: true, message: \"Questions are missing text!\"})\n      }\n      question.answers.forEach(answer => {\n        if(!answer.answerText) {\n          valid= false;\n          setAlert({show: true, message: \"Answers are missing text!\"})\n        }\n      })\n    })\n    if(valid) {\n      handleQuizCreate()\n    }\n  }\n\n  function deleteTag(tag) {\n    const newTags = quiz.tags\n    const delIndex = newTags.indexOf(tag)\n    newTags.splice(delIndex, 1)\n    setQuiz({...quiz, tags: newTags})\n  }\n\n  function handleTagSubmit() {\n    const newTags = quiz.tags\n    if(newTags.length < 5) {\n      if(tagText.length < 13) {\n        newTags.push(tagText)\n        setQuiz({...quiz, tags: newTags})\n      }\n      else {\n        setAlert({show: true, message:\"Maximum tag length is 12 characters!\"})\n      }\n    }\n    else {\n      setAlert({show: true, message:\"Maximum allowed tags is 5!\"})\n    }\n    setTagText(\"\")\n  }\n\n  function handleTagInputEnter(e) {\n    if(e.key === \"Enter\") {\n      handleTagSubmit()\n    }\n  }\n\n  async function handleQuizCreate() {\n    const { data } = await createQuiz({\n      variables: { input: quiz }\n    })\n    if (data) {\n      setCurrentQuestion({});\n      setCurrentAnswer({});\n      setQuiz(baseQuiz);\n      if (localStorage.getItem('quiz')) {\n        localStorage.removeItem('quiz');\n      }\n      setRedirect(true);\n    }\n  }\n\n  let token = localStorage.getItem('id_token');\n\n  if (!token) {\n    return <Redirect to='/' />;\n  };\n\n  if (redirect) {\n    return <Redirect to=\"/home/reload\" />;\n  };\n\n  return (\n    <div className='min-h-screen flex '>\n      <div className=\"bg-theme-bluegray border-2 md:border-4 border-theme-main mt-20 w-full rounded shadow-lg p-5 m-5\">\n        <div className='mb-3 md:flex md:justify-between'>\n          <h1 className=\"text-2xl font-bold font-title text-center md:text-right mb-3\">Quiz Creator</h1>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 mt-2 gap-3 text-theme-aliceblue\">\n\n          {/* Questions List */}\n\n          <div className=\"bg-theme-main rounded-lg p-3\">\n            <h2 className=\"text-lg font-bold mb-4 text-center\">Question List</h2>\n            <div className=\"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3\">\n              <div className=\"space-y-2 flex flex-col\">\n                {quiz.questions.length ? quiz.questions.map((question) => {\n                  return (\n                    <div onClick={() => handleQuestionChange(question)} className={`flex flex-row justify-between container ${currentQuestion.index === question.index ? \"bg-theme-berrydarker shadow-md\" : \"bg-theme-berry hover:bg-theme-berrydark\"} rounded p-2 transition duration-200`} key={question.index}>\n                      <span><strong>{question.index}. ) </strong>{question.questionText}</span>\n                      <div onClick={(e) => handleQuestionDelete(question, e)} className=\"px-1 transition duration-100 hover:text-red-700 cursor-pointer\">\n                        <span><FontAwesomeIcon icon={faTimes} /></span>\n                      </div>\n                    </div>\n                  )\n                }) : <p className='text-center italic'>Add questions by clicking the button below</p>}\n              </div>\n              <button className=\"mt-4 w-full rounded py-1 font-semibold hover:bg-green-700 bg-green-500 transition duration-200\" onClick={() => addQuestion()}>\n                <FontAwesomeIcon icon={faPlus}/> Question\n              </button>\n            </div>\n          </div>\n\n          {/* Question Editor */}\n\n          <div className=\"bg-theme-main rounded-lg p-3\">\n            <h2 className=\"text-lg font-bold mb-4 text-center\">Question Editor</h2>\n            {currentQuestion.index ? (\n              <>\n                  <form>\n                    <textarea id=\"questionInput\" className=\"hover:bg-gray-200 transition duration-200 text-black w-full rounded p-1\" type=\"text\" value={currentQuestion.questionText} placeholder=\"Make sure the correct answer is selected...\" onChange={(e) => handleQuestionInput(e.target.value)}/>\n                  </form>\n\n              {/* Answers List */}\n\n                <div className=\"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3\">\n                    <span className=\"font-semibold text-lg\">Answers</span>\n                    <div className=\"space-y-2\">\n                      {currentQuestion.answers.map((answer, index) => {\n                        return (\n                          <div onClick={() => handleAnswerChange(answer)} className={`flex flex-row justify-between container rounded ${currentAnswer.index === answer.index ? \"bg-theme-berrydarker shadow-md\" : \"bg-theme-berry hover:bg-theme-berrydark\"} transition duration-200 p-2`} key={index}>\n                            <span><strong>{answer.index}. </strong>{answer.answerText}</span>\n                            <div className=\"flex\">\n                              <div className=\"px-3\">\n                                <input checked={answer.isCorrect} onChange={(e) => handleCorrectChange(answer, e)} type=\"checkbox\" />\n                              </div>\n                              <div onClick={(e) => handleAnswerDelete(answer, e)} className=\"px-1 transition duration-100 hover:text-red-700 cursor-pointer\">\n                                <span><FontAwesomeIcon icon={faTimes} /></span>\n                              </div>\n                            </div>\n                          </div>\n                        )\n                      })}\n                    </div>\n\n                    <button onClick={() => addAnswer()} className=\"mx-auto hover:bg-green-700 bg-green-500 py-1 font-semibold rounded w-full mt-2 transition duration-200\">\n                      <FontAwesomeIcon icon={faPlus}/>  Answer\n                    </button>\n\n                </div>\n              </>\n            ) : (\n              <p className='text-center italic'>Select a question to edit</p>\n            )}\n\n\n\n          </div>\n\n          {/* Answer Editor */}\n\n          <div className=\"bg-theme-main rounded-lg p-3\">\n            <h2 className=\"text-lg font-bold mb-4 text-center\">Answer Editor</h2>\n            {currentAnswer.index ? (\n              <>\n                <div className=\"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3\">\n                  <form>\n                    <textarea id=\"answerInput\" className=\"hover:bg-gray-200 transition duration-200 text-black w-full rounded p-1\" type=\"text\" value={currentAnswer.answerText} placeholder=\"Answer\" onChange={(e) => setCurrentAnswer({ ...currentAnswer, answerText: e.target.value })} />\n                  </form>\n                </div>\n              </>\n            ) : (\n              <p className='text-center italic'>Select an answer to edit</p>\n            )}\n          </div>\n        </div>\n\n\n        <div className=\"flex flex-wrap justify-center mt-8 gap-3 lg:gap-10\">\n        <div>\n          <input className=\"hover:bg-gray-200 transition duration-200 bg-theme-aliceblue w-full md:w-96 rounded-lg\" type=\"text\" value={quiz.title} placeholder=\"Enter a title...\" onChange={(e) => setQuiz({ ...quiz, title: e.target.value })} />\n        </div>\n          <div>\n           <input className=\"hover:bg-gray-200 transition duration-200 bg-theme-aliceblue w-full md:w-96 rounded-lg\" type=\"text\" value={quiz.description} placeholder=\"Enter a description...\" onChange={(e) => setQuiz({ ...quiz, description: e.target.value })} />\n          </div>\n          <div className=\"justify-center\">\n          <Hint options={tags} allowTabFill>\n            <input className=\"hover:bg-gray-200 transition duration-200 bg-theme-aliceblue w-full md:w-96 rounded-lg\"\n              value={tagText}\n              type=\"text\"\n              placeholder=\"Add tags...\"\n              onChange={e => setTagText(e.target.value)}\n              onKeyDown={e => handleTagInputEnter(e)}\n            />\n          </Hint>\n          {quiz.tags.length ? \n          <div className=\"grid grid-cols-3 w-full gap-2 mt-3 flex-grow-0\">\n            {quiz.tags.map(tag => {\n              return(\n                <div className=\"p-1 rounded-xl text-sm bg-yellow-300 flex justify-between\">\n                <span className=\"overflow-x-hidden max-w-sm\">{tag}</span>\n                <div onClick={() => deleteTag(tag)} className=\"transition duration-100 hover:text-red-700 cursor-pointer px-1\">\n                  <span><FontAwesomeIcon icon={faTimes} /></span>\n                </div>\n                </div>\n              )\n            })}\n          </div>\n          : null}\n          </div>\n        </div>\n        <div className=\"text-center\">\n          <button disabled={quiz.questions.length < 3 ? true : false} onClick={() => handleQuizValidate()} className={`rounded ${quiz.questions.length >= 3 ? \"bg-green-500 hover:bg-green-700\" : \"bg-gray-500\"} mx-auto font-bold text-lg mt-10 py-3 px-20 transition duration-200`}>Create Quiz</button>\n        </div>\n        {alert.show ?\n        <div className=\"mt-8\">\n          <Alert message={alert.message} hideFunction={() => setAlert({show: false, message:\"\"})} />\n        </div>\n        : null}\n      </div>\n    </div>\n  )\n}","import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { useParams } from \"react-router-dom\";\nimport { Redirect } from \"react-router\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTag } from '@fortawesome/free-solid-svg-icons';\nimport Auth from \"../../utils/auth\";\n\nimport { GET_QUIZ } from \"../../utils/queries\";\nimport { SUBMIT_QUIZ } from \"../../utils/mutations\";\n\nimport Alert from \"../../components/Alert\"\n\nexport default function Quiz() {\n\n  const [currentQuestion, setCurrentQuestion] = useState({});\n\n  const [answers, setAnswers] = useState([]);\n\n  const [grades, setGrades] = useState({percentage: 0, results: []})\n\n  const [alert, setAlert] = useState({show: false, message:\"\"})\n\n  const [started, setStarted] = useState(false)\n\n  const [redirect, setRedirect] = useState(false)\n\n  const [submitQuiz] = useMutation(SUBMIT_QUIZ)\n\n  const { id } = useParams();\n\n  const { loading, data, error } = useQuery(GET_QUIZ, {\n    variables: { quizId: id }\n  });\n\n  useEffect(() => {\n    setCurrentQuestion(data ? data.quiz.questions[0] : {});\n    if (!answers.length && data) {\n      const answerList = data.quiz.questions.map(question => {\n        return ({ chosenAnswer: 0, questionIndex: question.index });\n      })\n      setAnswers(answerList);\n    }\n  }, [data]);\n\n  function nextQuestion() {\n    if (currentQuestion.index < data.quiz.questions.length) {\n      const nextQuestion = data.quiz.questions[currentQuestion.index];\n      setCurrentQuestion(nextQuestion);\n    };\n  };\n\n  function prevQuestion() {\n    if (currentQuestion.index > 1) {\n      const newIndex = (currentQuestion.index - 1);\n      const prevQuestion = data.quiz.questions[newIndex - 1];\n      setCurrentQuestion(prevQuestion);\n    }\n  }\n\n  function useForceUpdate() {\n    const [value, setValue] = useState(0); // integer state\n    return () => setValue(value => value + 1); // update the state to force render\n  }\n\n  const forceUpdate = useForceUpdate();\n\n  function checkAnswer(question, answer) {\n      let newAnswers = answers;\n      newAnswers[question.index - 1].chosenAnswer = answer.index;\n      setAnswers(newAnswers);\n      forceUpdate();\n  };\n\n  function getChosenAnswer(questionIndex) {\n      const chosenIndex = answers.find(answer => answer.questionIndex === questionIndex).chosenAnswer\n      return data.quiz.questions[questionIndex - 1].answers[chosenIndex - 1]?.answerText\n  }\n\n  function gradeColor(percentage) {\n    if(percentage == 1) {\n      return \"text-theme-magenta\"\n    }\n    else if(percentage >= 0.85) {\n      return \"text-green-500\"\n    }\n    else if (percentage >= 0.7) {\n      return \"text-yellow-300\"\n    }\n    else if (percentage >= 0.6) {\n      return \"text-yellow-600\"\n    }\n    else {\n      return \"text-red-700\"\n    }\n  }\n\n  async function gradeQuiz() {\n      let valid = true\n      answers.forEach(answer => {\n          if(answer.chosenAnswer === 0) {\n              valid = false\n          }\n      })\n      if(valid) {\n          const { data } = await submitQuiz({\n              variables: {quizId: id, answers: answers}\n          })\n          setGrades(data.submitQuiz)\n      }\n      else {\n          setAlert({show: true, message: \"You have unanswered questions!\"})\n      }\n  }\n\n  function handleQuizEdit() {\n    localStorage.setItem('quiz', JSON.stringify(data?.quiz));\n    setRedirect(true);\n  };\n\n  function Answers({ question, answersList }) {\n    if (question.answers) {\n      const questionList = question.answers.map((answer) => {\n        return (\n          <div className=\"w-full flex justify-center\" key={`${question.index}${answer.index}`}>\n            <div onClick={() => checkAnswer(question, answer)} className={`w-3/4 p-2 rounded transition duration-200 ${answersList[question.index - 1]?.chosenAnswer === answer.index ? \"bg-yellow-500\" : \"bg-yellow-200 hover:bg-yellow-400\"}`}>\n              <span><span className=\"font-semibold mr-3\">{answer.index}.) </span>{answer.answerText}</span>\n            </div>\n          </div>\n        )\n      })\n      return (\n        <div className=\"space-y-3\">\n          {questionList}\n        </div>\n      );\n    };\n    return (\n      <p>No Answers</p>\n    );\n  };\n\n  if (redirect) {\n    return <Redirect to=\"/creator\" />;\n  };\n\n  if (loading) {\n    return (\n      <div className='min-h-screen items-center justify-center flex '>\n        <div className=\" flex justify-center items-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n        </div>\n      </div>\n    );\n  };\n\n  if (error) {\n    return (\n      <div className='min-h-screen items-center justify-center flex '>\n        <div className=\"p-10 rounded bg-red-400\">\n          <span className=\"text-3xl font-bold\">Quiz ID not Found</span>\n        </div>\n      </div>\n    );\n  };\n\n\n\n  return (\n    <div className='items-center justify-center flex'>\n      <div className=\"rounded mt-36 w-full shadow-lg p-5 bg-theme-main mx-1 md:mx-0 md:w-10/12\">\n      <div className=\"md:flex md:justify-between\">\n        <h3 className=\"text-4xl text-white font-main\">{data.quiz.title}</h3>\n        {data.quiz.tags && !started ? \n          <div className=\"grid grid-cols-3 md:w-2/6 gap-2 mt-3 mb-5 md:mb-0 flex-grow-0\">\n            {data.quiz.tags.map(tag => {\n              return(\n                <div className=\"p-1 rounded-xl text-sm bg-theme-berry text-white flex justify-between\">\n                <span className=\"overflow-x-hidden max-w-sm\">{tag}</span>\n                <span><FontAwesomeIcon icon={faTag} /></span>\n                </div>\n              )\n            })}\n          </div>\n        : null}\n\n      </div>\n        {!started && data ?\n        <div className=\"w-full mx-auto\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 px-5 md:gap-5\">\n        <div className=\"w-full md:my-10 mx-auto p-3 bg-theme-bluegray rounded-lg\">\n            <h2 className=\"text-xl font-bold text-white underline\">Description</h2>\n            <p className=\"mx-3 py-3\">{data.quiz.description}</p>\n        </div>\n            <div className=\"w-full my-10 mx-auto p-3 bg-theme-bluegray rounded-lg\">\n                <h2 className=\"text-xl text-white font-bold underline\">Recent Scores</h2>\n                {data.quiz.scores.map(score => {\n                    return (\n                        <div className=\"flex justify-between my-2 w-5/6 md:w-1/2 px-2 rounded bg-theme-aliceblue mx-auto\">\n                            <span className=\"text-lg font-semibold\">{score.username}</span>\n                            <span className={`text-lg font-semibold ${gradeColor(score.percent)}`}>{(score.percent * 100).toFixed()}%</span>\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n            <div className=\"text-center\">\n                <button className=\"py-2 px-8 bg-green-500 hover:bg-green-700 transition duration-200 rounded center\" onClick={() => setStarted(true)}>Start Quiz</button>\n                {data.quiz.author === Auth.getProfile().data.username ?\n                <button className=\"py-2 px-8 bg-theme-berry hover:bg-theme-berrydark ml-5 transition duration-200 rounded center\" onClick={() => handleQuizEdit()}>Copy and Edit</button>\n                : null\n                }\n            </div>\n        </div>\n        : null\n        }\n        {!grades.results.length && started\n        ? \n        <div className=\"mt-10\">\n        <div className=\"container rounded bg-theme-aliceblue p-5 mb-8\">\n          <span>{currentQuestion.questionText}</span>\n        </div>\n          <Answers question={currentQuestion} answersList={answers} />\n          <div className=\"mt-10 items-center justify-center flex space-x-5\">\n          {currentQuestion.index !== 1 ?\n            <button className=\"p-2 rounded bg-theme-berry hover:bg-theme-berrydark transition duration-200\" onClick={() => prevQuestion()}>Back</button>\n            : null\n          }\n          {currentQuestion.index !== data.quiz.questions.length ?\n            <button className=\"p-2 rounded bg-theme-berry hover:bg-theme-berrydark transition duration-200\" onClick={() => nextQuestion()}>Next Question</button>\n          : <button onClick={() => gradeQuiz()} className=\"p-2 rounded bg-green-400 hover:bg-green-600 transition duration-200\">Submit Quiz</button>\n          }\n          </div>\n          <div className=\"w-full text-right\">\n            <span className=\"pt-5 pr-2 text-white\">{currentQuestion.index}/{data.quiz.questions.length}</span>\n          </div>\n        </div>\n        : null}\n        {grades.results.length ? \n        <div className=\"space-y-2 mt-5\">\n        <div className=\"text-center mb-5\">\n            <span className=\"text-3xl text-white\">You scored <span className={`font-semibold ${gradeColor(grades.percentage)}`}>{(grades.percentage*100).toFixed()}</span>%</span>\n        </div>\n        <div className=\"space-y-3 py-5\">\n            {grades.results.map(grade => {\n                return (\n                    <div className={`p-2 flex justify-between rounded ${grade.correct ? \"bg-green-400\" : \"bg-red-600\"}`}>\n                        <span>{data.quiz.questions[grade.questionIndex - 1].questionText}</span>\n                        <span>Your Answer: {getChosenAnswer(grade.questionIndex)}</span>\n                    </div>\n                )\n            })}\n\n        </div>\n        </div>\n        : null\n        }\n        {alert.show ?\n        <div className=\"mt-5\">\n            <Alert message={alert.message} hideFunction={() => setAlert({show: false, message: \"\"})} />\n        </div>\n        : null}\n        {!started ? \n        <div className=\"text-right mt-5 text-gray-900\">\n          <span>Created By: {data.quiz.author} on {data.quiz.createdAt}</span>\n        </div>\n        : null\n        }\n      </div>\n    </div>\n  );\n};","const addDateSuffix = (date) => {\n  let dateStr = date.toString();\n\n  // get last char of date string\n  const lastChar = dateStr.charAt(dateStr.length - 1);\n\n  if (lastChar === '1' && dateStr !== '11') {\n    dateStr = `${dateStr}st`;\n  } else if (lastChar === '2' && dateStr !== '12') {\n    dateStr = `${dateStr}nd`;\n  } else if (lastChar === '3' && dateStr !== '13') {\n    dateStr = `${dateStr}rd`;\n  } else {\n    dateStr = `${dateStr}th`;\n  }\n\n  return dateStr;\n};\n\n// function to format a timestamp, accepts the timestamp and an `options` object as parameters\nexport default function dateFormat (\n  timestamp,\n  { monthLength = 'short', dateSuffix = true } = {}\n) {\n  // create month object\n  const months = {\n    0: monthLength === 'short' ? 'Jan' : 'January',\n    1: monthLength === 'short' ? 'Feb' : 'February',\n    2: monthLength === 'short' ? 'Mar' : 'March',\n    3: monthLength === 'short' ? 'Apr' : 'April',\n    4: monthLength === 'short' ? 'May' : 'May',\n    5: monthLength === 'short' ? 'Jun' : 'June',\n    6: monthLength === 'short' ? 'Jul' : 'July',\n    7: monthLength === 'short' ? 'Aug' : 'August',\n    8: monthLength === 'short' ? 'Sep' : 'September',\n    9: monthLength === 'short' ? 'Oct' : 'October',\n    10: monthLength === 'short' ? 'Nov' : 'November',\n    11: monthLength === 'short' ? 'Dec' : 'December',\n  };\n\n  const dateObj = new Date(parseInt(timestamp, 10));\n  const formattedMonth = months[dateObj.getMonth()];\n\n  const dayOfMonth = dateSuffix\n    ? addDateSuffix(dateObj.getDate())\n    : dateObj.getDate();\n\n  const year = dateObj.getFullYear();\n  let hour =\n    dateObj.getHours() > 12\n      ? Math.floor(dateObj.getHours() - 12)\n      : dateObj.getHours();\n\n  // if hour is 0 (12:00am), change it to 12\n  if (hour === 0) {\n    hour = 12;\n  }\n\n  const minutes = (dateObj.getMinutes() < 10 ? '0' : '') + dateObj.getMinutes();\n\n  // set `am` or `pm`\n  const periodOfDay = dateObj.getHours() >= 12 ? 'pm' : 'am';\n\n  const formattedTimeStamp = `${formattedMonth} ${dayOfMonth}, ${year}`;\n\n  return formattedTimeStamp;\n};\n","import { useState } from \"react\"\nimport { useQuery } from \"@apollo/client\"\nimport { Link } from \"react-router-dom\"\nimport { DEEP_SEARCH } from \"../../utils/queries\"\nimport { Hint } from 'react-autocomplete-hint';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\nimport dateFormat from \"../../utils/dateFormat\";\n\nimport Alert from '../../components/Alert';\n\nexport default function SearchPage() {\n\n  const [search, setSearch] = useState({ title: \"\", author: \"\", tags: [] })\n  const [tagText, setTagText] = useState(\"\")\n  const [input, setInput] = useState({})\n\n  const [alert, setAlert] = useState({ show: false, message: \"\" })\n\n  async function handleSearchSubmit() {\n    setInput(search)\n  }\n    \n    function TagsList({tags, deletable}) {\n        return(\n            <div className=\"grid grid-cols-3 w-full gap-2 flex-grow-0\">\n            {tags.length ? tags.map(tag => {\n                return (\n                    <div className=\"p-1 overflow-x-hidden max-w-sm rounded-xl h-7 text-sm bg-theme-berry text-white flex justify-between\">\n                        <span className=\"max-w-sm\">{tag}</span>\n                        {deletable ?\n                        <div onClick={() => deleteTag(tag)} className=\"transition duration-100 hover:text-red-700 cursor-pointer px-1\">\n                            <span><FontAwesomeIcon icon={faTimes} /></span>\n                        </div>\n                        : null\n                        }\n                    </div>\n                )\n            }) : null}\n        </div>\n         )\n        }\n\n  function SearchResults() {\n    const renderData = (data) => {\n      return (\n        <>\n          {data.map(result => {\n            return (\n              <div className=\"rounded w-full p-3 bg-theme-darker lg:flex space-y-4 lg:space-y-0 justify-between\">\n                <div className=\"w-1/2\">\n                  <p className=\"text-xl font-semibold text-white\">{result.title}<span className=\"text-black ml-1 text-sm font-normal\"> -{result.author}</span></p>\n                  <p className=\"text-xs mt-3\">Created {dateFormat(result.createdAt)}</p>\n                </div>\n                <div className=\"container rounded bg-theme-aliceblue p-3 w-full\">\n                  <span>{result.description}</span>\n                </div>\n                <div className=\"w-3/4 px-5\">\n                  <TagsList tags={result.tags} deletable={false} />\n                </div>\n                <div className=\"w-2/6 flex items-center justify-center\">\n                  <Link to={`/quiz/${result._id}`}>\n                    <button className=\"p-2 rounded bg-green-400 hover:bg-green-600 transition duration-200\">Go to Quiz</button>\n                  </Link>\n                </div>\n              </div>\n            )\n          })}\n        </>\n      )\n    };\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const [itemsPerPage] = useState(8);\n\n    const pages = [];\n    const indexOfLastItem = currentPage * itemsPerPage;\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n\n    const { loading, data, error } = useQuery(DEEP_SEARCH, {\n      variables: {\n        input: {\n          ...input\n        }\n      }\n    });\n\n    let deepSearchData = data?.deepSearch || [];\n\n    for (let i = 0; i < Math.ceil(deepSearchData.length/itemsPerPage); i++) {\n      pages.push(i + 1);\n    };\n\n    const currentItems = deepSearchData.slice(indexOfFirstItem, indexOfLastItem);\n\n    const renderPageNumbers = pages.map(n => {\n      return (\n        <div className='cursor-pointer'>\n          <li \n            className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\n            style={{\n              padding: '0.25rem'\n            }}\n            key={n} \n            id={n}\n            onClick={handleClick}\n          >\n            {n}\n          </li>\n        </div>\n      );\n    });\n\n    function handleClick(event) {\n      setCurrentPage(Number(event.target.id));\n    };\n  \n    function handlePrevBtn() {\n      setCurrentPage(currentPage - 1);\n    };\n  \n    function handleNextBtn() {\n      setCurrentPage(currentPage + 1);\n    };\n\n    if (loading) {\n      return (\n        <div className=\" flex justify-center items-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n        </div>\n      )\n    }\n\n    if (error) {\n      return (\n        <span>{error}</span>\n      )\n    };\n\n    return (\n      <div className=\"space-y-2 md:px-10\">\n        {deepSearchData.length ? (\n          <>\n            {renderData(currentItems)}\n            <ul className='flex flex-wrap list-none'>\n              <li key='prevbtn' className='p-1'>\n                <button\n                  onClick={handlePrevBtn}\n                  disabled={currentPage == pages[0] ? true : false}\n                >\n                  <FontAwesomeIcon icon={faChevronLeft} />\n                </button>\n              </li>\n              {deepSearchData.length > 8 ? renderPageNumbers : null}\n              <li key='nextbtn' className='p-1'>\n                <button\n                  onClick={handleNextBtn}\n                  disabled={currentPage == pages[pages.length - 1] ? true : false}\n                >\n                  <FontAwesomeIcon icon={faChevronRight} />\n                </button>\n              </li>\n            </ul>\n          </>\n        ) : (\n          <span className='italic'>No Results Found</span>\n        )}\n      </div>\n    )\n  }\n\n  function handleTagSubmit() {\n    const newTags = search.tags\n    if (newTags.length < 5) {\n      if (tagText.length < 13) {\n        newTags.push(tagText)\n        setSearch({ ...search, tags: newTags })\n      }\n      else {\n        setAlert({ show: true, message: \"Maximum tag length is 12 characters!\" })\n      }\n    }\n    else {\n      setAlert({ show: true, message: \"Maximum allowed tags is 5!\" })\n    }\n    setTagText(\"\")\n  }\n\n  function handleTagInputEnter(e) {\n    if (e.key === \"Enter\") {\n      e.preventDefault()\n      handleTagSubmit()\n    }\n  }\n\n  function deleteTag(tag) {\n    const newTags = search.tags\n    const delIndex = newTags.indexOf(tag)\n    newTags.splice(delIndex, 1)\n    setSearch({ ...search, tags: newTags })\n  }\n\n  const tags = [\n    \"Programming\",\n    \"Javascript\",\n    \"Node\",\n    \"MySQL\",\n    \"CSS\",\n    \"React\",\n    \"MongoDB\",\n    \"WebDev\",\n    \"HTML\",\n    \"Movies\",\n    \"Television\",\n    \"Math\",\n    \"History\",\n    \"Science\",\n    \"Geography\"\n  ]\n\n  return (\n    <div className='min-h-screen flex '>\n      <div className=\"bg-theme-bluegray border-2 md:border-4 border-theme-main mt-20 w-full rounded shadow-lg p-5 m-5\">\n        <h2 className=\"text-4xl font-title text-white mb-5\">Search</h2>\n        <div className=\"rounded bg-theme-aliceblue p-5\">\n          <div className=\"flex flex-wrap w-full justify-between\">\n            <div>\n              <input className=\"bg-theme-aliceblue rounded-lg\" type=\"text\" value={search.title} placeholder=\"Title\" onChange={(e) => setSearch({ ...search, title: e.target.value })} />\n            </div>\n            <div>\n              <input className=\"bg-theme-aliceblue rounded-lg\" type=\"text\" value={search.author} placeholder=\"Author\" onChange={(e) => setSearch({ ...search, author: e.target.value })} />\n            </div>\n            <div className=\"flex justify-between gap-2\">\n              <Hint options={tags} allowTabFill>\n                <input className=\"bg-theme-aliceblue rounded-lg\"\n                  value={tagText}\n                  type=\"text\"\n                  placeholder=\"Add tags...\"\n                  onChange={e => setTagText(e.target.value)}\n                  onKeyDown={e => handleTagInputEnter(e)}\n                />\n              </Hint>\n              {search.tags.length ?\n                <TagsList tags={search.tags} deletable={true} />\n                : null}\n            </div>\n            <button className=\"bg-blue-600 hover:bg-blue-800 transition duration-200 rounded p-2 text-white\" onClick={() => handleSearchSubmit()}>Submit Search</button>\n          </div>\n          {alert.show ?\n            <div className=\"mt-8\">\n              <Alert message={alert.message} hideFunction={() => setAlert({ show: false, message: \"\" })} />\n            </div>\n            : null}\n        </div>\n        <div className=\"bg-theme-bluegray rounded p-5 mt-2\">\n          <SearchResults />\n        </div>\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport { Redirect } from \"react-router\";\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  createHttpLink,\n} from '@apollo/client';\nimport { onError } from 'apollo-link-error';\nimport { ApolloLink } from 'apollo-link';\nimport { setContext } from '@apollo/client/link/context';\nimport { relayStylePagination } from '@apollo/client/utilities';\n\nimport MainNavbar from './components/MainNavbar';\nimport Splash from './pages/Splash';\nimport Dashboard from './pages/Dashboard';\nimport QuizCreator from './pages/QuizCreator'\nimport Quiz from './pages/Quiz';\nimport SearchPage from './pages/Search';\n\n\nconst httpLink = createHttpLink({\n  uri: '/graphql',\n});\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors) {\n    console.log('graphQLErrors', graphQLErrors);\n  }\n  if (networkError) {\n    console.log('networkError', networkError);\n  }\n});\n\nconst link = ApolloLink.from([errorLink, httpLink]);\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem('id_token');\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(link),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <div className=\"font-main tracking-wide\">\n          <MainNavbar />\n          <Switch>\n            <Route exact path='/' component={Splash} />\n            <Route exact path='/home' component={Dashboard} />\n            <Redirect exact from=\"/home/reload\" to=\"/home\" />\n            <Route path=\"/creator\" component={QuizCreator} />\n            <Route path=\"/search\" component={SearchPage} />\n            <Route path=\"/quiz/:id\" component={Quiz}/>\n          </Switch>\n        </div>\n      </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}