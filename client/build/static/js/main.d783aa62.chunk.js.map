{"version":3,"sources":["utils/auth.js","utils/mutations.js","components/LogInForm/index.js","components/SignUpForm/index.js","components/Dropdown/index.js","components/MainNavbar/index.js","pages/Splash/index.js","utils/queries.js","components/TopUsersList/index.js","components/TopQuizzesList/index.js","components/SearchResults/index.js","components/QuizList/index.js","components/RecentlyTaken/index.js","pages/Dashboard/index.js","components/Alert/index.js","pages/QuizCreator/index.js","pages/Quiz/index.js","utils/dateFormat.js","pages/Search/index.js","App.js","reportWebVitals.js","index.js"],"names":["localStorage","getItem","token","decode","exp","Date","now","removeItem","this","getToken","isTokenExpired","idToken","setItem","window","location","assign","LOGIN_USER","gql","CREATE_USER","CREATE_QUIZ","DELETE_QUIZ","SUBMIT_QUIZ","LogInForm","useState","email","password","userFormData","setUserFormData","useMutation","loginUser","handleFormSubmit","event","a","preventDefault","variables","data","Error","Auth","login","console","error","className","onSubmit","e","value","onChange","target","type","placeholder","SignUpForm","username","createUser","addUser","Dropdown","dropdownPopoverShow","setDropdownPopoverShow","btnDropdownRef","createRef","popoverDropdownRef","onclick","document","querySelector","ref","onClick","createPopper","current","placement","getProfile","icon","faChevronDown","style","minWidth","to","href","logout","customStyles","content","top","left","right","bottom","marginRight","transform","display","textAlign","MainNavbar","isOpen","setIsOpen","checked","setChecked","closeModal","handleRadioChange","log","src","loggedIn","onRequestClose","shouldReturnFocusAfterClose","shouldCloseOnOverlayClick","contentLabel","faTimes","size","id","name","Modal","setAppElement","getElementById","Splash","rel","faGithub","faLinkedinIn","faAddressCard","GET_TOP_USERS","GET_TOP_QUIZZES","GET_QUIZZES","GET_QUIZ","GET_ME","SEARCH_QUIZZES","DEEP_SEARCH","TopUsersList","useQuery","pollInterval","loading","stopPolling","setTimeout","topUsers","map","user","quizzes","length","quizzesTaken","TopQuizzesList","currentPage","setCurrentPage","itemsPerPage","pages","indexOfLastItem","indexOfFirstItem","topQuizzesData","topQuizzes","i","Math","ceil","push","currentItems","slice","renderPageNumbers","n","padding","handleClick","Number","quiz","_id","title","author","faChevronRight","renderData","disabled","faChevronLeft","SearchResults","input","search","searchData","searchQuizzes","QuizList","deleteQuiz","redirect","setRedirect","fetchPolicy","refetch","quizData","stopPropagation","quizId","JSON","stringify","handleQuizEdit","faEdit","handleQuizDelete","RecentlyTaken","me","recentlyTaken","Dashboard","searchInput","setSearchInput","Alert","hideFunction","message","faExclamation","QuizCreator","createQuiz","show","alert","setAlert","baseQuiz","description","tags","questions","baseQuestion","questionText","answers","index","baseAnswer","answerText","isCorrect","loadedQuiz","parse","__typename","question","answer","takers","createdAt","scores","useEffect","setQuiz","currentQuestion","setCurrentQuestion","currentAnswer","setCurrentAnswer","tagText","setTagText","updateQuestion","newQuestionList","updateAnswer","newAnswerList","handleQuizValidate","valid","forEach","handleQuizCreate","handleTagInputEnter","key","newTags","handleTagSubmit","questionInput","focus","handleQuestionChange","delIndex","indexOf","splice","handleQuestionDelete","newQuestion","addQuestion","faPlus","answerInput","handleAnswerChange","correctAnswer","handleCorrectChange","handleAnswerDelete","newAnswer","addAnswer","options","allowTabFill","onKeyDown","tag","deleteTag","Quiz","setAnswers","percentage","results","grades","setGrades","started","setStarted","submitQuiz","useParams","answerList","chosenAnswer","questionIndex","forceUpdate","setValue","useForceUpdate","getChosenAnswer","chosenIndex","find","gradeColor","Answers","answersList","questionList","newAnswers","checkAnswer","faTag","score","percent","toFixed","newIndex","prevQuestion","nextQuestion","gradeQuiz","grade","correct","addDateSuffix","date","dateStr","toString","lastChar","charAt","dateFormat","timestamp","monthLength","dateSuffix","months","dateObj","parseInt","formattedMonth","getMonth","dayOfMonth","getDate","year","getFullYear","hour","getHours","floor","getMinutes","formattedTimeStamp","SearchPage","setSearch","setInput","TagsList","deletable","deepSearchData","deepSearch","result","handleSearchSubmit","httpLink","createHttpLink","uri","errorLink","onError","graphQLErrors","networkError","link","ApolloLink","from","authLink","setContext","_","headers","authorization","client","ApolloClient","concat","cache","InMemoryCache","App","ApolloProvider","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d783aa62.chunk.js","sourcesContent":["import decode from 'jwt-decode';\r\n\r\nclass AuthService {\r\n  getToken() {\r\n    return localStorage.getItem('id_token');\r\n  };\r\n\r\n  isTokenExpired(token) {\r\n    const decoded = decode(token);\r\n    if (decoded.exp < Date.now() / 1000) {\r\n      localStorage.removeItem('id_token');\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  getProfile()  {\r\n    return decode(this.getToken());\r\n  };\r\n\r\n  loggedIn() {\r\n    const token = this.getToken();\r\n    return token && !this.isTokenExpired(token) ? true : false;\r\n  };\r\n\r\n  login(idToken) {\r\n    localStorage.setItem('id_token', idToken);\r\n  };\r\n\r\n  logout() {\r\n    localStorage.removeItem('id_token');\r\n    window.location.assign('/');\r\n  };\r\n};\r\n\r\nexport default new AuthService();\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOGIN_USER = gql`\r\n    mutation login($email: String!, $password: String!) {\r\n    login(email: $email, password: $password) {\r\n        user {\r\n          _id\r\n          username\r\n        }\r\n        token\r\n  }\r\n}\r\n`\r\n\r\nexport const CREATE_USER = gql`\r\n    mutation createUser($email: String!, $username: String!, $password: String!) {\r\n     addUser(email: $email, username: $username, password: $password) {\r\n         user {\r\n              _id\r\n              username\r\n             }\r\n         token\r\n  }\r\n}\r\n`\r\n\r\nexport const CREATE_QUIZ = gql `\r\n    mutation createQuiz($input: QuizInput!) {\r\n  createQuiz(input: $input) {\r\n    title\r\n    _id\r\n    createdAt\r\n    author\r\n    questions {\r\n      questionText\r\n      answers {\r\n        answerText\r\n        isCorrect\r\n      }\r\n    }\r\n  }\r\n}\r\n`\r\n\r\nexport const DELETE_QUIZ = gql`\r\n  mutation deleteQuiz($quizId: ID!) {\r\n    deleteQuiz(quizId: $quizId) {\r\n      title\r\n      _id\r\n      author\r\n    }\r\n  }\r\n`\r\n\r\nexport const SUBMIT_QUIZ = gql`\r\n  mutation submitQuiz($quizId: ID!, $answers: [submittedAnswer]) {\r\n    submitQuiz(quizId: $quizId, answers: $answers) {\r\n      percentage\r\n      results {\r\n        questionIndex\r\n        correct\r\n      }\r\n    }\r\n  }\r\n`","import React, { useState } from 'react';\r\nimport { useMutation } from '@apollo/client';\r\n\r\nimport Auth from '../../utils/auth';\r\nimport { LOGIN_USER } from '../../utils/mutations';\r\n\r\nexport default function LogInForm() {\r\n  const [userFormData, setUserFormData] = useState({ email: '', password: '' });\r\n\r\n  const [loginUser] = useMutation(LOGIN_USER);\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const { data } = await loginUser({\r\n        variables: {...userFormData}\r\n      });\r\n      if (!data) {\r\n        throw new Error('Something went wrong!');\r\n      }\r\n      Auth.login(data.login.token);\r\n      window.location.assign('/home');\r\n    } catch(err) {\r\n      console.error(err);\r\n    }\r\n  \r\n    setUserFormData({\r\n      email: '',\r\n      password: ''\r\n    });\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <form className='p-3' onSubmit={(e) => handleFormSubmit(e)}>\r\n        <input value={userFormData.email} onChange={(e) => setUserFormData({...userFormData, email: e.target.value})} type='email' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='john@website.com' />\r\n        <input value={userFormData.password} onChange={(e) => setUserFormData({...userFormData, password: e.target.value})} type='password' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='password' />\r\n        <button \r\n          type='submit' className='w-full px-4 py-3 bg-blue-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform'\r\n        >\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n};\r\n","import React, { useState } from 'react';\r\n\r\nimport { useMutation } from '@apollo/client';\r\n\r\nimport Auth from '../../utils/auth';\r\nimport { CREATE_USER } from '../../utils/mutations';\r\n\r\nexport default function SignUpForm() {\r\n  const [userFormData, setUserFormData] = useState({ username: '', email: '', password: ''});\r\n  const [createUser] = useMutation(CREATE_USER);\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const { data } = await createUser({\r\n        variables: {...userFormData}\r\n      });\r\n\r\n      if (!data) {\r\n        throw new Error('something went wrong!');\r\n      }\r\n      Auth.login(data.addUser.token);\r\n      window.location.assign('/home');\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n\r\n    setUserFormData({\r\n      username: '',\r\n      email: '',\r\n      password: ''\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className='p-3' onSubmit={(e) => handleFormSubmit(e)}>\r\n      <input value={userFormData.username} onChange={(e) => setUserFormData({...userFormData, username: e.target.value})} type='text' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='username' />\r\n        <input value={userFormData.email} onChange={(e) => setUserFormData({...userFormData, email: e.target.value})} type='email' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='john@website.com' />\r\n        <input value={userFormData.password} onChange={(e) => setUserFormData({...userFormData, password: e.target.value})} type='password' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='password' />\r\n        {/* <input onChange={handleInputChange} type='password' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='confirm password' /> */}\r\n        <button \r\n          type='submit' className='w-full px-4 py-3 bg-blue-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform'>\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n};\r\n","import React, { useState, createRef } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\nimport { createPopper } from \"@popperjs/core\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faChevronDown } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport Auth from '../../utils/auth';\r\n\r\nexport default function Dropdown() {\r\n  const [dropdownPopoverShow, setDropdownPopoverShow] = useState(false);\r\n  const btnDropdownRef = createRef();\r\n  const popoverDropdownRef = createRef();\r\n\r\n  const openDropdownPopover = () => {\r\n    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {\r\n      placement: \"bottom-end\"\r\n    });\r\n    setDropdownPopoverShow(true);\r\n  };\r\n\r\n  const closeDropdownPopover = () => {\r\n    setDropdownPopoverShow(false);\r\n  };\r\n\r\n  window.onclick = function(event) {\r\n    event.preventDefault();\r\n    if (event.target !== document.querySelector('.dropdownbtn')) {\r\n      setDropdownPopoverShow(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-wrap px-4\">\r\n      <div className=\"relative font-main inline-flex align-middle gap-x-1 w-full\">\r\n            <button\r\n              className={dropdownPopoverShow ?\r\n                \"text-theme-aliceblue text-sm px-4 py-2 rounded-t-full shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-100 dropdownbtn bg-theme-blueblack\" :\r\n                \"text-theme-aliceblue text-sm px-4 py-2 rounded-full shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-100 dropdownbtn bg-theme-bluemidgray\"\r\n              }\r\n              type=\"button\"\r\n              ref={btnDropdownRef}\r\n              onClick={() => {\r\n                dropdownPopoverShow\r\n                  ? closeDropdownPopover()\r\n                  : openDropdownPopover();\r\n              }}\r\n            >\r\n              {Auth.getProfile().data.username} {\" \"} \r\n              <FontAwesomeIcon icon={faChevronDown} />\r\n            </button>\r\n            <div\r\n              ref={popoverDropdownRef}\r\n              className={\r\n                (dropdownPopoverShow ? \"block \" : \"hidden \") +\r\n                \"bg-theme-blueblack text-base divide-y divide-theme-bluemidgray overflow-y-hidden text-theme-aliceblue z-50 py-1 list-none text-center rounded-br-full rounded-bl-full rounded-tl-full shadow-xl mt-1\"\r\n              }\r\n              style={{ minWidth: \"12rem\"}}\r\n              data-popper-placement='bottom-end'\r\n            >\r\n            <Link to=\"/home\">\r\n              <p className=\"text-sm p-2 hover:text-gray-400 transition duration-200 font-normal block w-full whitespace-nowrap bg-transparent\">\r\n                Home\r\n              </p>\r\n            </Link>\r\n            <Link to=\"/creator\">\r\n              <p className=\"text-sm p-2 hover:text-gray-400 transition duration-200 font-normal block w-full whitespace-nowrap bg-transparent\">\r\n                Creator\r\n              </p>\r\n            </Link>\r\n            <Link to=\"/search\">\r\n              <p className=\"text-sm hover:text-gray-400 transition duration-200 p-2 font-normal block w-full whitespace-nowrap bg-transparent\">\r\n                Advanced Search\r\n              </p>\r\n            </Link>\r\n              <a\r\n                href=\"/home\"\r\n                className=\"text-sm p-2 font-normal block w-full whitespace-nowrap bg-transparent\"\r\n              >\r\n                <button className='p-2 bg-red-500 hover:bg-red-800 transition duration-200 rounded-md text-white outline-none shadow-lg' onClick={Auth.logout}>Logout</button>\r\n              </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from 'react-modal';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nimport LogInForm from '../LogInForm';\r\nimport SignUpForm from '../SignUpForm';\r\nimport Dropdown from '../Dropdown';\r\nimport Auth from '../../utils/auth';\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    display: 'inline',\r\n    textAlign: 'right'\r\n  }\r\n};\r\n\r\nModal.setAppElement(document.getElementById('root'));\r\n\r\nexport default function MainNavbar() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [checked, setChecked] = useState('login-radio');\r\n\r\n  function openModal() {\r\n    setIsOpen(true);\r\n  };\r\n  \r\n  function closeModal() {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  function handleRadioChange(event) {\r\n    console.log(event.target);\r\n  }\r\n\r\n  return (\r\n    <nav className='w-full fixed bg-theme-main z-10'>\r\n      <div className='flex items-center justify-between mx-auto w-11/12 py-1'>\r\n        <div>\r\n          <Link to=\"/home\">\r\n            <img className='h-14 md:h-16' src='./quizzard-logo.png'/>\r\n          </Link>\r\n        </div>\r\n        <div>\r\n          {Auth.loggedIn() ? (\r\n            <>\r\n              <Dropdown/>\r\n            </>\r\n          ) : (\r\n            <>\r\n            <button className='openModal text-theme-aliceblue hover:text-gray-300 border-2 border-theme-main bg-theme-bluemidgray transition duration-200 hover:bg-theme-smoke rounded-full p-2 text-center' onClick={openModal}>Log In | Sign Up</button>\r\n            </>\r\n          )}\r\n        </div>\r\n        <Modal \r\n          isOpen={isOpen}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          shouldReturnFocusAfterClose={false}\r\n          shouldCloseOnOverlayClick={true}\r\n          contentLabel=\"Login/Signup Modal\"\r\n          >\r\n          <button className=\"text-center\" onClick={closeModal}><FontAwesomeIcon icon={faTimes} size='2x' /></button>\r\n          <form>\r\n            <fieldset className='text-center space-x-4'>\r\n              <label>\r\n                <input id='login-radio' checked={checked === 'login-radio'} value='login-radio' onClick={() => setChecked('login-radio')} onChange={handleRadioChange} name='modalRadio' type='radio' /> Log In\r\n              </label>\r\n              <label>\r\n                <input id='signup-radio' checked={checked === 'signup-radio'} value='signup-radio' onClick={() => setChecked('signup-radio')} onChange={handleRadioChange} name='modalRadio' type='radio' /> Sign Up\r\n              </label>\r\n            </fieldset>\r\n          </form>\r\n          <div>\r\n            {checked === 'login-radio' ? <LogInForm /> : <SignUpForm />}\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n    </nav>\r\n  )\r\n};\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faGithub, faLinkedinIn } from '@fortawesome/free-brands-svg-icons';\r\nimport { faAddressCard } from '@fortawesome/free-regular-svg-icons';\r\n\r\nexport default function Splash() {\r\n  return (\r\n    <div className='min-h-screen flex justify-center items-center '>\r\n      <div className='mx-auto my-20 w-4/5 md:w-2/3'>\r\n        <div className='container shadow-xl grid grid-cols-1 divide-y divide-y-8 divide-theme-lighter bg-theme-bluegray text-theme-aliceblue p-6 rounded-md border-2 border-theme-main md:border-4'>\r\n          <div className='p-2 whitespace-nowrap md:whitespace-normal text-2xl lg:text-3xl animate-float font-semibold'>\r\n            <p className='font-title text-center tracking-wide'>\r\n              Welcome to Quizzard!\r\n            </p>\r\n          </div>\r\n          <div className='p-2 text-sm md:text-base'>\r\n            <p>\r\n              A web app where users can create and take quizzes on a variety of topics. Their results and the amount of times the quiz has been taken are stored, to be proudly displayed on the homepage.\r\n            </p>\r\n          </div>\r\n          <div className='p-2 text-sm md:text-base'>\r\n            <p>\r\n              To get started with Quizzard, simply <span className='text-theme-complement'>sign up using the button in the top right</span> or log in if you already have an account. Once logged in, you can search for a quiz, or if there isn't one on a certain topic, making a quiz is very intuitive!\r\n            </p>\r\n          </div>\r\n          <div className='p-2 text-sm md:text-base'>\r\n            <p>\r\n              The <span className='text-theme-complement'>top quizzes</span> are determined by the amount of times a quiz has been taken, and <span className='text-theme-complement'>top tags</span> are controlled by how many quizzes belong to that tag. <span className='text-theme-complement'>Top users</span> are decided by the amount of quizzes they've made and the amount of times their quizzes have been taken.\r\n            </p>\r\n          </div>\r\n          <div className='p-2 text-sm md:text-base'>\r\n            <p>\r\n              Quizzard is a progressive web app built on the MERN stack, and uses GraphQL/Apollo for routing as opposed to a RESTful API. Created by <span className='text-theme-bluedarkgray'>Jared Donovan</span> and <span className='text-theme-bluedarkgray'>Anthony Krueger</span>, this is the final project for{\" \"}\r\n              <span className='text-theme-darkroyal'>\r\n                Northwestern University's\r\n              </span>{\" \"}\r\n              Full-Stack Web Development Boot Camp.\r\n            </p>\r\n          </div>\r\n          <div className='p-2 text-center space-y-2'>\r\n            <h2 className=\"text-xl font-bold\">Links</h2>\r\n            <div className='grid grid-cols-1 justify-center md:flex md:divide-x divide-theme-lighter items-center'>\r\n              <div className='flex items-center justify-between md:space-x-1 p-3'>\r\n                <p className='text-gray-200 text-sm md:text-base'>\r\n                  Github Repo:\r\n                </p>\r\n                <a \r\n                  className='text-theme-berry hover:text-theme-darkberry transition duration-200' \r\n                  href='https://github.com/Quizzard-Dev/Quizzard' \r\n                  target='_blank' \r\n                  rel='noreferrer'\r\n                >\r\n                  <FontAwesomeIcon icon={faGithub} size='3x'/>\r\n                </a>\r\n              </div>\r\n              <div className='flex items-center justify-between md:space-x-1 p-3'>\r\n                <p className='text-gray-200 text-sm md:text-base'>\r\n                  Jared: \r\n                </p>\r\n                <div className='flex space-x-3'>\r\n                  <a \r\n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \r\n                    href='https://github.com/jdono100' \r\n                    target='_blank' \r\n                    rel='noreferrer'\r\n                  >\r\n                    <FontAwesomeIcon icon={faGithub} size='2x'/> \r\n                  </a>\r\n                  <a\r\n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \r\n                    href='https://www.linkedin.com/in/jared-donovan/' \r\n                    target='_blank' \r\n                    rel='noreferrer'\r\n                  >\r\n                    <FontAwesomeIcon icon={faLinkedinIn} size='2x'/>\r\n                  </a>\r\n                  <a\r\n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \r\n                    href='http://www.jareddonovanportfolio.com/' \r\n                    target='_blank' \r\n                    rel='noreferrer'\r\n                  >\r\n                    <FontAwesomeIcon icon={faAddressCard} size='2x'/>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              <div className='flex items-center justify-between md:space-x-1 p-3'>\r\n                <p className='text-sm md:text-base text-gray-200'>\r\n                  Anthony: \r\n                </p>\r\n                <div className='flex space-x-3'>\r\n                  <a\r\n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \r\n                    href='https://github.com/AnthonyKrueger' \r\n                    target='_blank' \r\n                    rel='noreferrer'\r\n                  >\r\n                    <FontAwesomeIcon icon={faGithub} size='2x'/> \r\n                  </a>\r\n                  <a\r\n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \r\n                    href='https://www.linkedin.com/in/anthony-krueger-1545a5208/' \r\n                    target='_blank' \r\n                    rel='noreferrer'\r\n                  >\r\n                    <FontAwesomeIcon icon={faLinkedinIn} size='2x'/>\r\n                  </a>\r\n                  <a\r\n                    className='text-theme-berry hover:text-theme-darkberry transition duration-200' \r\n                    href='https://aik-portfolio.herokuapp.com/' \r\n                    target='_blank' \r\n                    rel='noreferrer'\r\n                  >\r\n                    <FontAwesomeIcon icon={faAddressCard} size='2x'/>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n","import { gql } from '@apollo/client';\r\n\r\nexport const GET_USERS = gql`\r\n    query users {\r\n        users {\r\n            _id\r\n            username\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_TOP_USERS = gql`\r\n    query topUsers {\r\n        topUsers {\r\n            _id\r\n            username\r\n            quizzesTaken\r\n            quizzes {\r\n                _id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_TOP_QUIZZES = gql`\r\n    query topQuizzes {\r\n        topQuizzes {\r\n            _id\r\n            title\r\n            author\r\n            takers\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_USER = gql`\r\n    query user($userId: ID!) {\r\n        user(userId: $userId) {\r\n            username\r\n            quizzes {\r\n                title\r\n                questions {\r\n                    questionText\r\n                    answers {\r\n                        answerText\r\n                        isCorrect\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_QUIZZES = gql`\r\n    query quizzes($author: String!) {\r\n        quizzes(author: $author) {\r\n            _id\r\n            title\r\n            tags\r\n            description\r\n            takers\r\n            author\r\n            questions {\r\n                questionText\r\n                index\r\n                answers {\r\n                    answerText\r\n                    isCorrect\r\n                    index\r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_QUIZ = gql`\r\n    query quiz($quizId: ID!) {\r\n        quiz(quizId: $quizId) {\r\n            _id\r\n            title\r\n            author\r\n            createdAt\r\n            description\r\n            tags\r\n            questions {\r\n                questionText\r\n                index\r\n                answers {\r\n                    answerText\r\n                    index\r\n                    isCorrect\r\n                }\r\n            }\r\n            scores {\r\n                username\r\n                percent\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const GET_ME = gql`\r\n  query me {\r\n    me {\r\n      _id\r\n      username\r\n      recentlyTaken {\r\n          title\r\n          description\r\n          _id\r\n          author\r\n      }\r\n      quizzes {\r\n        _id\r\n        title\r\n        questions {\r\n          questionText\r\n          index\r\n          answers {\r\n            answerText\r\n            index\r\n            isCorrect\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SEARCH_QUIZZES = gql`\r\n  query search($search: String!) {\r\n    searchQuizzes(search: $search) {\r\n      _id\r\n      title\r\n      author\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DEEP_SEARCH = gql`\r\n    query DeepSearch($input: SearchInput) {\r\n        deepSearch(input: $input) {\r\n         title\r\n         _id\r\n         author\r\n         description\r\n         tags\r\n         createdAt\r\n  }\r\n}\r\n`\r\n","import { useQuery } from '@apollo/client';\r\nimport { GET_TOP_USERS } from '../../utils/queries';\r\n\r\nexport default function TopUsersList() {\r\n    const {loading, data, error, stopPolling} = useQuery(GET_TOP_USERS, {\r\n      pollInterval: 1000\r\n    })\r\n\r\n    if (loading) {\r\n      return (\r\n          <div className=\"flex justify-center items-center\">\r\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\r\n          </div>\r\n      )\r\n    }\r\n  \r\n    if(error) {\r\n      return(\r\n        <span>Error</span>\r\n      )\r\n    }\r\n\r\n    setTimeout(() => {\r\n      stopPolling()\r\n    }, 120000)\r\n  \r\n    return (\r\n      <div className=\"space-y-1\">\r\n        {data.topUsers ? data.topUsers.map(user => {\r\n          return (\r\n            <div className=\"bg-theme-berry p-1 text-base flex-wrap font-normal flex justify-between rounded\">\r\n              <div className=\"w-2/6\">\r\n                <span>{user.username}</span>\r\n              </div>\r\n              <div className=\"w-2/6\">\r\n                <span>Quizzes: {user.quizzes.length}</span>\r\n              </div>\r\n              <div className=\"w-2/6\">\r\n                <span>Taken: {user.quizzesTaken}</span>\r\n              </div>\r\n            </div>\r\n          )\r\n        }) : null}\r\n      </div>\r\n    )}","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { useQuery } from '@apollo/client';\r\nimport { GET_TOP_QUIZZES } from '../../utils/queries';\r\n\r\nexport default function TopQuizzesList() {\r\n  const renderData = (data) => {\r\n    return (\r\n      <>\r\n        {data.map((quiz, i) => {\r\n          return (\r\n            <Link to={`/quiz/${quiz._id}`} key={i}>\r\n              <div className=\"flex justify-between p-1 text-base flex-wrap font-normal container rounded bg-theme-berry hover:bg-theme-darkberry hover:shadow-sm transition duration-200\">\r\n                <span>{quiz.title}</span>\r\n                <span>by: {quiz.author}</span>\r\n                <div>\r\n                  <span><FontAwesomeIcon icon={faChevronRight} /></span>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          )\r\n        })}\r\n      </>\r\n    )\r\n  };\r\n    const {loading, data, error, stopPolling} = useQuery(GET_TOP_QUIZZES, {\r\n      pollInterval: 1000\r\n    });\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [itemsPerPage] = useState(8);\r\n  \r\n    const pages = [];\r\n    const indexOfLastItem = currentPage * itemsPerPage;\r\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n\r\n    let topQuizzesData = data?.topQuizzes || [];\r\n\r\n    for (let i = 0; i < Math.ceil(topQuizzesData.length/itemsPerPage); i++) {\r\n      pages.push(i + 1);\r\n    };\r\n\r\n    const currentItems = topQuizzesData.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n    if (loading) {\r\n      return (\r\n          <div className=\"flex justify-center items-center\">\r\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\r\n          </div>\r\n      )\r\n    };\r\n    \r\n    if(error) {\r\n      return(\r\n        <span>Error :/</span>\r\n      )\r\n    };\r\n\r\n    const renderPageNumbers = pages.map(n => {\r\n      return (\r\n        <div className='cursor-pointer'>\r\n          <li \r\n            className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\r\n            style={{\r\n              padding: '0.25rem'\r\n            }}\r\n            key={n} \r\n            id={n}\r\n            onClick={handleClick}\r\n          >\r\n            {n}\r\n          </li>\r\n        </div>\r\n      );\r\n    });\r\n  \r\n    function handleClick(event) {\r\n      setCurrentPage(Number(event.target.id));\r\n    };\r\n  \r\n    function handlePrevBtn() {\r\n      setCurrentPage(currentPage - 1);\r\n    };\r\n  \r\n    function handleNextBtn() {\r\n      setCurrentPage(currentPage + 1);\r\n    };\r\n\r\n    setTimeout(() => {\r\n      stopPolling()\r\n    }, 120000)\r\n  \r\n    return (\r\n      <div className=\"space-y-4 text-sm md:text-lg\">\r\n        <h1 className='font-semibold text-lg'>Top Quizzes</h1>\r\n        {topQuizzesData.length ? (\r\n          <div className=\"container flex flex-col space-y-2\">\r\n            {renderData(currentItems)}\r\n            <ul className='flex justify-center flex-wrap list-none'>\r\n              <li key='prevbtn' className='p-1'>\r\n                <button\r\n                  onClick={handlePrevBtn}\r\n                  disabled={currentPage == pages[0] ? true : false}\r\n                >\r\n                  <FontAwesomeIcon icon={faChevronLeft} />\r\n                </button>\r\n              </li>\r\n              {topQuizzesData.length > 8 ? renderPageNumbers : null}\r\n              <li key='nextbtn' className='p-1'>\r\n                <button\r\n                  onClick={handleNextBtn}\r\n                  disabled={currentPage == pages[pages.length - 1] ? true : false}\r\n                >\r\n                  <FontAwesomeIcon icon={faChevronRight} />\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        )\r\n        : null}\r\n      </div>\r\n    )}","import React, { useState } from 'react';\r\nimport { useQuery } from '@apollo/client';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { SEARCH_QUIZZES } from '../../utils/queries';\r\n\r\nexport default function SearchResults({ input }) {\r\n  const renderData = (data) => {\r\n    return (\r\n      <>\r\n        {data.map((quiz, i) => {\r\n          return (\r\n            <Link to={`/quiz/${quiz._id}`} key={i}>\r\n              <div className=\"flex justify-between text-base container rounded bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 px-2 py-1\">\r\n                <span>{quiz.title}</span>\r\n                <span>{quiz.author}</span>\r\n                <div>\r\n                  <span><FontAwesomeIcon icon={faChevronRight} /></span>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          )\r\n        })}\r\n      </>\r\n    )\r\n  };\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage] = useState(8);\r\n\r\n  const pages = [];\r\n  const indexOfLastItem = currentPage * itemsPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n\r\n  const { loading, data, error } = useQuery(SEARCH_QUIZZES, {\r\n    variables: { search: input }\r\n  });\r\n\r\n  let searchData = data?.searchQuizzes || [];\r\n  \r\n  for (let i = 0; i < Math.ceil(searchData.length/itemsPerPage); i++) {\r\n    pages.push(i + 1);\r\n  };\r\n\r\n  const currentItems = searchData.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className='h-auto md:h-ninety p-5 justify-center flex items-center overflow-y-auto bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\r\n        <div className=\" flex justify-center items-center\">\r\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  };\r\n\r\n  const renderPageNumbers = pages.map(n => {\r\n    return (\r\n      <div className='cursor-pointer'>\r\n        <li \r\n          className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\r\n          style={{\r\n            padding: '0.25rem'\r\n          }}\r\n          key={n} \r\n          id={n}\r\n          onClick={handleClick}\r\n        >\r\n          {n}\r\n        </li>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  function handleClick(event) {\r\n    setCurrentPage(Number(event.target.id));\r\n  };\r\n\r\n  function handlePrevBtn() {\r\n    setCurrentPage(currentPage - 1);\r\n  };\r\n\r\n  function handleNextBtn() {\r\n    setCurrentPage(currentPage + 1);\r\n  };\r\n\r\n  return (\r\n    <div className='h-auto shadow-2xl md:h-ninety p-5 bg-theme-bluegray text-sm md:text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\r\n      {searchData.length \r\n      ? (\r\n        <div className='space-y-4'>\r\n          <span className='italic'>{`Search Results for '${input}'`}</span>\r\n          <div className='flex flex-col font-normal space-y-2 container'>\r\n            {renderData(currentItems)}\r\n            <div className='flex justify-center items-center'>\r\n              <ul className='flex flex-wrap list-none'>\r\n                <li key='prevbtn' className='p-1'>\r\n                  <button\r\n                    onClick={handlePrevBtn}\r\n                    disabled={currentPage == pages[0] ? true : false}\r\n                  >\r\n                    <FontAwesomeIcon icon={faChevronLeft} />\r\n                  </button>\r\n                </li>\r\n                {searchData.length > 8 ? renderPageNumbers : null}\r\n                <li key='nextbtn' className='p-1'>\r\n                  <button\r\n                    onClick={handleNextBtn}\r\n                    disabled={currentPage == pages[pages.length - 1] ? true : false}\r\n                  >\r\n                    <FontAwesomeIcon icon={faChevronRight} />\r\n                  </button>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    : `No results for that search!`}\r\n    </div>\r\n  )\r\n}\r\n","import { useQuery, useMutation } from \"@apollo/client\";\r\nimport { useState, useEffect } from 'react';\r\nimport { Redirect } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { \r\n  faTimes, \r\n  faChevronLeft, \r\n  faChevronRight, \r\n  faEdit \r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { DELETE_QUIZ } from \"../../utils/mutations\";\r\nimport { GET_QUIZZES } from \"../../utils/queries\";\r\nimport Auth from \"../../utils/auth\";\r\n\r\nexport default function QuizList() {\r\n  const renderData = (data) => {\r\n    return (\r\n      <>\r\n        {data.map((quiz, i) => {\r\n          return (\r\n            <div key={i} className=\"flex justify-between container rounded bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 px-2 py-1\">\r\n              <Link to={`/quiz/${quiz._id}`}>\r\n                <div className='w-auto font-semibold'>\r\n                  <span>{quiz.title}</span>\r\n                </div>\r\n              </Link>\r\n              <div className=\"px-1 space-x-3\">\r\n                <Link to='/creator'>\r\n                  <span onClick={() => handleQuizEdit(quiz)}>\r\n                    <FontAwesomeIcon icon={faEdit} />\r\n                  </span>\r\n                </Link>\r\n                <span className='cursor-pointer' onClick={(e) => handleQuizDelete(quiz, e)}>\r\n                  <FontAwesomeIcon icon={faTimes} />\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </>\r\n    )\r\n  }\r\n\r\n  const [deleteQuiz] = useMutation(DELETE_QUIZ);\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage, setItemsPerPage] = useState(6);\r\n\r\n  const [redirect, setRedirect] = useState(\"\");\r\n\r\n  const pages = [];\r\n  const indexOfLastItem = currentPage * itemsPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n  \r\n  const { loading, data, refetch } = useQuery(GET_QUIZZES, {\r\n    variables: { \r\n      author: Auth.getProfile().data.username,\r\n    },\r\n    fetchPolicy: \"cache-and-network\"\r\n  });\r\n  \r\n  let quizData = data?.quizzes || [];\r\n  \r\n  for (let i = 0; i < Math.ceil(quizData.length/itemsPerPage); i++) {\r\n    pages.push(i + 1);\r\n  };\r\n\r\n  const currentItems = quizData.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n  const renderPageNumbers = pages.map(n => {\r\n    return (\r\n      <div className='cursor-pointer'>\r\n        <li \r\n          className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\r\n          style={{\r\n            padding: '0.25rem'\r\n          }}\r\n          key={n} \r\n          id={n}\r\n          onClick={handleClick}\r\n        >\r\n          {n}\r\n        </li>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  \r\n  function handleClick(event) {\r\n    setCurrentPage(Number(event.target.id));\r\n  };\r\n  \r\n  function handlePrevBtn() {\r\n    setCurrentPage(currentPage - 1);\r\n  };\r\n  \r\n  function handleNextBtn() {\r\n    setCurrentPage(currentPage + 1);\r\n  };\r\n\r\n  function handleQuizEdit(quiz) {\r\n    localStorage.setItem('quiz', JSON.stringify(quiz));\r\n    setRedirect(true);\r\n  };\r\n\r\n  async function handleQuizDelete(quiz, e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    const { data } = await deleteQuiz({\r\n      variables: { quizId: quiz._id }\r\n    });\r\n    if(data) {\r\n      refetch()\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n        <div className=\"flex justify-center items-center\">\r\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\r\n        </div>\r\n    )\r\n  }\r\n  \r\n  if (redirect) {\r\n    return <Redirect to=\"/creator\" />;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-lg mb-5 font-semibold\">Your Quizzes</h2>\r\n      {quizData.length\r\n        ? (<div>\r\n          <span>{`You have ${quizData.length} Saved Quizzes`}</span>\r\n          <div className=\"mt-5 flex flex-col space-y-2 container\">\r\n            {renderData(currentItems)}\r\n            <div className='flex justify-center items-center'>\r\n              <ul className='flex flex-wrap list-none'>\r\n                <li key='prevbtn' className='p-1'>\r\n                  <button\r\n                    onClick={handlePrevBtn}\r\n                    disabled={currentPage == pages[0] ? true : false}\r\n                  >\r\n                    <FontAwesomeIcon icon={faChevronLeft} />\r\n                  </button>\r\n                </li>\r\n                {quizData.length > 6 ? renderPageNumbers : null}\r\n                <li key='nextbtn' className='p-1'>\r\n                  <button\r\n                    onClick={handleNextBtn}\r\n                    disabled={currentPage == pages[pages.length - 1] ? true : false}\r\n                  >\r\n                    <FontAwesomeIcon icon={faChevronRight} />\r\n                  </button>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>)\r\n        : <p className='italic'>You have no saved quizzes...</p>}\r\n    </div>\r\n  )\r\n};\r\n","import { useQuery } from \"@apollo/client\"\r\nimport { GET_ME } from \"../../utils/queries\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport default function RecentlyTaken() {\r\n    const { data, loading, error } = useQuery(GET_ME)\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center\">\r\n                <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <span>Error</span>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {data.me.recentlyTaken.length ?\r\n                <div>\r\n                    {data.me.recentlyTaken.map(quiz => {\r\n                        return (\r\n                            <div className=\"my-2\">\r\n                                <Link to={`/quiz/${quiz._id}`}>\r\n                                    <div className=\"bg-theme-main hover:bg-theme-darkest transition duration-200 flex justify-between rounded p-1\">\r\n                                        <p>{quiz.title}</p>\r\n                                        <p className=\"text-md font-normal\">{quiz.author}</p>\r\n                                    </div>\r\n                                </Link>\r\n\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                : <span className='italic font-normal'>No quizzes taken!</span>}\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nimport TopUsersList from '../../components/TopUsersList';\r\nimport TopQuizzesList from \"../../components/TopQuizzesList\"\r\nimport SearchResults from '../../components/SearchResults';\r\nimport Auth from '../../utils/auth';\r\nimport QuizList from '../../components/QuizList';\r\nimport RecentlyTaken from '../../components/RecentlyTaken';\r\n\r\n\r\nexport default function Dashboard() {\r\n  const [searchInput, setSearchInput] = useState('');\r\n\r\n  let token = localStorage.getItem('id_token');\r\n  \r\n  if (!token) {\r\n    return <Redirect to='/' />\r\n  };\r\n\r\n  return (\r\n    <div className='min-h-screen flex md:pt-16 justify-center '>\r\n      <div className='h-auto w-full md:h-eightyvh m-2 md:m-5 grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4'>\r\n        <div className='text-center h-full space-y-4 mt-20 md:mt-0'>\r\n          <form className='h-10 md:h-ten'>\r\n            <input \r\n              value={searchInput}\r\n              onChange={(e) => {\r\n                setSearchInput(e.target.value);\r\n              }}\r\n              type='text'\r\n              className='w-full bg-theme-aliceblue hover:bg-gray-200 placeholder-gray-500 placeholder-opacity-70 transition duration-200 shadow-lg p-3 rounded'\r\n              placeholder='Search for topics!'\r\n            />\r\n          </form>\r\n          {!(searchInput === \"\") ? <SearchResults input={searchInput} /> : (\r\n            <div className='h-2/3 md:h-ninety p-5 shadow-2xl bg-theme-bluegray text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\r\n              <TopQuizzesList />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className='flex flex-wrap space-y-0 md:space-y-4 text-xs lg:text-sm text-center'>\r\n          <div className='h-ten justify-between w-full flex lg:w-full mb-3 md:mb-0 md:pt-0 md:mt-0 gap-3'>\r\n            <div className='w-full'>\r\n              <Link to='/search'>\r\n                <button className='p-3 h-10 md:h-16 bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg'>\r\n                    <p>\r\n                      Advanced Search\r\n                    </p>\r\n                </button>\r\n              </Link>\r\n            </div>\r\n            <div className='w-full'>\r\n              <Link to='/creator'>\r\n                <button className='p-3 h-10 md:h-16 bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg'>\r\n                  <p>\r\n                    Create a quiz\r\n                  </p>\r\n                </button>\r\n              </Link>\r\n            </div>\r\n            <div className='w-full'>\r\n              <Link to='/' onClick={Auth.logout}>\r\n                <button className='p-3 h-10 md:h-16 bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg'>\r\n                  <p>\r\n                    Log out\r\n                  </p>\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n          <div className='grid md:h-ninety shadow-2xl p-5 flex-grow bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\r\n          <QuizList />\r\n          </div>\r\n        </div>\r\n        <div className='text-center space-y-4'>\r\n        <div className=\"hidden md:grid h-auto shadow-2xl text-sm md:text-lg overflow-y-auto md:h-1/2 p-5 bg-theme-bluegray font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main\">\r\n            Recently Taken\r\n            <RecentlyTaken />\r\n        </div>\r\n          <div className='hidden md:grid h-1/2 p-5 shadow-2xl bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\r\n            Top Users\r\n            <TopUsersList />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default function Alert({ hideFunction, message }) {\r\n  return (\r\n    <div>\r\n      <div className=\"text-white flex px-6 py-4 border-0 rounded relative mb-4 bg-red-700\">\r\n        <span className=\"text-xl inline-block mr-5 align-middle\">\r\n          <FontAwesomeIcon icon={faExclamation} />\r\n        </span>\r\n        <span className=\"inline-block align-middle mr-8\">\r\n          <b className=\"capitalize\">Failed: </b> {message}\r\n        </span>\r\n        <button onClick={hideFunction} className=\"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none\">\r\n          <span>×</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Redirect } from \"react-router\";\r\nimport { useMutation } from '@apollo/client';\r\nimport { CREATE_QUIZ } from '../../utils/mutations';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes, faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { Hint } from 'react-autocomplete-hint';\r\n\r\nimport Alert from '../../components/Alert';\r\n\r\nexport default function QuizCreator() {\r\n  const [createQuiz, {error}] = useMutation(CREATE_QUIZ);\r\n\r\n  const [alert, setAlert] = useState({show: false, message:\"\"})\r\n\r\n  const baseQuiz = {\r\n    title: \"\",\r\n    description: \"\",\r\n    tags: [],\r\n    questions: []\r\n  };\r\n\r\n  const baseQuestion = {\r\n    questionText: \"\",\r\n    answers: [],\r\n    index: 0\r\n  };\r\n\r\n  const baseAnswer = {\r\n    answerText: \"\",\r\n    isCorrect: false,\r\n    index: 0\r\n  };\r\n\r\n  const tags = [\r\n    \"Programming\",\r\n    \"Javascript\",\r\n    \"Node\",\r\n    \"MySQL\",\r\n    \"CSS\",\r\n    \"React\",\r\n    \"MongoDB\",\r\n    \"WebDev\",\r\n    \"HTML\",\r\n    \"Movies\",\r\n    \"Television\",\r\n    \"Math\",\r\n    \"History\",\r\n    \"Science\",\r\n    \"Geography\"\r\n  ]\r\n\r\n  const loadedQuiz = localStorage.getItem('quiz')\r\n    ? JSON.parse(localStorage.getItem('quiz'))\r\n    : baseQuiz;\r\n\r\n  if (loadedQuiz.__typename) {\r\n    delete loadedQuiz.__typename;\r\n    loadedQuiz.questions.map((question) => {\r\n      delete question.__typename;\r\n      question.answers.map((answer) => {\r\n        delete answer.__typename;\r\n        return answer;\r\n      });\r\n      return question;\r\n    });\r\n  };\r\n\r\n  if (loadedQuiz._id || loadedQuiz.author) {\r\n    delete loadedQuiz._id;\r\n    delete loadedQuiz.author;\r\n    delete loadedQuiz.takers;\r\n  };\r\n\r\n  if(loadedQuiz.createdAt) {\r\n    delete loadedQuiz.createdAt\r\n  }\r\n\r\n  if(loadedQuiz.scores) {\r\n    delete loadedQuiz.scores\r\n  }\r\n\r\n  if(!loadedQuiz.tags) {\r\n    loadedQuiz.tags = []\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(error) {\r\n      setAlert({show: true, message: error.message})\r\n    }\r\n  }, [error])\r\n\r\n  const [quiz, setQuiz] = useState(loadedQuiz);\r\n\r\n  const [currentQuestion, setCurrentQuestion] = useState({});\r\n\r\n  const [currentAnswer, setCurrentAnswer] = useState({});\r\n\r\n  const [tagText, setTagText] = useState(\"\")\r\n\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  function addQuestion() {\r\n    if(currentAnswer.answerText) {\r\n      updateAnswer();\r\n    }\r\n    updateQuestion()\r\n    const newQuestionList = quiz.questions;\r\n    if(newQuestionList.length < 30) {\r\n      const newQuestion = baseQuestion;\r\n      newQuestion.index = quiz.questions.length + 1;\r\n      newQuestionList.push(baseQuestion);\r\n      setQuiz({ ...quiz, questions: newQuestionList });\r\n      setCurrentAnswer({})\r\n      setCurrentQuestion(newQuestion)\r\n      setTimeout(() => {\r\n        const questionInput = document.querySelector(\"#questionInput\")\r\n        if(questionInput) {\r\n          questionInput.focus()\r\n        }\r\n      }, 100)\r\n    }\r\n    else {\r\n      setAlert({show: true, message: \"Max of 30 questions!\"})\r\n    }\r\n  };\r\n\r\n  function addAnswer() {\r\n    updateAnswer()\r\n    const newAnswerList = currentQuestion.answers;\r\n    if(newAnswerList.length < 10) {\r\n      const newAnswer = baseAnswer;\r\n      newAnswer.index = currentQuestion.answers.length + 1;\r\n      if (newAnswer.index === 1) {\r\n        newAnswer.isCorrect = true;\r\n      };\r\n      newAnswerList.push(newAnswer);\r\n      setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\r\n      setCurrentAnswer(newAnswer)\r\n      updateQuestion()\r\n      setTimeout(() => {\r\n        const answerInput = document.querySelector(\"#answerInput\")\r\n        if(answerInput) {\r\n          answerInput.focus()\r\n        }\r\n      }, 100)\r\n    }\r\n    else {\r\n      setAlert({show: true, message: \"Max of 10 answers per question!\"})\r\n    }\r\n  };\r\n\r\n  function updateQuestion() {\r\n    const newQuestionList = quiz.questions;\r\n    newQuestionList[currentQuestion.index - 1] = currentQuestion;\r\n    setQuiz({ ...quiz, questions: newQuestionList });\r\n    localStorage.setItem('quiz', JSON.stringify(quiz));\r\n  };\r\n\r\n  function updateAnswer() {\r\n    const newAnswerList = currentQuestion.answers;\r\n    newAnswerList[currentAnswer.index - 1] = currentAnswer;\r\n    setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\r\n  };\r\n\r\n  function handleQuestionInput(value) {\r\n    setCurrentQuestion({ ...currentQuestion, questionText: value })\r\n\r\n  }\r\n\r\n  function handleQuestionChange(question) {\r\n    if(currentAnswer.answerText) {\r\n      updateAnswer()\r\n    }\r\n    updateQuestion();\r\n    setCurrentQuestion(question);\r\n    setCurrentAnswer({});\r\n    setTimeout(() => {\r\n      const questionInput = document.querySelector(\"#questionInput\")\r\n      if(questionInput) {\r\n        questionInput.focus()\r\n      }\r\n    }, 100)\r\n  };\r\n\r\n  function handleAnswerChange(answer) {\r\n    updateAnswer();\r\n    updateQuestion();\r\n    setCurrentAnswer(answer);\r\n    setTimeout(() => {\r\n      const answerInput = document.querySelector(\"#answerInput\")\r\n      if(answerInput) {\r\n        answerInput.focus()\r\n      }\r\n    }, 100)\r\n  };\r\n\r\n  function handleQuestionDelete(question, e) {\r\n    e.stopPropagation();\r\n    if(currentAnswer.answerText) {\r\n      updateAnswer();\r\n    }\r\n    updateQuestion();\r\n    if (question.index === currentQuestion.index) {\r\n      setCurrentQuestion({});\r\n      setCurrentAnswer({});\r\n    };\r\n\r\n    const newQuestionList = quiz.questions;\r\n    const delIndex = newQuestionList.indexOf(question);\r\n    newQuestionList.splice(delIndex, 1);\r\n    newQuestionList.forEach((question, index) => {\r\n      question.index = (index + 1);\r\n    });\r\n    setQuiz({ ...quiz, questions: newQuestionList });\r\n  };\r\n\r\n  function handleAnswerDelete(answer, e) {\r\n    e.stopPropagation();\r\n    updateAnswer();\r\n    if (answer.index === currentAnswer.index) {\r\n      setCurrentAnswer({});\r\n    };\r\n    const newAnswerList = currentQuestion.answers;\r\n    const delIndex = newAnswerList.indexOf(answer);\r\n    newAnswerList.splice(delIndex, 1);\r\n    newAnswerList.forEach((answer, index) => {\r\n      answer.index = (index + 1);\r\n    })\r\n    if (answer.isCorrect && newAnswerList.length) {\r\n      newAnswerList[0].isCorrect = true;\r\n    }\r\n    setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\r\n  }\r\n\r\n  function handleCorrectChange(correctAnswer, e) {\r\n    e.stopPropagation();\r\n    const newAnswerList = currentQuestion.answers.map((answer) => {\r\n      if (answer === correctAnswer) {\r\n        answer.isCorrect = true;\r\n      }\r\n      else {\r\n        answer.isCorrect = false;\r\n      }\r\n      return answer;\r\n    })\r\n    console.log(newAnswerList);\r\n    setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\r\n\r\n  }\r\n\r\n  function handleQuizValidate() {\r\n    if(currentAnswer.answerText) {\r\n      updateAnswer();\r\n    }\r\n    updateQuestion();\r\n    let valid = true\r\n    if(!quiz.title) {\r\n      valid = false;\r\n      setAlert({show: true, message: \"You need a title!\"})\r\n    }\r\n    if(!(quiz.description.length >= 10)) {\r\n      valid = false;\r\n      setAlert({show: true, message: \"You need a Description of at least 10 characters!\"})\r\n    }\r\n    if(!(quiz.questions.length >= 3)) {\r\n      valid = false;\r\n      setAlert({show: true, message: \"You need at least 3 questions!\"})\r\n    }\r\n    if(!quiz.tags.length) {\r\n      valid = false;\r\n      setAlert({show: true, message: \"At least 1 tag is required!\"})\r\n    }\r\n    quiz.questions.forEach(question => {\r\n      if(!(question.answers.length >= 2)) {\r\n        valid= false;\r\n        setAlert({show: true, message: \"Each question must have at least 2 answers!\"})\r\n      }\r\n      if(!question.questionText) {\r\n        valid= false;\r\n        setAlert({show: true, message: \"Questions are missing text!\"})\r\n      }\r\n      question.answers.forEach(answer => {\r\n        if(!answer.answerText) {\r\n          valid= false;\r\n          setAlert({show: true, message: \"Answers are missing text!\"})\r\n        }\r\n      })\r\n    })\r\n    if(valid) {\r\n      handleQuizCreate()\r\n    }\r\n  }\r\n\r\n  function deleteTag(tag) {\r\n    const newTags = quiz.tags\r\n    const delIndex = newTags.indexOf(tag)\r\n    newTags.splice(delIndex, 1)\r\n    setQuiz({...quiz, tags: newTags})\r\n  }\r\n\r\n  function handleTagSubmit() {\r\n    const newTags = quiz.tags\r\n    if(newTags.length < 5) {\r\n      if(tagText.length < 13) {\r\n        newTags.push(tagText)\r\n        setQuiz({...quiz, tags: newTags})\r\n      }\r\n      else {\r\n        setAlert({show: true, message:\"Maximum tag length is 12 characters!\"})\r\n      }\r\n    }\r\n    else {\r\n      setAlert({show: true, message:\"Maximum allowed tags is 5!\"})\r\n    }\r\n    setTagText(\"\")\r\n  }\r\n\r\n  function handleTagInputEnter(e) {\r\n    if(e.key === \"Enter\") {\r\n      handleTagSubmit()\r\n    }\r\n  }\r\n\r\n  async function handleQuizCreate() {\r\n    const { data } = await createQuiz({\r\n      variables: { input: quiz }\r\n    })\r\n    if (data) {\r\n      setCurrentQuestion({});\r\n      setCurrentAnswer({});\r\n      setQuiz(baseQuiz);\r\n      if (localStorage.getItem('quiz')) {\r\n        localStorage.removeItem('quiz');\r\n      }\r\n      setRedirect(true);\r\n    }\r\n  }\r\n\r\n  let token = localStorage.getItem('id_token');\r\n\r\n  if (!token) {\r\n    return <Redirect to='/' />;\r\n  };\r\n\r\n  if (redirect) {\r\n    return <Redirect to=\"/home/reload\" />;\r\n  };\r\n\r\n  return (\r\n    <div className='min-h-screen flex '>\r\n      <div className=\"bg-theme-bluegray border-2 md:border-4 border-theme-main mt-20 w-full rounded shadow-lg p-5 m-5\">\r\n        <div className='mb-3 md:flex md:justify-between'>\r\n          <h1 className=\"text-2xl font-bold font-title text-center md:text-right mb-3\">Quiz Creator</h1>\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 mt-2 gap-3 text-theme-aliceblue\">\r\n\r\n          {/* Questions List */}\r\n\r\n          <div className=\"bg-theme-main rounded-lg p-3\">\r\n            <h2 className=\"text-lg font-bold mb-4 text-center\">Question List</h2>\r\n            <div className=\"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3\">\r\n              <div className=\"space-y-2 flex flex-col\">\r\n                {quiz.questions.length ? quiz.questions.map((question) => {\r\n                  return (\r\n                    <div onClick={() => handleQuestionChange(question)} className={`flex flex-row justify-between container ${currentQuestion.index === question.index ? \"bg-theme-berrydarker shadow-md\" : \"bg-theme-berry hover:bg-theme-berrydark\"} rounded p-2 transition duration-200`} key={question.index}>\r\n                      <span><strong>{question.index}. ) </strong>{question.questionText}</span>\r\n                      <div onClick={(e) => handleQuestionDelete(question, e)} className=\"px-1 transition duration-100 hover:text-red-700 cursor-pointer\">\r\n                        <span><FontAwesomeIcon icon={faTimes} /></span>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                }) : <p className='text-center italic'>Add questions by clicking the button below</p>}\r\n              </div>\r\n              <button className=\"mt-4 w-full rounded py-1 font-semibold hover:bg-green-700 bg-green-500 transition duration-200\" onClick={() => addQuestion()}>\r\n                <FontAwesomeIcon icon={faPlus}/> Question\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Question Editor */}\r\n\r\n          <div className=\"bg-theme-main rounded-lg p-3\">\r\n            <h2 className=\"text-lg font-bold mb-4 text-center\">Question Editor</h2>\r\n            {currentQuestion.index ? (\r\n              <>\r\n                  <form>\r\n                    <textarea id=\"questionInput\" className=\"hover:bg-gray-200 transition duration-200 text-black w-full rounded p-1\" type=\"text\" value={currentQuestion.questionText} placeholder=\"Make sure the correct answer is selected...\" onChange={(e) => handleQuestionInput(e.target.value)}/>\r\n                  </form>\r\n\r\n              {/* Answers List */}\r\n\r\n                <div className=\"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3\">\r\n                    <span className=\"font-semibold text-lg\">Answers</span>\r\n                    <div className=\"space-y-2\">\r\n                      {currentQuestion.answers.map((answer, index) => {\r\n                        return (\r\n                          <div onClick={() => handleAnswerChange(answer)} className={`flex flex-row justify-between container rounded ${currentAnswer.index === answer.index ? \"bg-theme-berrydarker shadow-md\" : \"bg-theme-berry hover:bg-theme-berrydark\"} transition duration-200 p-2`} key={index}>\r\n                            <span><strong>{answer.index}. </strong>{answer.answerText}</span>\r\n                            <div className=\"flex\">\r\n                              <div className=\"px-3\">\r\n                                <input checked={answer.isCorrect} onChange={(e) => handleCorrectChange(answer, e)} type=\"checkbox\" />\r\n                              </div>\r\n                              <div onClick={(e) => handleAnswerDelete(answer, e)} className=\"px-1 transition duration-100 hover:text-red-700 cursor-pointer\">\r\n                                <span><FontAwesomeIcon icon={faTimes} /></span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )\r\n                      })}\r\n                    </div>\r\n\r\n                    <button onClick={() => addAnswer()} className=\"mx-auto hover:bg-green-700 bg-green-500 py-1 font-semibold rounded w-full mt-2 transition duration-200\">\r\n                      <FontAwesomeIcon icon={faPlus}/>  Answer\r\n                    </button>\r\n\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <p className='text-center italic'>Select a question to edit</p>\r\n            )}\r\n\r\n\r\n\r\n          </div>\r\n\r\n          {/* Answer Editor */}\r\n\r\n          <div className=\"bg-theme-main rounded-lg p-3\">\r\n            <h2 className=\"text-lg font-bold mb-4 text-center\">Answer Editor</h2>\r\n            {currentAnswer.index ? (\r\n              <>\r\n                <div className=\"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3\">\r\n                  <form>\r\n                    <textarea id=\"answerInput\" className=\"hover:bg-gray-200 transition duration-200 text-black w-full rounded p-1\" type=\"text\" value={currentAnswer.answerText} placeholder=\"Answer\" onChange={(e) => setCurrentAnswer({ ...currentAnswer, answerText: e.target.value })} />\r\n                  </form>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <p className='text-center italic'>Select an answer to edit</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div className=\"flex flex-wrap justify-center mt-8 gap-3 lg:gap-10\">\r\n        <div>\r\n          <input className=\"hover:bg-gray-200 transition duration-200 bg-theme-aliceblue w-full md:w-96 rounded-lg\" type=\"text\" value={quiz.title} placeholder=\"Enter a title...\" onChange={(e) => setQuiz({ ...quiz, title: e.target.value })} />\r\n        </div>\r\n          <div>\r\n           <input className=\"hover:bg-gray-200 transition duration-200 bg-theme-aliceblue w-full md:w-96 rounded-lg\" type=\"text\" value={quiz.description} placeholder=\"Enter a description...\" onChange={(e) => setQuiz({ ...quiz, description: e.target.value })} />\r\n          </div>\r\n          <div className=\"justify-center\">\r\n          <Hint options={tags} allowTabFill>\r\n            <input className=\"hover:bg-gray-200 transition duration-200 bg-theme-aliceblue w-full md:w-96 rounded-lg\"\r\n              value={tagText}\r\n              type=\"text\"\r\n              placeholder=\"Add tags...\"\r\n              onChange={e => setTagText(e.target.value)}\r\n              onKeyDown={e => handleTagInputEnter(e)}\r\n            />\r\n          </Hint>\r\n          {quiz.tags.length ? \r\n          <div className=\"grid grid-cols-3 w-full gap-2 mt-3 flex-grow-0\">\r\n            {quiz.tags.map(tag => {\r\n              return(\r\n                <div className=\"p-1 rounded-xl text-sm bg-yellow-300 flex justify-between\">\r\n                <span className=\"overflow-x-hidden max-w-sm\">{tag}</span>\r\n                <div onClick={() => deleteTag(tag)} className=\"transition duration-100 hover:text-red-700 cursor-pointer px-1\">\r\n                  <span><FontAwesomeIcon icon={faTimes} /></span>\r\n                </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n          : null}\r\n          </div>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <button disabled={quiz.questions.length < 3 ? true : false} onClick={() => handleQuizValidate()} className={`rounded ${quiz.questions.length >= 3 ? \"bg-green-500 hover:bg-green-700\" : \"bg-gray-500\"} mx-auto font-bold text-lg mt-10 py-3 px-20 transition duration-200`}>Create Quiz</button>\r\n        </div>\r\n        {alert.show ?\r\n        <div className=\"mt-8\">\r\n          <Alert message={alert.message} hideFunction={() => setAlert({show: false, message:\"\"})} />\r\n        </div>\r\n        : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useState, useEffect } from \"react\";\r\nimport { useQuery, useMutation } from \"@apollo/client\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Redirect } from \"react-router\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTag } from '@fortawesome/free-solid-svg-icons';\r\nimport Auth from \"../../utils/auth\";\r\n\r\nimport { GET_QUIZ } from \"../../utils/queries\";\r\nimport { SUBMIT_QUIZ } from \"../../utils/mutations\";\r\n\r\nimport Alert from \"../../components/Alert\"\r\n\r\nexport default function Quiz() {\r\n\r\n  const [currentQuestion, setCurrentQuestion] = useState({});\r\n\r\n  const [answers, setAnswers] = useState([]);\r\n\r\n  const [grades, setGrades] = useState({percentage: 0, results: []})\r\n\r\n  const [alert, setAlert] = useState({show: false, message:\"\"})\r\n\r\n  const [started, setStarted] = useState(false)\r\n\r\n  const [redirect, setRedirect] = useState(false)\r\n\r\n  const [submitQuiz] = useMutation(SUBMIT_QUIZ)\r\n\r\n  const { id } = useParams();\r\n\r\n  const { loading, data, error } = useQuery(GET_QUIZ, {\r\n    variables: { quizId: id }\r\n  });\r\n\r\n  useEffect(() => {\r\n    setCurrentQuestion(data ? data.quiz.questions[0] : {});\r\n    if (!answers.length && data) {\r\n      const answerList = data.quiz.questions.map(question => {\r\n        return ({ chosenAnswer: 0, questionIndex: question.index });\r\n      })\r\n      setAnswers(answerList);\r\n    }\r\n  }, [data]);\r\n\r\n  function nextQuestion() {\r\n    if (currentQuestion.index < data.quiz.questions.length) {\r\n      const nextQuestion = data.quiz.questions[currentQuestion.index];\r\n      setCurrentQuestion(nextQuestion);\r\n    };\r\n  };\r\n\r\n  function prevQuestion() {\r\n    if (currentQuestion.index > 1) {\r\n      const newIndex = (currentQuestion.index - 1);\r\n      const prevQuestion = data.quiz.questions[newIndex - 1];\r\n      setCurrentQuestion(prevQuestion);\r\n    }\r\n  }\r\n\r\n  function useForceUpdate() {\r\n    const [value, setValue] = useState(0); // integer state\r\n    return () => setValue(value => value + 1); // update the state to force render\r\n  }\r\n\r\n  const forceUpdate = useForceUpdate();\r\n\r\n  function checkAnswer(question, answer) {\r\n      let newAnswers = answers;\r\n      newAnswers[question.index - 1].chosenAnswer = answer.index;\r\n      setAnswers(newAnswers);\r\n      forceUpdate();\r\n  };\r\n\r\n  function getChosenAnswer(questionIndex) {\r\n      const chosenIndex = answers.find(answer => answer.questionIndex === questionIndex).chosenAnswer\r\n      return data.quiz.questions[questionIndex - 1].answers[chosenIndex - 1]?.answerText\r\n  }\r\n\r\n  function gradeColor(percentage) {\r\n    if(percentage == 1) {\r\n      return \"text-theme-magenta\"\r\n    }\r\n    else if(percentage >= 0.85) {\r\n      return \"text-green-500\"\r\n    }\r\n    else if (percentage >= 0.7) {\r\n      return \"text-yellow-300\"\r\n    }\r\n    else if (percentage >= 0.6) {\r\n      return \"text-yellow-600\"\r\n    }\r\n    else {\r\n      return \"text-red-700\"\r\n    }\r\n  }\r\n\r\n  async function gradeQuiz() {\r\n      let valid = true\r\n      answers.forEach(answer => {\r\n          if(answer.chosenAnswer === 0) {\r\n              valid = false\r\n          }\r\n      })\r\n      if(valid) {\r\n          const { data } = await submitQuiz({\r\n              variables: {quizId: id, answers: answers}\r\n          })\r\n          setGrades(data.submitQuiz)\r\n      }\r\n      else {\r\n          setAlert({show: true, message: \"You have unanswered questions!\"})\r\n      }\r\n  }\r\n\r\n  function handleQuizEdit() {\r\n    localStorage.setItem('quiz', JSON.stringify(data?.quiz));\r\n    setRedirect(true);\r\n  };\r\n\r\n  function Answers({ question, answersList }) {\r\n    if (question.answers) {\r\n      const questionList = question.answers.map((answer) => {\r\n        return (\r\n          <div className=\"w-full flex justify-center\" key={`${question.index}${answer.index}`}>\r\n            <div onClick={() => checkAnswer(question, answer)} className={`w-3/4 p-2 rounded transition duration-200 ${answersList[question.index - 1]?.chosenAnswer === answer.index ? \"bg-yellow-500\" : \"bg-yellow-200 hover:bg-yellow-400\"}`}>\r\n              <span><span className=\"font-semibold mr-3\">{answer.index}.) </span>{answer.answerText}</span>\r\n            </div>\r\n          </div>\r\n        )\r\n      })\r\n      return (\r\n        <div className=\"space-y-3\">\r\n          {questionList}\r\n        </div>\r\n      );\r\n    };\r\n    return (\r\n      <p>No Answers</p>\r\n    );\r\n  };\r\n\r\n  if (redirect) {\r\n    return <Redirect to=\"/creator\" />;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className='min-h-screen items-center justify-center flex '>\r\n        <div className=\" flex justify-center items-center\">\r\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (error) {\r\n    return (\r\n      <div className='min-h-screen items-center justify-center flex '>\r\n        <div className=\"p-10 rounded bg-red-400\">\r\n          <span className=\"text-3xl font-bold\">Quiz ID not Found</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div className='items-center justify-center flex'>\r\n      <div className=\"rounded mt-36 w-full shadow-lg p-5 bg-theme-main mx-1 md:mx-0 md:w-10/12\">\r\n      <div className=\"md:flex md:justify-between\">\r\n        <h3 className=\"text-4xl text-white font-main\">{data.quiz.title}</h3>\r\n        {data.quiz.tags && !started ? \r\n          <div className=\"grid grid-cols-3 md:w-2/6 gap-2 mt-3 mb-5 md:mb-0 flex-grow-0\">\r\n            {data.quiz.tags.map(tag => {\r\n              return(\r\n                <div className=\"p-1 rounded-xl text-sm bg-theme-berry text-white flex justify-between\">\r\n                <span className=\"overflow-x-hidden max-w-sm\">{tag}</span>\r\n                <span><FontAwesomeIcon icon={faTag} /></span>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        : null}\r\n\r\n      </div>\r\n        {!started && data ?\r\n        <div className=\"w-full mx-auto\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 px-5 md:gap-5\">\r\n        <div className=\"w-full md:my-10 mx-auto p-3 bg-theme-bluegray rounded-lg\">\r\n            <h2 className=\"text-xl font-bold text-white underline\">Description</h2>\r\n            <p className=\"mx-3 py-3\">{data.quiz.description}</p>\r\n        </div>\r\n            <div className=\"w-full my-10 mx-auto p-3 bg-theme-bluegray rounded-lg\">\r\n                <h2 className=\"text-xl text-white font-bold underline\">Recent Scores</h2>\r\n                {data.quiz.scores.map(score => {\r\n                    return (\r\n                        <div className=\"flex justify-between my-2 w-5/6 md:w-1/2 px-2 rounded bg-theme-aliceblue mx-auto\">\r\n                            <span className=\"text-lg font-semibold\">{score.username}</span>\r\n                            <span className={`text-lg font-semibold ${gradeColor(score.percent)}`}>{(score.percent * 100).toFixed()}%</span>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n            <div className=\"text-center\">\r\n                <button className=\"py-2 px-8 bg-green-500 hover:bg-green-700 transition duration-200 rounded center\" onClick={() => setStarted(true)}>Start Quiz</button>\r\n                {data.quiz.author === Auth.getProfile().data.username ?\r\n                <button className=\"py-2 px-8 bg-theme-berry hover:bg-theme-berrydark ml-5 transition duration-200 rounded center\" onClick={() => handleQuizEdit()}>Copy and Edit</button>\r\n                : null\r\n                }\r\n            </div>\r\n        </div>\r\n        : null\r\n        }\r\n        {!grades.results.length && started\r\n        ? \r\n        <div className=\"mt-10\">\r\n        <div className=\"container rounded bg-theme-aliceblue p-5 mb-8\">\r\n          <span>{currentQuestion.questionText}</span>\r\n        </div>\r\n          <Answers question={currentQuestion} answersList={answers} />\r\n          <div className=\"mt-10 items-center justify-center flex space-x-5\">\r\n          {currentQuestion.index !== 1 ?\r\n            <button className=\"p-2 rounded bg-theme-berry hover:bg-theme-berrydark transition duration-200\" onClick={() => prevQuestion()}>Back</button>\r\n            : null\r\n          }\r\n          {currentQuestion.index !== data.quiz.questions.length ?\r\n            <button className=\"p-2 rounded bg-theme-berry hover:bg-theme-berrydark transition duration-200\" onClick={() => nextQuestion()}>Next Question</button>\r\n          : <button onClick={() => gradeQuiz()} className=\"p-2 rounded bg-green-400 hover:bg-green-600 transition duration-200\">Submit Quiz</button>\r\n          }\r\n          </div>\r\n          <div className=\"w-full text-right\">\r\n            <span className=\"pt-5 pr-2 text-white\">{currentQuestion.index}/{data.quiz.questions.length}</span>\r\n          </div>\r\n        </div>\r\n        : null}\r\n        {grades.results.length ? \r\n        <div className=\"space-y-2 mt-5\">\r\n        <div className=\"text-center mb-5\">\r\n            <span className=\"text-3xl text-white\">You scored <span className={`font-semibold ${gradeColor(grades.percentage)}`}>{(grades.percentage*100).toFixed()}</span>%</span>\r\n        </div>\r\n        <div className=\"space-y-3 py-5\">\r\n            {grades.results.map(grade => {\r\n                return (\r\n                    <div className={`p-2 flex justify-between rounded ${grade.correct ? \"bg-green-400\" : \"bg-red-600\"}`}>\r\n                        <span>{data.quiz.questions[grade.questionIndex - 1].questionText}</span>\r\n                        <span>Your Answer: {getChosenAnswer(grade.questionIndex)}</span>\r\n                    </div>\r\n                )\r\n            })}\r\n\r\n        </div>\r\n        </div>\r\n        : null\r\n        }\r\n        {alert.show ?\r\n        <div className=\"mt-5\">\r\n            <Alert message={alert.message} hideFunction={() => setAlert({show: false, message: \"\"})} />\r\n        </div>\r\n        : null}\r\n        {!started ? \r\n        <div className=\"text-right mt-5 text-gray-900\">\r\n          <span>Created By: {data.quiz.author} on {data.quiz.createdAt}</span>\r\n        </div>\r\n        : null\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};","const addDateSuffix = (date) => {\r\n  let dateStr = date.toString();\r\n\r\n  // get last char of date string\r\n  const lastChar = dateStr.charAt(dateStr.length - 1);\r\n\r\n  if (lastChar === '1' && dateStr !== '11') {\r\n    dateStr = `${dateStr}st`;\r\n  } else if (lastChar === '2' && dateStr !== '12') {\r\n    dateStr = `${dateStr}nd`;\r\n  } else if (lastChar === '3' && dateStr !== '13') {\r\n    dateStr = `${dateStr}rd`;\r\n  } else {\r\n    dateStr = `${dateStr}th`;\r\n  }\r\n\r\n  return dateStr;\r\n};\r\n\r\n// function to format a timestamp, accepts the timestamp and an `options` object as parameters\r\nexport default function dateFormat (\r\n  timestamp,\r\n  { monthLength = 'short', dateSuffix = true } = {}\r\n) {\r\n  // create month object\r\n  const months = {\r\n    0: monthLength === 'short' ? 'Jan' : 'January',\r\n    1: monthLength === 'short' ? 'Feb' : 'February',\r\n    2: monthLength === 'short' ? 'Mar' : 'March',\r\n    3: monthLength === 'short' ? 'Apr' : 'April',\r\n    4: monthLength === 'short' ? 'May' : 'May',\r\n    5: monthLength === 'short' ? 'Jun' : 'June',\r\n    6: monthLength === 'short' ? 'Jul' : 'July',\r\n    7: monthLength === 'short' ? 'Aug' : 'August',\r\n    8: monthLength === 'short' ? 'Sep' : 'September',\r\n    9: monthLength === 'short' ? 'Oct' : 'October',\r\n    10: monthLength === 'short' ? 'Nov' : 'November',\r\n    11: monthLength === 'short' ? 'Dec' : 'December',\r\n  };\r\n\r\n  const dateObj = new Date(parseInt(timestamp, 10));\r\n  const formattedMonth = months[dateObj.getMonth()];\r\n\r\n  const dayOfMonth = dateSuffix\r\n    ? addDateSuffix(dateObj.getDate())\r\n    : dateObj.getDate();\r\n\r\n  const year = dateObj.getFullYear();\r\n  let hour =\r\n    dateObj.getHours() > 12\r\n      ? Math.floor(dateObj.getHours() - 12)\r\n      : dateObj.getHours();\r\n\r\n  // if hour is 0 (12:00am), change it to 12\r\n  if (hour === 0) {\r\n    hour = 12;\r\n  }\r\n\r\n  const minutes = (dateObj.getMinutes() < 10 ? '0' : '') + dateObj.getMinutes();\r\n\r\n  // set `am` or `pm`\r\n  const periodOfDay = dateObj.getHours() >= 12 ? 'pm' : 'am';\r\n\r\n  const formattedTimeStamp = `${formattedMonth} ${dayOfMonth}, ${year}`;\r\n\r\n  return formattedTimeStamp;\r\n};\r\n","import { useState } from \"react\"\r\nimport { useQuery } from \"@apollo/client\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { DEEP_SEARCH } from \"../../utils/queries\"\r\nimport { Hint } from 'react-autocomplete-hint';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes, faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\r\nimport dateFormat from \"../../utils/dateFormat\";\r\n\r\nimport Alert from '../../components/Alert';\r\n\r\nexport default function SearchPage() {\r\n\r\n  const [search, setSearch] = useState({ title: \"\", author: \"\", tags: [] })\r\n  const [tagText, setTagText] = useState(\"\")\r\n  const [input, setInput] = useState({})\r\n\r\n  const [alert, setAlert] = useState({ show: false, message: \"\" })\r\n\r\n  async function handleSearchSubmit() {\r\n    setInput(search)\r\n  }\r\n    \r\n    function TagsList({tags, deletable}) {\r\n        return(\r\n            <div className=\"grid grid-cols-3 w-full gap-2 flex-grow-0\">\r\n            {tags.length ? tags.map(tag => {\r\n                return (\r\n                    <div className=\"p-1 overflow-x-hidden max-w-sm rounded-xl h-7 text-sm bg-theme-berry text-white flex justify-between\">\r\n                        <span className=\"max-w-sm\">{tag}</span>\r\n                        {deletable ?\r\n                        <div onClick={() => deleteTag(tag)} className=\"transition duration-100 hover:text-red-700 cursor-pointer px-1\">\r\n                            <span><FontAwesomeIcon icon={faTimes} /></span>\r\n                        </div>\r\n                        : null\r\n                        }\r\n                    </div>\r\n                )\r\n            }) : null}\r\n        </div>\r\n         )\r\n        }\r\n\r\n  function SearchResults() {\r\n    const renderData = (data) => {\r\n      return (\r\n        <>\r\n          {data.map(result => {\r\n            return (\r\n              <div className=\"rounded w-full p-3 bg-theme-darker lg:flex space-y-4 lg:space-y-0 justify-between\">\r\n                <div className=\"w-1/2\">\r\n                  <p className=\"text-xl font-semibold text-white\">{result.title}<span className=\"text-black ml-1 text-sm font-normal\"> -{result.author}</span></p>\r\n                  <p className=\"text-xs mt-3\">Created {dateFormat(result.createdAt)}</p>\r\n                </div>\r\n                <div className=\"container rounded bg-theme-aliceblue p-3 w-full\">\r\n                  <span>{result.description}</span>\r\n                </div>\r\n                <div className=\"w-3/4 px-5\">\r\n                  <TagsList tags={result.tags} deletable={false} />\r\n                </div>\r\n                <div className=\"w-2/6 flex items-center justify-center\">\r\n                  <Link to={`/quiz/${result._id}`}>\r\n                    <button className=\"p-2 rounded bg-green-400 hover:bg-green-600 transition duration-200\">Go to Quiz</button>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n        </>\r\n      )\r\n    };\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [itemsPerPage] = useState(8);\r\n\r\n    const pages = [];\r\n    const indexOfLastItem = currentPage * itemsPerPage;\r\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n\r\n    const { loading, data, error } = useQuery(DEEP_SEARCH, {\r\n      variables: {\r\n        input: {\r\n          ...input\r\n        }\r\n      }\r\n    });\r\n\r\n    let deepSearchData = data?.deepSearch || [];\r\n\r\n    for (let i = 0; i < Math.ceil(deepSearchData.length/itemsPerPage); i++) {\r\n      pages.push(i + 1);\r\n    };\r\n\r\n    const currentItems = deepSearchData.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n    const renderPageNumbers = pages.map(n => {\r\n      return (\r\n        <div className='cursor-pointer'>\r\n          <li \r\n            className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\r\n            style={{\r\n              padding: '0.25rem'\r\n            }}\r\n            key={n} \r\n            id={n}\r\n            onClick={handleClick}\r\n          >\r\n            {n}\r\n          </li>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    function handleClick(event) {\r\n      setCurrentPage(Number(event.target.id));\r\n    };\r\n  \r\n    function handlePrevBtn() {\r\n      setCurrentPage(currentPage - 1);\r\n    };\r\n  \r\n    function handleNextBtn() {\r\n      setCurrentPage(currentPage + 1);\r\n    };\r\n\r\n    if (loading) {\r\n      return (\r\n        <div className=\" flex justify-center items-center\">\r\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <span>{error}</span>\r\n      )\r\n    };\r\n\r\n    return (\r\n      <div className=\"space-y-2 md:px-10\">\r\n        {deepSearchData.length ? (\r\n          <>\r\n            {renderData(currentItems)}\r\n            <ul className='flex flex-wrap list-none'>\r\n              <li key='prevbtn' className='p-1'>\r\n                <button\r\n                  onClick={handlePrevBtn}\r\n                  disabled={currentPage == pages[0] ? true : false}\r\n                >\r\n                  <FontAwesomeIcon icon={faChevronLeft} />\r\n                </button>\r\n              </li>\r\n              {deepSearchData.length > 8 ? renderPageNumbers : null}\r\n              <li key='nextbtn' className='p-1'>\r\n                <button\r\n                  onClick={handleNextBtn}\r\n                  disabled={currentPage == pages[pages.length - 1] ? true : false}\r\n                >\r\n                  <FontAwesomeIcon icon={faChevronRight} />\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </>\r\n        ) : (\r\n          <span className='italic'>No Results Found</span>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  function handleTagSubmit() {\r\n    const newTags = search.tags\r\n    if (newTags.length < 5) {\r\n      if (tagText.length < 13) {\r\n        newTags.push(tagText)\r\n        setSearch({ ...search, tags: newTags })\r\n      }\r\n      else {\r\n        setAlert({ show: true, message: \"Maximum tag length is 12 characters!\" })\r\n      }\r\n    }\r\n    else {\r\n      setAlert({ show: true, message: \"Maximum allowed tags is 5!\" })\r\n    }\r\n    setTagText(\"\")\r\n  }\r\n\r\n  function handleTagInputEnter(e) {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault()\r\n      handleTagSubmit()\r\n    }\r\n  }\r\n\r\n  function deleteTag(tag) {\r\n    const newTags = search.tags\r\n    const delIndex = newTags.indexOf(tag)\r\n    newTags.splice(delIndex, 1)\r\n    setSearch({ ...search, tags: newTags })\r\n  }\r\n\r\n  const tags = [\r\n    \"Programming\",\r\n    \"Javascript\",\r\n    \"Node\",\r\n    \"MySQL\",\r\n    \"CSS\",\r\n    \"React\",\r\n    \"MongoDB\",\r\n    \"WebDev\",\r\n    \"HTML\",\r\n    \"Movies\",\r\n    \"Television\",\r\n    \"Math\",\r\n    \"History\",\r\n    \"Science\",\r\n    \"Geography\"\r\n  ]\r\n\r\n  return (\r\n    <div className='min-h-screen flex '>\r\n      <div className=\"bg-theme-bluegray border-2 md:border-4 border-theme-main mt-20 w-full rounded shadow-lg p-5 m-5\">\r\n        <h2 className=\"text-4xl font-title text-white mb-5\">Search</h2>\r\n        <div className=\"rounded bg-theme-aliceblue p-5\">\r\n          <div className=\"flex flex-wrap w-full justify-between\">\r\n            <div>\r\n              <input className=\"bg-theme-aliceblue rounded-lg\" type=\"text\" value={search.title} placeholder=\"Title\" onChange={(e) => setSearch({ ...search, title: e.target.value })} />\r\n            </div>\r\n            <div>\r\n              <input className=\"bg-theme-aliceblue rounded-lg\" type=\"text\" value={search.author} placeholder=\"Author\" onChange={(e) => setSearch({ ...search, author: e.target.value })} />\r\n            </div>\r\n            <div className=\"flex justify-between gap-2\">\r\n              <Hint options={tags} allowTabFill>\r\n                <input className=\"bg-theme-aliceblue rounded-lg\"\r\n                  value={tagText}\r\n                  type=\"text\"\r\n                  placeholder=\"Add tags...\"\r\n                  onChange={e => setTagText(e.target.value)}\r\n                  onKeyDown={e => handleTagInputEnter(e)}\r\n                />\r\n              </Hint>\r\n              {search.tags.length ?\r\n                <TagsList tags={search.tags} deletable={true} />\r\n                : null}\r\n            </div>\r\n            <button className=\"bg-blue-600 hover:bg-blue-800 transition duration-200 rounded p-2 text-white\" onClick={() => handleSearchSubmit()}>Submit Search</button>\r\n          </div>\r\n          {alert.show ?\r\n            <div className=\"mt-8\">\r\n              <Alert message={alert.message} hideFunction={() => setAlert({ show: false, message: \"\" })} />\r\n            </div>\r\n            : null}\r\n        </div>\r\n        <div className=\"bg-theme-bluegray rounded p-5 mt-2\">\r\n          <SearchResults />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport { Redirect } from \"react-router\";\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink,\r\n} from '@apollo/client';\r\nimport { onError } from 'apollo-link-error';\r\nimport { ApolloLink } from 'apollo-link';\r\nimport { setContext } from '@apollo/client/link/context';\r\nimport { relayStylePagination } from '@apollo/client/utilities';\r\n\r\nimport MainNavbar from './components/MainNavbar';\r\nimport Splash from './pages/Splash';\r\nimport Dashboard from './pages/Dashboard';\r\nimport QuizCreator from './pages/QuizCreator'\r\nimport Quiz from './pages/Quiz';\r\nimport SearchPage from './pages/Search';\r\n\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: '/graphql',\r\n});\r\n\r\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\r\n  if (graphQLErrors) {\r\n    console.log('graphQLErrors', graphQLErrors);\r\n  }\r\n  if (networkError) {\r\n    console.log('networkError', networkError);\r\n  }\r\n});\r\n\r\nconst link = ApolloLink.from([errorLink, httpLink]);\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  const token = localStorage.getItem('id_token');\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : '',\r\n    },\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: authLink.concat(link),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <div className=\"font-main tracking-wide\">\r\n          <MainNavbar />\r\n          <Switch>\r\n            <Route exact path='/' component={Splash} />\r\n            <Route exact path='/home' component={Dashboard} />\r\n            <Redirect exact from=\"/home/reload\" to=\"/home\" />\r\n            <Route path=\"/creator\" component={QuizCreator} />\r\n            <Route path=\"/search\" component={SearchPage} />\r\n            <Route path=\"/quiz/:id\" component={Quiz}/>\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport './index.css';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}