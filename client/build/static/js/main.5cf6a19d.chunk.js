(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var s,a,r,c,i,l=n(3),o=n.n(l),d=(n(100),n(66)),u=n.n(d),b=n(5),j=n(12),h=n(17),m=n(91),x=n(138),p=n(139),O=n(136),g=n(87),f=n(52),v=n(90),w=n(6),y=n(67),N=n.n(y),k=n(9),q=n(16),z=n(21),S=n.n(z),C=n(30),T=n(143),I=n(80),A=n(81),Q=n(68),_=new(function(){function e(){Object(I.a)(this,e)}return Object(A.a)(e,[{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"isTokenExpired",value:function(e){return Object(Q.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getProfile",value:function(){return Object(Q.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"login",value:function(e){localStorage.setItem("id_token",e)}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),E=n(24),D=n(140),M=Object(D.a)(s||(s=Object(E.a)(["\n    mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n        user {\n          _id\n          username\n        }\n        token\n  }\n}\n"]))),$=Object(D.a)(a||(a=Object(E.a)(["\n    mutation createUser($email: String!, $username: String!, $password: String!) {\n     addUser(email: $email, username: $username, password: $password) {\n         user {\n              _id\n              username\n             }\n         token\n  }\n}\n"]))),F=Object(D.a)(r||(r=Object(E.a)(["\n    mutation createQuiz($input: QuizInput!) {\n  createQuiz(input: $input) {\n    title\n    _id\n    createdAt\n    author\n    questions {\n      questionText\n      answers {\n        answerText\n        isCorrect\n      }\n    }\n  }\n}\n"]))),L=Object(D.a)(c||(c=Object(E.a)(["\n  mutation deleteQuiz($quizId: ID!) {\n    deleteQuiz(quizId: $quizId) {\n      title\n      _id\n      author\n    }\n  }\n"]))),J=Object(D.a)(i||(i=Object(E.a)(["\n  mutation submitQuiz($quizId: ID!, $answers: [submittedAnswer]) {\n    submitQuiz(quizId: $quizId, answers: $answers) {\n      percentage\n      results {\n        questionIndex\n        correct\n      }\n    }\n  }\n"]))),P=n(0);function R(){var e=Object(l.useState)({email:"",password:""}),t=Object(w.a)(e,2),n=t[0],s=t[1],a=Object(T.a)(M),r=Object(w.a)(a,1)[0],c=function(){var e=Object(C.a)(S.a.mark((function e(t){var a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,r({variables:Object(b.a)({},n)});case 4:if(a=e.sent,c=a.data){e.next=8;break}throw new Error("Something went wrong!");case 8:_.login(c.login.token),window.location.assign("/home"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:s({email:"",password:""});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)("div",{children:Object(P.jsxs)("form",{className:"p-3",onSubmit:function(e){return c(e)},children:[Object(P.jsx)("input",{value:n.email,onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{email:e.target.value}))},type:"email",className:"w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full",placeholder:"john@website.com"}),Object(P.jsx)("input",{value:n.password,onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{password:e.target.value}))},type:"password",className:"w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full",placeholder:"password"}),Object(P.jsx)("button",{type:"submit",className:"w-full px-4 py-3 bg-blue-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform",children:"Submit"})]})})}function H(){var e=Object(l.useState)({username:"",email:"",password:""}),t=Object(w.a)(e,2),n=t[0],s=t[1],a=Object(T.a)($),r=Object(w.a)(a,1)[0],c=function(){var e=Object(C.a)(S.a.mark((function e(t){var a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,r({variables:Object(b.a)({},n)});case 4:if(a=e.sent,c=a.data){e.next=8;break}throw new Error("something went wrong!");case 8:_.login(c.addUser.token),window.location.assign("/home"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:s({username:"",email:"",password:""});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)("div",{children:Object(P.jsxs)("form",{className:"p-3",onSubmit:function(e){return c(e)},children:[Object(P.jsx)("input",{value:n.username,onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{username:e.target.value}))},type:"text",className:"w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full",placeholder:"username"}),Object(P.jsx)("input",{value:n.email,onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{email:e.target.value}))},type:"email",className:"w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full",placeholder:"john@website.com"}),Object(P.jsx)("input",{value:n.password,onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{password:e.target.value}))},type:"password",className:"w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full",placeholder:"password"}),Object(P.jsx)("button",{type:"submit",className:"w-full px-4 py-3 bg-blue-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform",children:"Submit"})]})})}var U=n(137);function Y(){var e=Object(l.useState)(!1),t=Object(w.a)(e,2),n=t[0],s=t[1],a=Object(l.createRef)(),r=Object(l.createRef)();return window.onclick=function(e){e.preventDefault(),e.target!==document.querySelector(".dropdownbtn")&&s(!1)},Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"flex flex-wrap px-4",children:Object(P.jsxs)("div",{className:"relative font-main inline-flex align-middle w-full",children:[Object(P.jsxs)("button",{className:n?"text-theme-aliceblue text-sm px-4 py-2 rounded-t shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-200 dropdownbtn bg-theme-darker":"text-theme-aliceblue text-sm px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-200 dropdownbtn bg-theme-darker",type:"button",ref:a,onClick:function(){n?s(!1):(Object(U.a)(a.current,r.current,{placement:"bottom-start"}),s(!0))},children:[_.getProfile().data.username," ",Object(P.jsx)(k.a,{icon:q.a})]}),Object(P.jsxs)("div",{ref:r,className:(n?"block ":"hidden ")+"bg-theme-darker text-base z-50 py-1 list-none text-center rounded-br rounded-bl rounded-tl shadow-lg mt-1",style:{minWidth:"12rem"},children:[Object(P.jsx)(h.b,{to:"/home",children:Object(P.jsx)("p",{className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent",children:"Home"})}),Object(P.jsx)(h.b,{to:"/creator",children:Object(P.jsx)("p",{className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent",children:"Creator"})}),Object(P.jsx)("a",{href:"/home",className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent",onClick:function(e){return e.preventDefault()},children:"Something else here"}),Object(P.jsx)("div",{className:"h-0 my-2 border border-solid border-t-0 border-blueGray-800 opacity-25"}),Object(P.jsx)("a",{href:"/home",className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent",children:Object(P.jsx)("button",{className:"px-4 py-3 bg-red-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform",onClick:_.logout,children:"Logout"})})]})]})})})}var B={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"inline",textAlign:"right"}};function G(){var e=Object(l.useState)(!1),t=Object(w.a)(e,2),n=t[0],s=t[1],a=Object(l.useState)("login-radio"),r=Object(w.a)(a,2),c=r[0],i=r[1];function o(){s(!1)}function d(e){console.log(e.target)}return Object(P.jsx)("nav",{className:"w-full fixed bg-theme-main z-10",children:Object(P.jsxs)("div",{className:"flex items-center justify-between mx-auto w-11/12 py-1",children:[Object(P.jsx)("div",{children:Object(P.jsx)(h.b,{to:"/home",children:Object(P.jsx)("img",{className:"h-14 md:h-16",src:"./quizzard-logo.png"})})}),Object(P.jsx)("div",{children:_.loggedIn()?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(Y,{})}):Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("button",{className:"openModal text-theme-aliceblue hover:text-gray-300 border-2 border-theme-darkerer bg-theme-bluemidgray transition duration-200 hover:bg-theme-smoke rounded-full p-2 text-center",onClick:function(){s(!0)},children:"Log In | Sign Up"})})}),Object(P.jsxs)(N.a,{isOpen:n,onRequestClose:o,style:B,shouldReturnFocusAfterClose:!1,shouldCloseOnOverlayClick:!0,contentLabel:"Login/Signup Modal",children:[Object(P.jsx)("button",{className:"text-center",onClick:o,children:Object(P.jsx)(k.a,{icon:q.h,size:"2x"})}),Object(P.jsx)("form",{children:Object(P.jsxs)("fieldset",{className:"text-center space-x-4",children:[Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{id:"login-radio",checked:"login-radio"===c,value:"login-radio",onClick:function(){return i("login-radio")},onChange:d,name:"modalRadio",type:"radio"})," Log In"]}),Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{id:"signup-radio",checked:"signup-radio"===c,value:"signup-radio",onClick:function(){return i("signup-radio")},onChange:d,name:"modalRadio",type:"radio"})," Sign Up"]})]})}),Object(P.jsx)("div",{children:"login-radio"===c?Object(P.jsx)(R,{}):Object(P.jsx)(H,{})})]})]})})}N.a.setAppElement(document.getElementById("root"));var W=n(48),K=n(71);function V(){return Object(P.jsx)("div",{className:"min-h-screen flex justify-center items-center ",children:Object(P.jsx)("div",{className:"mx-auto my-20 w-4/5 md:w-2/3",children:Object(P.jsxs)("div",{className:"container shadow-xl grid grid-cols-1 divide-y divide-y-8 divide-theme-lighter bg-theme-bluegray text-theme-aliceblue p-6 rounded-md border-2 border-theme-main md:border-4",children:[Object(P.jsx)("div",{className:"p-2 whitespace-nowrap md:whitespace-normal text-2xl lg:text-3xl animate-float font-semibold",children:Object(P.jsx)("p",{className:"font-title text-center tracking-wide",children:"Welcome to Quizzard!"})}),Object(P.jsx)("div",{className:"p-2 text-sm md:text-base",children:Object(P.jsx)("p",{children:"A web app where users can create and take quizzes on a variety of topics. Their results and the amount of times the quiz has been taken are stored, to be proudly displayed on the homepage."})}),Object(P.jsx)("div",{className:"p-2 text-sm md:text-base",children:Object(P.jsxs)("p",{children:["To get started with Quizzard, simply ",Object(P.jsx)("span",{className:"text-theme-complement",children:"sign up using the button in the top right"})," or log in if you already have an account. Once logged in, you can search for a quiz, or if there isn't one on a certain topic, making a quiz is very intuitive!"]})}),Object(P.jsx)("div",{className:"p-2 text-sm md:text-base",children:Object(P.jsx)("p",{children:"The top quizzes are determined by the amount of times a quiz has been taken, and top tags are controlled by how many quizzes belong to that tag. Top users are decided by the amount of quizzes they've made and the amount of times their quizzes have been taken."})}),Object(P.jsx)("div",{className:"p-2 text-sm md:text-base",children:Object(P.jsxs)("p",{children:["Quizzard is a MERN stack, progressive web app, and uses GraphQL/Apollo for routing as opposed to a RESTful API. Created by ",Object(P.jsx)("span",{className:"text-theme-bluedarkgray",children:"Jared Donovan"})," and ",Object(P.jsx)("span",{className:"text-theme-bluedarkgray",children:"Anthony Krueger"}),", this is the final project for"," ",Object(P.jsx)("span",{className:"text-theme-darkroyal",children:"Northwestern University's"})," ","Full-Stack Web Development Boot Camp."]})}),Object(P.jsxs)("div",{className:"p-2 text-center space-y-2",children:[Object(P.jsx)("h2",{className:"text-xl font-bold",children:"Links"}),Object(P.jsxs)("div",{className:"md:flex justify-center items-center md:space-x-5",children:[Object(P.jsxs)("div",{className:"flex items-center justify-between md:space-x-2",children:[Object(P.jsx)("p",{children:"Github Repo:"}),Object(P.jsx)("p",{className:"text-sm md:text-base",children:Object(P.jsx)("a",{children:Object(P.jsx)(k.a,{icon:W.a,size:"3x"})})})]}),Object(P.jsxs)("div",{className:"flex items-center justify-between md:space-x-2",children:[Object(P.jsx)("p",{className:"text-sm md:text-base",children:"Jared:"}),Object(P.jsx)("p",{children:Object(P.jsx)(k.a,{icon:W.a,size:"2x"})}),Object(P.jsx)("p",{children:Object(P.jsx)(k.a,{icon:W.b,size:"2x"})}),Object(P.jsx)("p",{children:Object(P.jsx)(k.a,{icon:K.a,size:"2x"})})]}),Object(P.jsxs)("div",{className:"flex items-center justify-between md:space-x-2",children:[Object(P.jsx)("p",{className:"text-sm md:text-base",children:"Anthony:"}),Object(P.jsx)("p",{children:Object(P.jsx)(k.a,{icon:W.a,size:"2x"})}),Object(P.jsx)("p",{children:Object(P.jsx)(k.a,{icon:W.b,size:"2x"})}),Object(P.jsx)("p",{children:Object(P.jsx)(k.a,{icon:K.a,size:"2x"})})]})]})]})]})})})}var X,Z,ee,te,ne,se,ae,re,ce,ie=n(141),le=(Object(D.a)(X||(X=Object(E.a)(["\n    query users {\n        users {\n            _id\n            username\n        }\n    }\n"]))),Object(D.a)(Z||(Z=Object(E.a)(["\n    query topUsers {\n        topUsers {\n            _id\n            username\n            quizzesTaken\n            quizzes {\n                _id\n            }\n        }\n    }\n"])))),oe=Object(D.a)(ee||(ee=Object(E.a)(["\n    query topQuizzes {\n        topQuizzes {\n            _id\n            title\n            author\n            takers\n        }\n    }\n"]))),de=(Object(D.a)(te||(te=Object(E.a)(["\n    query user($userId: ID!) {\n        user(userId: $userId) {\n            username\n            quizzes {\n                title\n                questions {\n                    questionText\n                    answers {\n                        answerText\n                        isCorrect\n                    }\n                }\n            }\n        }\n    }\n"]))),Object(D.a)(ne||(ne=Object(E.a)(["\n    query quizzes($author: String!) {\n        quizzes(author: $author) {\n            _id\n            title\n            tags\n            description\n            takers\n            author\n            questions {\n                questionText\n                index\n                answers {\n                    answerText\n                    isCorrect\n                    index\n                }\n            }\n        }\n    }\n"])))),ue=Object(D.a)(se||(se=Object(E.a)(["\n    query quiz($quizId: ID!) {\n        quiz(quizId: $quizId) {\n            _id\n            title\n            author\n            createdAt\n            description\n            tags\n            questions {\n                questionText\n                index\n                answers {\n                    answerText\n                    index\n                    isCorrect\n                }\n            }\n            scores {\n                username\n                percent\n            }\n        }\n    }\n"]))),be=Object(D.a)(ae||(ae=Object(E.a)(["\n  query me {\n    me {\n      _id\n      username\n      recentlyTaken {\n          title\n          description\n          _id\n          author\n      }\n      quizzes {\n        _id\n        title\n        questions {\n          questionText\n          index\n          answers {\n            answerText\n            index\n            isCorrect\n          }\n        }\n      }\n    }\n  }\n"]))),je=Object(D.a)(re||(re=Object(E.a)(["\n  query search($search: String!) {\n    searchQuizzes(search: $search) {\n      _id\n      title\n      author\n    }\n  }\n"]))),he=Object(D.a)(ce||(ce=Object(E.a)(["\n    query DeepSearch($input: SearchInput) {\n        deepSearch(input: $input) {\n         title\n         _id\n         author\n         description\n         tags\n         createdAt\n  }\n}\n"])));function me(){var e=Object(ie.a)(le,{pollInterval:1e3}),t=e.loading,n=e.data,s=e.error,a=e.stopPolling;return t?Object(P.jsx)("div",{className:"flex justify-center items-center",children:Object(P.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main"})}):s?Object(P.jsx)("span",{children:"Error"}):(setTimeout((function(){a()}),12e4),Object(P.jsx)("div",{className:"space-y-1",children:n.topUsers?n.topUsers.map((function(e){return Object(P.jsxs)("div",{className:"bg-theme-berry p-1 text-base flex-wrap font-normal flex justify-between rounded",children:[Object(P.jsx)("div",{className:"w-2/6",children:Object(P.jsx)("span",{children:e.username})}),Object(P.jsx)("div",{className:"w-2/6",children:Object(P.jsxs)("span",{children:["Quizzes: ",e.quizzes.length]})}),Object(P.jsx)("div",{className:"w-2/6",children:Object(P.jsxs)("span",{children:["Taken: ",e.quizzesTaken]})})]})})):null}))}function xe(){var e=Object(ie.a)(oe,{pollInterval:1e3}),t=e.loading,n=e.data,s=e.error,a=e.stopPolling;return t?Object(P.jsx)("div",{className:"flex justify-center items-center",children:Object(P.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main"})}):s?Object(P.jsx)("span",{children:"Error"}):(setTimeout((function(){a()}),12e4),Object(P.jsx)("div",{className:"space-y-1",children:n.topQuizzes?n.topQuizzes.map((function(e){return Object(P.jsx)(h.b,{to:"/quiz/".concat(e._id),children:Object(P.jsxs)("div",{className:"bg-theme-berry my-2 hover:shadow-md hover:bg-theme-berrydark transition duration-200 p-1 text-base flex-wrap font-normal flex justify-between rounded",children:[Object(P.jsx)("div",{className:"w-2/6",children:Object(P.jsx)("span",{children:e.title})}),Object(P.jsx)("div",{className:"w-2/6",children:Object(P.jsxs)("span",{children:[e.takers," takers"]})}),Object(P.jsx)("div",{className:"w-2/6",children:Object(P.jsxs)("span",{children:["by: ",e.author]})})]})})})):null}))}function pe(e){for(var t=e.input,n=Object(l.useState)(1),s=Object(w.a)(n,2),a=s[0],r=s[1],c=Object(l.useState)(10),i=Object(w.a)(c,2),o=i[0],d=(i[1],[]),u=a*o,b=u-o,j=Object(ie.a)(je,{variables:{search:t}}),m=j.loading,x=j.data,p=(j.error,(null===x||void 0===x?void 0:x.searchQuizzes)||[]),O=0;O<Math.ceil(p.length/o);O++)d.push(O+1);var g=p.slice(b,u);if(m)return Object(P.jsx)("div",{className:"h-auto md:h-ninety p-5 justify-center flex items-center overflow-y-auto bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:Object(P.jsx)("div",{className:" flex justify-center items-center",children:Object(P.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main"})})});var f=d.map((function(e){return Object(P.jsx)("div",{className:"cursor-pointer",children:Object(P.jsx)("li",{className:a==e?"bg-theme-darker rounded":"null",style:{padding:"0.25rem"},id:e,onClick:v,children:e},e)})}));function v(e){r(Number(e.target.id))}return Object(P.jsx)("div",{className:"h-auto md:h-ninety p-5 bg-theme-bluegray text-sm md:text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:p.length?Object(P.jsxs)("div",{className:"space-y-4",children:[Object(P.jsx)("span",{className:"italic",children:"Search Results for '".concat(t,"'")}),Object(P.jsxs)("div",{className:"flex flex-col space-y-2 container",children:[function(e){return Object(P.jsx)(P.Fragment,{children:e.map((function(e,t){return Object(P.jsx)(h.b,{to:"/quiz/".concat(e._id),children:Object(P.jsxs)("div",{className:"flex justify-between container rounded bg-theme-darkerer hover:bg-theme-darkest hover:shadow-sm transition duration-200 px-2 py-1",children:[Object(P.jsx)("span",{children:e.title}),Object(P.jsx)("span",{children:e.author}),Object(P.jsx)("div",{children:Object(P.jsx)("span",{children:Object(P.jsx)(k.a,{icon:q.c})})})]})},t)}))})}(g),Object(P.jsx)("div",{className:"flex justify-center items-center",children:Object(P.jsxs)("ul",{className:"flex flex-wrap list-none",children:[Object(P.jsx)("li",{className:"p-1",children:Object(P.jsx)("button",{onClick:function(){r(a-1)},disabled:a==d[0],children:Object(P.jsx)(k.a,{icon:q.b})})},"prevbtn"),p.length>10?f:null,Object(P.jsx)("li",{className:"p-1",children:Object(P.jsx)("button",{onClick:function(){r(a+1)},disabled:a==d[d.length-1],children:Object(P.jsx)(k.a,{icon:q.c})})},"nextbtn")]})})]})]}):"No results for that search!"})}function Oe(){for(var e=Object(T.a)(L),t=Object(w.a)(e,1)[0],n=Object(l.useState)(1),s=Object(w.a)(n,2),a=s[0],r=s[1],c=Object(l.useState)(10),i=Object(w.a)(c,2),o=i[0],d=(i[1],Object(l.useState)("")),u=Object(w.a)(d,2),b=u[0],m=u[1],x=[],p=a*o,O=p-o,g=Object(ie.a)(de,{variables:{author:_.getProfile().data.username},fetchPolicy:"cache-and-network"}),f=g.loading,v=g.data,y=g.refetch,N=(null===v||void 0===v?void 0:v.quizzes)||[],z=0;z<Math.ceil(N.length/o);z++)x.push(z+1);var I=N.slice(O,p),A=x.map((function(e){return Object(P.jsx)("div",{className:"cursor-pointer",children:Object(P.jsx)("li",{className:a==e?"bg-theme-darker rounded":"null",style:{padding:"0.25rem"},id:e,onClick:Q,children:e},e)})}));function Q(e){r(Number(e.target.id))}function E(){return(E=Object(C.a)(S.a.mark((function e(n,s){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.stopPropagation(),s.preventDefault(),e.next=4,t({variables:{quizId:n._id}});case 4:a=e.sent,a.data&&y();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return f?Object(P.jsx)("div",{className:"flex justify-center items-center",children:Object(P.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main"})}):b?Object(P.jsx)(j.a,{to:"/creator"}):Object(P.jsxs)("div",{children:[Object(P.jsx)("h2",{className:"text-lg mb-5 font-semibold",children:"Your Quizzes"}),N.length?Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{children:"You have ".concat(N.length," Saved Quizzes")}),Object(P.jsxs)("div",{className:"mt-5 flex flex-col space-y-2 container",children:[function(e){return Object(P.jsx)(P.Fragment,{children:e.map((function(e,t){return Object(P.jsxs)("div",{className:"flex justify-between container rounded bg-theme-darkerer hover:bg-theme-darkest hover:shadow-sm transition duration-200 px-2 py-1",children:[Object(P.jsx)(h.b,{to:"/quiz/".concat(e._id),children:Object(P.jsx)("div",{className:"w-auto font-semibold",children:Object(P.jsx)("span",{children:e.title})})}),Object(P.jsxs)("div",{className:"px-1 space-x-3",children:[Object(P.jsx)(h.b,{to:"/creator",children:Object(P.jsx)("span",{onClick:function(){return function(e){localStorage.setItem("quiz",JSON.stringify(e)),m(!0)}(e)},children:Object(P.jsx)(k.a,{icon:q.d})})}),Object(P.jsx)("span",{className:"cursor-pointer",onClick:function(t){return function(e,t){return E.apply(this,arguments)}(e,t)},children:Object(P.jsx)(k.a,{icon:q.h})})]})]},t)}))})}(I),Object(P.jsx)("div",{className:"flex justify-center items-center",children:Object(P.jsxs)("ul",{className:"flex flex-wrap list-none",children:[Object(P.jsx)("li",{className:"p-1",children:Object(P.jsx)("button",{onClick:function(){r(a-1)},disabled:a==x[0],children:Object(P.jsx)(k.a,{icon:q.b})})},"prevbtn"),N.length>10?A:null,Object(P.jsx)("li",{className:"p-1",children:Object(P.jsx)("button",{onClick:function(){r(a+1)},disabled:a==x[x.length-1],children:Object(P.jsx)(k.a,{icon:q.c})})},"nextbtn")]})})]})]}):"You have no Saved Quizzes"]})}function ge(){var e=Object(ie.a)(be),t=e.data,n=e.loading,s=e.error;return n?Object(P.jsx)("div",{className:"flex justify-center items-center",children:Object(P.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main"})}):s?Object(P.jsx)("span",{children:"Error"}):Object(P.jsx)("div",{children:t.me.recentlyTaken.length?Object(P.jsx)("div",{children:t.me.recentlyTaken.map((function(e){return Object(P.jsx)("div",{className:"my-2",children:Object(P.jsx)(h.b,{to:"/quiz/".concat(e._id),children:Object(P.jsxs)("div",{className:"bg-theme-darkerer hover:bg-theme-darkest transition duration-200 flex justify-between rounded p-1",children:[Object(P.jsx)("p",{children:e.title}),Object(P.jsx)("p",{className:"text-md font-normal",children:e.author})]})})})}))}):Object(P.jsx)("span",{children:"No quizzes taken!"})})}function fe(){var e=Object(l.useState)(""),t=Object(w.a)(e,2),n=t[0],s=t[1];return localStorage.getItem("id_token")?Object(P.jsx)("div",{className:"min-h-screen flex md:pt-16 justify-center ",children:Object(P.jsxs)("div",{className:"h-auto w-full md:h-eightyvh m-2 md:m-5 grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4",children:[Object(P.jsxs)("div",{className:"text-center h-full space-y-4 mt-20 md:mt-0",children:[Object(P.jsx)("form",{className:"h-10 md:h-ten",children:Object(P.jsx)("input",{value:n,onChange:function(e){s(e.target.value)},type:"text",className:"w-full bg-theme-aliceblue placeholder-gray-400 placeholder-opacity-70 p-3 rounded",placeholder:"Search for topics!"})}),""!==n?Object(P.jsx)(pe,{input:n}):Object(P.jsxs)("div",{className:"md:h-ninety p-5 bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:[Object(P.jsx)("p",{className:"pb-10",children:"Top Quizzes"}),Object(P.jsx)(xe,{})]})]}),Object(P.jsxs)("div",{className:"flex flex-wrap space-y-0 md:space-y-4 text-xs lg:text-sm text-center",children:[Object(P.jsxs)("div",{className:"h-ten justify-between w-full flex lg:w-full mb-3 md:mb-0 md:pt-0 md:mt-0 gap-3",children:[Object(P.jsx)("div",{className:"w-full",children:Object(P.jsx)(h.b,{to:"/search",children:Object(P.jsx)("button",{className:"p-3 h-10 md:h-16 bg-theme-darkerer hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg",children:Object(P.jsx)("p",{children:"Advanced Search"})})})}),Object(P.jsx)("div",{className:"w-full",children:Object(P.jsx)(h.b,{to:"/creator",children:Object(P.jsx)("button",{className:"p-3 h-10 md:h-16 bg-theme-darkerer hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg",children:Object(P.jsx)("p",{children:"Create a quiz"})})})}),Object(P.jsx)("div",{className:"w-full",children:Object(P.jsx)(h.b,{to:"/",onClick:_.logout,children:Object(P.jsx)("button",{className:"p-3 h-10 md:h-16 bg-theme-darkerer hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg",children:Object(P.jsx)("p",{children:"Log out"})})})})]}),Object(P.jsx)("div",{className:"grid md:h-ninety p-5 flex-grow bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:Object(P.jsx)(Oe,{})})]}),Object(P.jsxs)("div",{className:"text-center space-y-4",children:[Object(P.jsxs)("div",{className:"hidden md:grid h-auto text-sm md:text-lg overflow-y-auto md:h-1/2 p-5 bg-theme-bluegray font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:["Recently Taken",Object(P.jsx)(ge,{})]}),Object(P.jsxs)("div",{className:"hidden md:grid h-1/2 p-5 bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:["Top Users",Object(P.jsx)(me,{})]})]})]})}):Object(P.jsx)(j.a,{to:"/"})}var ve=n(61);function we(e){var t=e.hideFunction,n=e.message;return Object(P.jsx)("div",{children:Object(P.jsxs)("div",{className:"text-white flex px-6 py-4 border-0 rounded relative mb-4 bg-red-700",children:[Object(P.jsx)("span",{className:"text-xl inline-block mr-5 align-middle",children:Object(P.jsx)(k.a,{icon:q.e})}),Object(P.jsxs)("span",{className:"inline-block align-middle mr-8",children:[Object(P.jsx)("b",{className:"capitalize",children:"Failed: "})," ",n]}),Object(P.jsx)("button",{onClick:t,className:"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none",children:Object(P.jsx)("span",{children:"\xd7"})})]})})}function ye(){var e=Object(T.a)(F),t=Object(w.a)(e,2),n=t[0],s=t[1].error,a=Object(l.useState)({show:!1,message:""}),r=Object(w.a)(a,2),c=r[0],i=r[1],o={title:"",description:"",tags:[],questions:[]},d={questionText:"",answers:[],index:0},u={answerText:"",isCorrect:!1,index:0},h=localStorage.getItem("quiz")?JSON.parse(localStorage.getItem("quiz")):o;h.__typename&&(delete h.__typename,h.questions.map((function(e){return delete e.__typename,e.answers.map((function(e){return delete e.__typename,e})),e}))),(h._id||h.author)&&(delete h._id,delete h.author,delete h.takers),h.createdAt&&delete h.createdAt,h.scores&&delete h.scores,h.tags||(h.tags=[]),Object(l.useEffect)((function(){s&&i({show:!0,message:s.message})}),[s]);var m=Object(l.useState)(h),x=Object(w.a)(m,2),p=x[0],O=x[1],g=Object(l.useState)({}),f=Object(w.a)(g,2),v=f[0],y=f[1],N=Object(l.useState)({}),z=Object(w.a)(N,2),I=z[0],A=z[1],Q=Object(l.useState)(""),_=Object(w.a)(Q,2),E=_[0],D=_[1],M=Object(l.useState)(!1),$=Object(w.a)(M,2),L=$[0],J=$[1];function R(){var e=p.questions;e[v.index-1]=v,O(Object(b.a)(Object(b.a)({},p),{},{questions:e})),localStorage.setItem("quiz",JSON.stringify(p))}function H(){var e=v.answers;e[I.index-1]=I,y(Object(b.a)(Object(b.a)({},v),{},{answers:e}))}function U(){I.answerText&&H(),R();var e=!0;p.title||(e=!1,i({show:!0,message:"You need a title!"})),p.description.length>=10||(e=!1,i({show:!0,message:"You need a Description of at least 10 characters!"})),p.questions.length>=3||(e=!1,i({show:!0,message:"You need at least 3 questions!"})),p.tags.length||(e=!1,i({show:!0,message:"At least 1 tag is required!"})),p.questions.forEach((function(t){t.answers.length>=2||(e=!1,i({show:!0,message:"Each question must have at least 2 answers!"})),t.questionText||(e=!1,i({show:!0,message:"Questions are missing text!"})),t.answers.forEach((function(t){t.answerText||(e=!1,i({show:!0,message:"Answers are missing text!"}))}))})),e&&function(){B.apply(this,arguments)}()}function Y(e){"Enter"===e.key&&function(){var e=p.tags;e.length<5?E.length<13?(e.push(E),O(Object(b.a)(Object(b.a)({},p),{},{tags:e}))):i({show:!0,message:"Maximum tag length is 12 characters!"}):i({show:!0,message:"Maximum allowed tags is 5!"}),D("")}()}function B(){return(B=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{input:p}});case 2:t=e.sent,t.data&&(y({}),A({}),O(o),localStorage.getItem("quiz")&&localStorage.removeItem("quiz"),J(!0));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return localStorage.getItem("id_token")?L?Object(P.jsx)(j.a,{to:"/home/reload"}):Object(P.jsx)("div",{className:"min-h-screen flex ",children:Object(P.jsxs)("div",{className:"bg-theme-bluegray border-2 md:border-4 border-theme-main mt-20 w-full rounded shadow-lg p-5 m-5",children:[Object(P.jsx)("div",{className:"mb-3 md:flex md:justify-between",children:Object(P.jsx)("h1",{className:"text-2xl font-bold font-title text-center md:text-right mb-3",children:"Quiz Creator"})}),Object(P.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 mt-2 gap-3 text-theme-aliceblue",children:[Object(P.jsxs)("div",{className:"bg-theme-darkerer rounded-lg p-3",children:[Object(P.jsx)("h2",{className:"text-lg font-bold mb-4 text-center",children:"Question List"}),Object(P.jsxs)("div",{className:"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3",children:[Object(P.jsx)("div",{className:"space-y-2 flex flex-col",children:p.questions.length?p.questions.map((function(e){return Object(P.jsxs)("div",{onClick:function(){return function(e){I.answerText&&H(),R(),y(e),A({}),setTimeout((function(){var e=document.querySelector("#questionInput");e&&e.focus()}),100)}(e)},className:"flex flex-row justify-between container ".concat(v.index===e.index?"bg-theme-berrydarker shadow-md":"bg-theme-berry hover:bg-theme-berrydark"," rounded p-2 transition duration-200"),children:[Object(P.jsxs)("span",{children:[Object(P.jsxs)("strong",{children:[e.index,". ) "]}),e.questionText]}),Object(P.jsx)("div",{onClick:function(t){return function(e,t){t.stopPropagation(),I.answerText&&H(),R(),e.index===v.index&&(y({}),A({}));var n=p.questions,s=n.indexOf(e);n.splice(s,1),n.forEach((function(e,t){e.index=t+1})),O(Object(b.a)(Object(b.a)({},p),{},{questions:n}))}(e,t)},className:"px-1 transition duration-100 hover:text-red-700 cursor-pointer",children:Object(P.jsx)("span",{children:Object(P.jsx)(k.a,{icon:q.h})})})]},e.index)})):Object(P.jsx)("p",{className:"text-center italic",children:"Add questions by clicking the button below"})}),Object(P.jsxs)("button",{className:"mt-4 w-full rounded py-1 font-semibold hover:bg-green-700 bg-green-500 transition duration-200",onClick:function(){return function(){I.answerText&&H(),R();var e=p.questions;if(e.length<30){var t=d;t.index=p.questions.length+1,e.push(d),O(Object(b.a)(Object(b.a)({},p),{},{questions:e})),A({}),y(t),setTimeout((function(){var e=document.querySelector("#questionInput");e&&e.focus()}),100)}else i({show:!0,message:"Max of 30 questions!"})}()},children:[Object(P.jsx)(k.a,{icon:q.f})," Question"]})]})]}),Object(P.jsxs)("div",{className:"bg-theme-darkerer rounded-lg p-3",children:[Object(P.jsx)("h2",{className:"text-lg font-bold mb-4 text-center",children:"Question Editor"}),v.index?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("form",{children:Object(P.jsx)("textarea",{id:"questionInput",className:"hover:bg-gray-200 transition duration-200 text-black w-full rounded p-1",type:"text",value:v.questionText,placeholder:"Make sure the correct answer is selected...",onChange:function(e){return t=e.target.value,void y(Object(b.a)(Object(b.a)({},v),{},{questionText:t}));var t}})}),Object(P.jsxs)("div",{className:"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3",children:[Object(P.jsx)("span",{className:"font-semibold text-lg",children:"Answers"}),Object(P.jsx)("div",{className:"space-y-2",children:v.answers.map((function(e,t){return Object(P.jsxs)("div",{onClick:function(){return function(e){H(),R(),A(e),setTimeout((function(){var e=document.querySelector("#answerInput");e&&e.focus()}),100)}(e)},className:"flex flex-row justify-between container rounded ".concat(I.index===e.index?"bg-theme-berrydarker shadow-md":"bg-theme-berry hover:bg-theme-berrydark"," transition duration-200 p-2"),children:[Object(P.jsxs)("span",{children:[Object(P.jsxs)("strong",{children:[e.index,". "]}),e.answerText]}),Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsx)("div",{className:"px-3",children:Object(P.jsx)("input",{checked:e.isCorrect,onChange:function(t){return function(e,t){t.stopPropagation();var n=v.answers.map((function(t){return t.isCorrect=t===e,t}));console.log(n),y(Object(b.a)(Object(b.a)({},v),{},{answers:n}))}(e,t)},type:"checkbox"})}),Object(P.jsx)("div",{onClick:function(t){return function(e,t){t.stopPropagation(),H(),e.index===I.index&&A({});var n=v.answers,s=n.indexOf(e);n.splice(s,1),n.forEach((function(e,t){e.index=t+1})),e.isCorrect&&n.length&&(n[0].isCorrect=!0),y(Object(b.a)(Object(b.a)({},v),{},{answers:n}))}(e,t)},className:"px-1 transition duration-100 hover:text-red-700 cursor-pointer",children:Object(P.jsx)("span",{children:Object(P.jsx)(k.a,{icon:q.h})})})]})]},t)}))}),Object(P.jsxs)("button",{onClick:function(){return function(){H();var e=v.answers;if(e.length<10){var t=u;t.index=v.answers.length+1,1===t.index&&(t.isCorrect=!0),e.push(t),y(Object(b.a)(Object(b.a)({},v),{},{answers:e})),A(t),R(),setTimeout((function(){var e=document.querySelector("#answerInput");e&&e.focus()}),100)}else i({show:!0,message:"Max of 10 answers per question!"})}()},className:"mx-auto hover:bg-green-700 bg-green-500 py-1 font-semibold rounded w-full mt-2 transition duration-200",children:[Object(P.jsx)(k.a,{icon:q.f}),"  Answer"]})]})]}):Object(P.jsx)("p",{className:"text-center italic",children:"Select a question to edit"})]}),Object(P.jsxs)("div",{className:"bg-theme-darkerer rounded-lg p-3",children:[Object(P.jsx)("h2",{className:"text-lg font-bold mb-4 text-center",children:"Answer Editor"}),I.index?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3",children:Object(P.jsx)("form",{children:Object(P.jsx)("textarea",{id:"answerInput",className:"hover:bg-gray-200 transition duration-200 text-black w-full rounded p-1",type:"text",value:I.answerText,placeholder:"Answer",onChange:function(e){return A(Object(b.a)(Object(b.a)({},I),{},{answerText:e.target.value}))}})})})}):Object(P.jsx)("p",{className:"text-center italic",children:"Select an answer to edit"})]})]}),Object(P.jsxs)("div",{className:"flex flex-wrap justify-center mt-8 gap-3 lg:gap-10",children:[Object(P.jsx)("div",{children:Object(P.jsx)("input",{className:"bg-theme-aliceblue w-full md:w-96 rounded-lg",type:"text",value:p.title,placeholder:"Enter a title...",onChange:function(e){return O(Object(b.a)(Object(b.a)({},p),{},{title:e.target.value}))}})}),Object(P.jsx)("div",{children:Object(P.jsx)("input",{className:"bg-theme-aliceblue w-full md:w-96 rounded-lg",type:"text",value:p.description,placeholder:"Enter a Description...",onChange:function(e){return O(Object(b.a)(Object(b.a)({},p),{},{description:e.target.value}))}})}),Object(P.jsxs)("div",{className:"justify-center",children:[Object(P.jsx)(ve.Hint,{options:["Programming","Javascript","Node","MySQL","CSS","React","MongoDB","WebDev","HTML","Movies","Television","Math","History","Science","Geography"],allowTabFill:!0,children:Object(P.jsx)("input",{className:"bg-theme-aliceblue w-full md:w-96 rounded-lg",value:E,type:"text",placeholder:"Add tags...",onChange:function(e){return D(e.target.value)},onKeyDown:function(e){return Y(e)}})}),p.tags.length?Object(P.jsx)("div",{className:"grid grid-cols-3 w-full gap-2 mt-3 flex-grow-0",children:p.tags.map((function(e){return Object(P.jsxs)("div",{className:"p-1 rounded-xl text-sm bg-yellow-300 flex justify-between",children:[Object(P.jsx)("span",{className:"overflow-x-hidden max-w-sm",children:e}),Object(P.jsx)("div",{onClick:function(){return function(e){var t=p.tags,n=t.indexOf(e);t.splice(n,1),O(Object(b.a)(Object(b.a)({},p),{},{tags:t}))}(e)},className:"transition duration-100 hover:text-red-700 cursor-pointer px-1",children:Object(P.jsx)("span",{children:Object(P.jsx)(k.a,{icon:q.h})})})]})}))}):null]})]}),Object(P.jsx)("div",{className:"text-center",children:Object(P.jsx)("button",{disabled:p.questions.length<3,onClick:function(){return U()},className:"rounded ".concat(p.questions.length>=3?"bg-green-500 hover:bg-green-700":"bg-gray-500"," mx-auto font-bold text-lg mt-10 py-3 px-20 transition duration-200"),children:"Create Quiz"})}),c.show?Object(P.jsx)("div",{className:"mt-8",children:Object(P.jsx)(we,{message:c.message,hideFunction:function(){return i({show:!1,message:""})}})}):null]})}):Object(P.jsx)(j.a,{to:"/"})}function Ne(){var e=Object(l.useState)({}),t=Object(w.a)(e,2),n=t[0],s=t[1],a=Object(l.useState)([]),r=Object(w.a)(a,2),c=r[0],i=r[1],o=Object(l.useState)({percentage:0,results:[]}),d=Object(w.a)(o,2),u=d[0],b=d[1],h=Object(l.useState)({show:!1,message:""}),m=Object(w.a)(h,2),x=m[0],p=m[1],O=Object(l.useState)(!1),g=Object(w.a)(O,2),f=g[0],v=g[1],y=Object(l.useState)(!1),N=Object(w.a)(y,2),z=N[0],I=N[1],A=Object(T.a)(J),Q=Object(w.a)(A,1)[0],E=Object(j.g)().id,D=Object(ie.a)(ue,{variables:{quizId:E}}),M=D.loading,$=D.data,F=D.error;Object(l.useEffect)((function(){if(s($?$.quiz.questions[0]:{}),!c.length&&$){var e=$.quiz.questions.map((function(e){return{chosenAnswer:0,questionIndex:e.index}}));i(e)}}),[$]);var L=function(){var e=Object(l.useState)(0),t=Object(w.a)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}();function R(e){var t,n=c.find((function(t){return t.questionIndex===e})).chosenAnswer;return null===(t=$.quiz.questions[e-1].answers[n-1])||void 0===t?void 0:t.answerText}function H(e){return 1==e?"text-theme-magenta":e>=.85?"text-green-500":e>=.7?"text-yellow-300":e>=.6?"text-yellow-600":"text-red-700"}function U(){return(U=Object(C.a)(S.a.mark((function e(){var t,n,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,c.forEach((function(e){0===e.chosenAnswer&&(t=!1)})),!t){e.next=10;break}return e.next=5,Q({variables:{quizId:E,answers:c}});case 5:n=e.sent,s=n.data,b(s.submitQuiz),e.next=11;break;case 10:p({show:!0,message:"You have unanswered questions!"});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t=e.question,n=e.answersList;if(t.answers){var s=t.answers.map((function(e){var s;return Object(P.jsx)("div",{className:"w-full flex justify-center",children:Object(P.jsx)("div",{onClick:function(){return function(e,t){var n=c;n[e.index-1].chosenAnswer=t.index,i(n),L()}(t,e)},className:"w-3/4 p-2 rounded transition duration-200 ".concat((null===(s=n[t.index-1])||void 0===s?void 0:s.chosenAnswer)===e.index?"bg-yellow-500":"bg-yellow-200 hover:bg-yellow-400"),children:Object(P.jsxs)("span",{children:[Object(P.jsxs)("span",{className:"font-semibold mr-3",children:[e.index,".) "]}),e.answerText]})})},"".concat(t.index).concat(e.index))}));return Object(P.jsx)("div",{className:"space-y-3",children:s})}return Object(P.jsx)("p",{children:"No Answers"})}return z?Object(P.jsx)(j.a,{to:"/creator"}):M?Object(P.jsx)("div",{className:"min-h-screen items-center justify-center flex ",children:Object(P.jsx)("div",{className:" flex justify-center items-center",children:Object(P.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main"})})}):F?Object(P.jsx)("div",{className:"min-h-screen items-center justify-center flex ",children:Object(P.jsx)("div",{className:"p-10 rounded bg-red-400",children:Object(P.jsx)("span",{className:"text-3xl font-bold",children:"Quiz ID not Found"})})}):Object(P.jsx)("div",{className:"items-center justify-center flex ",children:Object(P.jsxs)("div",{className:"rounded mt-36 w-full shadow-lg p-5 bg-theme-darkerer mx-1 md:mx-0 md:w-10/12",children:[Object(P.jsxs)("div",{className:"md:flex md:justify-between",children:[Object(P.jsx)("h3",{className:"text-4xl text-white font-main",children:$.quiz.title}),$.quiz.tags&&!f?Object(P.jsx)("div",{className:"grid grid-cols-3 md:w-2/6 gap-2 mt-3 mb-5 md:mb-0 flex-grow-0",children:$.quiz.tags.map((function(e){return Object(P.jsxs)("div",{className:"p-1 rounded-xl text-sm bg-theme-berry text-white flex justify-between",children:[Object(P.jsx)("span",{className:"overflow-x-hidden max-w-sm",children:e}),Object(P.jsx)("span",{children:Object(P.jsx)(k.a,{icon:q.g})})]})}))}):null]}),!f&&$?Object(P.jsxs)("div",{className:"w-full mx-auto",children:[Object(P.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 px-5 md:gap-5",children:[Object(P.jsxs)("div",{className:"w-full md:my-10 mx-auto p-3 bg-theme-bluegray rounded-lg",children:[Object(P.jsx)("h2",{className:"text-xl font-bold text-white underline",children:"Description"}),Object(P.jsx)("p",{className:"mx-3 py-3",children:$.quiz.description})]}),Object(P.jsxs)("div",{className:"w-full my-10 mx-auto p-3 bg-theme-bluegray rounded-lg",children:[Object(P.jsx)("h2",{className:"text-xl text-white font-bold underline",children:"Recent Scores"}),$.quiz.scores.map((function(e){return Object(P.jsxs)("div",{className:"flex justify-between my-2 w-5/6 md:w-1/2 px-2 rounded bg-theme-aliceblue mx-auto",children:[Object(P.jsx)("span",{className:"text-lg font-semibold",children:e.username}),Object(P.jsxs)("span",{className:"text-lg font-semibold ".concat(H(e.percent)),children:[(100*e.percent).toFixed(),"%"]})]})}))]})]}),Object(P.jsxs)("div",{className:"text-center",children:[Object(P.jsx)("button",{className:"py-2 px-8 bg-green-500 hover:bg-green-700 transition duration-200 rounded center",onClick:function(){return v(!0)},children:"Start Quiz"}),$.quiz.author===_.getProfile().data.username?Object(P.jsx)("button",{className:"py-2 px-8 bg-theme-berry hover:bg-theme-berrydark ml-5 transition duration-200 rounded center",onClick:function(){return localStorage.setItem("quiz",JSON.stringify(null===$||void 0===$?void 0:$.quiz)),void I(!0)},children:"Copy and Edit"}):null]})]}):null,!u.results.length&&f?Object(P.jsxs)("div",{className:"mt-10",children:[Object(P.jsx)("div",{className:"container rounded bg-theme-aliceblue p-5 mb-8",children:Object(P.jsx)("span",{children:n.questionText})}),Object(P.jsx)(Y,{question:n,answersList:c}),Object(P.jsxs)("div",{className:"mt-10 items-center justify-center flex space-x-5",children:[1!==n.index?Object(P.jsx)("button",{className:"p-2 rounded bg-theme-berry hover:bg-theme-berrydark transition duration-200",onClick:function(){return function(){if(n.index>1){var e=n.index-1,t=$.quiz.questions[e-1];s(t)}}()},children:"Back"}):null,n.index!==$.quiz.questions.length?Object(P.jsx)("button",{className:"p-2 rounded bg-theme-berry hover:bg-theme-berrydark transition duration-200",onClick:function(){return function(){if(n.index<$.quiz.questions.length){var e=$.quiz.questions[n.index];s(e)}}()},children:"Next Question"}):Object(P.jsx)("button",{onClick:function(){return function(){return U.apply(this,arguments)}()},className:"p-2 rounded bg-green-400 hover:bg-green-600 transition duration-200",children:"Submit Quiz"})]}),Object(P.jsx)("div",{className:"w-full text-right",children:Object(P.jsxs)("span",{className:"pt-5 pr-2 text-white",children:[n.index,"/",$.quiz.questions.length]})})]}):null,u.results.length?Object(P.jsxs)("div",{className:"space-y-2 mt-5",children:[Object(P.jsx)("div",{className:"text-center mb-5",children:Object(P.jsxs)("span",{className:"text-3xl text-white",children:["You scored ",Object(P.jsx)("span",{className:"font-semibold ".concat(H(u.percentage)),children:(100*u.percentage).toFixed()}),"%"]})}),Object(P.jsx)("div",{className:"space-y-3 py-5",children:u.results.map((function(e){return Object(P.jsxs)("div",{className:"p-2 flex justify-between rounded ".concat(e.correct?"bg-green-400":"bg-red-600"),children:[Object(P.jsx)("span",{children:$.quiz.questions[e.questionIndex-1].questionText}),Object(P.jsxs)("span",{children:["Your Answer: ",R(e.questionIndex)]})]})}))})]}):null,x.show?Object(P.jsx)("div",{className:"mt-5",children:Object(P.jsx)(we,{message:x.message,hideFunction:function(){return p({show:!1,message:""})}})}):null,f?null:Object(P.jsx)("div",{className:"text-right mt-5 text-gray-900",children:Object(P.jsxs)("span",{children:["Created By: ",$.quiz.author," on ",$.quiz.createdAt]})})]})})}var ke=function(e){var t=e.toString(),n=t.charAt(t.length-1);return t="".concat(t,"1"===n&&"11"!==t?"st":"2"===n&&"12"!==t?"nd":"3"===n&&"13"!==t?"rd":"th")};function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.monthLength,s=void 0===n?"short":n,a=t.dateSuffix,r=void 0===a||a,c={0:"short"===s?"Jan":"January",1:"short"===s?"Feb":"February",2:"short"===s?"Mar":"March",3:"short"===s?"Apr":"April",4:"May",5:"short"===s?"Jun":"June",6:"short"===s?"Jul":"July",7:"short"===s?"Aug":"August",8:"short"===s?"Sep":"September",9:"short"===s?"Oct":"October",10:"short"===s?"Nov":"November",11:"short"===s?"Dec":"December"},i=new Date(parseInt(e,10)),l=c[i.getMonth()],o=r?ke(i.getDate()):i.getDate(),d=i.getFullYear(),u=i.getHours()>12?Math.floor(i.getHours()-12):i.getHours();0===u&&(u=12);i.getMinutes(),i.getMinutes(),i.getHours();var b="".concat(l," ").concat(o,", ").concat(d);return b}function ze(){var e=Object(l.useState)({title:"",author:"",tags:[]}),t=Object(w.a)(e,2),n=t[0],s=t[1],a=Object(l.useState)(""),r=Object(w.a)(a,2),c=r[0],i=r[1],o=Object(l.useState)({}),d=Object(w.a)(o,2),u=d[0],j=d[1],m=Object(l.useState)({show:!1,message:""}),x=Object(w.a)(m,2),p=x[0],O=x[1];function g(){return(g=Object(C.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(n);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){var t=e.tags,a=e.deletable;return Object(P.jsx)("div",{className:"grid grid-cols-3 w-full gap-2 flex-grow-0",children:t.length?t.map((function(e){return Object(P.jsxs)("div",{className:"p-1 overflow-x-hidden max-w-sm rounded-xl h-7 text-sm bg-theme-berry text-white flex justify-between",children:[Object(P.jsx)("span",{className:"max-w-sm",children:e}),a?Object(P.jsx)("div",{onClick:function(){return function(e){var t=n.tags,a=t.indexOf(e);t.splice(a,1),s(Object(b.a)(Object(b.a)({},n),{},{tags:t}))}(e)},className:"transition duration-100 hover:text-red-700 cursor-pointer px-1",children:Object(P.jsx)("span",{children:Object(P.jsx)(k.a,{icon:q.h})})}):null]})})):null})}function v(){var e=Object(ie.a)(he,{variables:{input:Object(b.a)({},u)}}),t=e.loading,n=e.data,s=e.error;return t?Object(P.jsx)("div",{className:" flex justify-center items-center",children:Object(P.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main"})}):s?Object(P.jsx)("span",{children:s}):n.deepSearch.length?Object(P.jsx)("div",{className:"space-y-2 md:px-10",children:n.deepSearch.map((function(e){return Object(P.jsxs)("div",{className:"rounded w-full p-3 bg-theme-darkerer lg:flex space-y-4 lg:space-y-0 justify-between",children:[Object(P.jsxs)("div",{className:"w-1/2",children:[Object(P.jsxs)("p",{className:"text-xl font-semibold text-white",children:[e.title,Object(P.jsxs)("span",{className:"ml-1 text-sm font-normal",children:[" -",e.author]})]}),Object(P.jsxs)("p",{className:"text-gray-500 text-xs mt-3",children:["Created ",qe(e.createdAt)]})]}),Object(P.jsx)("div",{className:"container rounded bg-theme-aliceblue p-3 w-full",children:Object(P.jsx)("span",{children:e.description})}),Object(P.jsx)("div",{className:"w-3/4 px-5",children:Object(P.jsx)(f,{tags:e.tags,deletable:!1})}),Object(P.jsx)("div",{className:"w-2/6 flex items-center justify-center",children:Object(P.jsx)(h.b,{to:"/quiz/".concat(e._id),children:Object(P.jsx)("button",{className:"p-2 rounded bg-green-400 hover:bg-green-600 transition duration-200",children:"Go to Quiz"})})})]})}))}):Object(P.jsx)("span",{children:"No Results Found"})}function y(e){"Enter"===e.key&&(e.preventDefault(),function(){var e=n.tags;e.length<5?c.length<13?(e.push(c),s(Object(b.a)(Object(b.a)({},n),{},{tags:e}))):O({show:!0,message:"Maximum tag length is 12 characters!"}):O({show:!0,message:"Maximum allowed tags is 5!"}),i("")}())}return Object(P.jsx)("div",{className:"min-h-screen flex ",children:Object(P.jsxs)("div",{className:"bg-theme-bluegray border-2 md:border-4 border-theme-main mt-20 w-full rounded shadow-lg p-5 m-5",children:[Object(P.jsx)("h2",{className:"text-4xl font-title text-white mb-5",children:"Search"}),Object(P.jsxs)("div",{className:"rounded bg-theme-aliceblue p-5",children:[Object(P.jsxs)("div",{className:"flex flex-wrap w-full justify-between",children:[Object(P.jsx)("div",{children:Object(P.jsx)("input",{className:"bg-theme-aliceblue rounded-lg",type:"text",value:n.title,placeholder:"Title",onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{title:e.target.value}))}})}),Object(P.jsx)("div",{children:Object(P.jsx)("input",{className:"bg-theme-aliceblue rounded-lg",type:"text",value:n.author,placeholder:"Author",onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{author:e.target.value}))}})}),Object(P.jsxs)("div",{className:"flex justify-between gap-2",children:[Object(P.jsx)(ve.Hint,{options:["Programming","Javascript","Node","MySQL","CSS","React","MongoDB","WebDev","HTML","Movies","Television","Math","History","Science","Geography"],allowTabFill:!0,children:Object(P.jsx)("input",{className:"bg-theme-aliceblue rounded-lg",value:c,type:"text",placeholder:"Add tags...",onChange:function(e){return i(e.target.value)},onKeyDown:function(e){return y(e)}})}),n.tags.length?Object(P.jsx)(f,{tags:n.tags,deletable:!0}):null]}),Object(P.jsx)("button",{className:"bg-blue-600 hover:bg-blue-800 transition duration-200 rounded p-2 text-white",onClick:function(){return function(){return g.apply(this,arguments)}()},children:"Submit Search"})]}),p.show?Object(P.jsx)("div",{className:"mt-8",children:Object(P.jsx)(we,{message:p.message,hideFunction:function(){return O({show:!1,message:""})}})}):null]}),Object(P.jsx)("div",{className:"bg-theme-bluegray rounded p-5 mt-2",children:Object(P.jsx)(v,{})})]})})}var Se=Object(m.a)({uri:"/graphql"}),Ce=Object(g.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&console.log("graphQLErrors",t),n&&console.log("networkError",n)})),Te=f.a.from([Ce,Se]),Ie=Object(v.a)((function(e,t){var n=t.headers,s=localStorage.getItem("id_token");return{headers:Object(b.a)(Object(b.a)({},n),{},{authorization:s?"Bearer ".concat(s):""})}})),Ae=new x.a({link:Ie.concat(Te),cache:new p.a});var Qe=function(){return Object(P.jsx)(O.a,{client:Ae,children:Object(P.jsx)(h.a,{children:Object(P.jsxs)("div",{className:"font-main tracking-wide",children:[Object(P.jsx)(G,{}),Object(P.jsxs)(j.d,{children:[Object(P.jsx)(j.b,{exact:!0,path:"/",component:V}),Object(P.jsx)(j.b,{exact:!0,path:"/home",component:fe}),Object(P.jsx)(j.a,{exact:!0,from:"/home/reload",to:"/home"}),Object(P.jsx)(j.b,{path:"/creator",component:ye}),Object(P.jsx)(j.b,{path:"/search",component:ze}),Object(P.jsx)(j.b,{path:"/quiz/:id",component:Ne})]})]})})})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,144)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))};u.a.render(Object(P.jsx)(o.a.StrictMode,{children:Object(P.jsx)(Qe,{})}),document.getElementById("root")),_e()}},[[126,1,2]]]);
//# sourceMappingURL=main.5cf6a19d.chunk.js.map