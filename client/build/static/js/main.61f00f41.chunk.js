(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var s,a,r,i,c,o=n(3),l=n.n(o),d=n(64),u=n.n(d),b=(n(101),n(5)),m=n(11),j=n(18),h=n(89),x=n(135),p=n(136),g=n(133),O=n(85),f=n(51),v=n(88),w=n(132),y=n(8),N=n(65),q=n.n(N),k=n(23),z=n(24),S=n(21),C=n.n(S),I=n(36),T=n(140),$=n(78),_=n(79),Q=n(66),A=new(function(){function e(){Object($.a)(this,e)}return Object(_.a)(e,[{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"isTokenExpired",value:function(e){return Object(Q.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getProfile",value:function(){return Object(Q.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"login",value:function(e){localStorage.setItem("id_token",e)}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),D=n(28),E=n(137),P=Object(E.a)(s||(s=Object(D.a)(["\n    mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n        user {\n          _id\n          username\n        }\n        token\n  }\n}\n"]))),F=Object(E.a)(a||(a=Object(D.a)(["\n    mutation createUser($email: String!, $username: String!, $password: String!) {\n     addUser(email: $email, username: $username, password: $password) {\n         user {\n              _id\n              username\n             }\n         token\n  }\n}\n"]))),L=Object(E.a)(r||(r=Object(D.a)(["\n    mutation createQuiz($input: QuizInput!) {\n  createQuiz(input: $input) {\n    title\n    _id\n    createdAt\n    author\n    questions {\n      questionText\n      answers {\n        answerText\n        isCorrect\n      }\n    }\n  }\n}\n"]))),R=Object(E.a)(i||(i=Object(D.a)(["\n  mutation deleteQuiz($quizId: ID!) {\n    deleteQuiz(quizId: $quizId) {\n      title\n      _id\n      author\n    }\n  }\n"]))),U=Object(E.a)(c||(c=Object(D.a)(["\n  mutation submitQuiz($quizId: ID!, $answers: [submittedAnswer]) {\n    submitQuiz(quizId: $quizId, answers: $answers) {\n      percentage\n      results {\n        questionIndex\n        correct\n      }\n    }\n  }\n"]))),B=n(0);function M(){var e=Object(o.useState)({email:"",password:""}),t=Object(y.a)(e,2),n=t[0],s=t[1],a=Object(T.a)(P),r=Object(y.a)(a,1)[0],i=function(){var e=Object(I.a)(C.a.mark((function e(t){var a,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,r({variables:Object(b.a)({},n)});case 4:if(a=e.sent,i=a.data){e.next=8;break}throw new Error("Something went wrong!");case 8:A.login(i.login.token),window.location.assign("/home"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:s({email:"",password:""});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsx)("div",{children:Object(B.jsxs)("form",{className:"p-3",onSubmit:function(e){return i(e)},children:[Object(B.jsx)("input",{value:n.email,onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{email:e.target.value}))},type:"email",className:"w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full",placeholder:"john@website.com"}),Object(B.jsx)("input",{value:n.password,onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{password:e.target.value}))},type:"password",className:"w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full",placeholder:"password"}),Object(B.jsx)("button",{type:"submit",className:"w-full px-4 py-3 bg-blue-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform",children:"Submit"})]})})}function Y(){var e=Object(o.useState)({username:"",email:"",password:""}),t=Object(y.a)(e,2),n=t[0],s=t[1],a=Object(T.a)(F),r=Object(y.a)(a,1)[0],i=function(){var e=Object(I.a)(C.a.mark((function e(t){var a,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,r({variables:Object(b.a)({},n)});case 4:if(a=e.sent,i=a.data){e.next=8;break}throw new Error("something went wrong!");case 8:A.login(i.addUser.token),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:s({username:"",email:"",password:""});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsx)("div",{children:Object(B.jsxs)("form",{className:"p-3",onSubmit:function(e){return i(e)},children:[Object(B.jsx)("input",{value:n.username,onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{username:e.target.value}))},type:"text",className:"w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full",placeholder:"username"}),Object(B.jsx)("input",{value:n.email,onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{email:e.target.value}))},type:"email",className:"w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full",placeholder:"john@website.com"}),Object(B.jsx)("input",{value:n.password,onChange:function(e){return s(Object(b.a)(Object(b.a)({},n),{},{password:e.target.value}))},type:"password",className:"w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full",placeholder:"password"}),Object(B.jsx)("button",{type:"submit",className:"w-full px-4 py-3 bg-blue-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform",children:"Submit"})]})})}var J=n(134);function V(){var e=Object(o.useState)(!1),t=Object(y.a)(e,2),n=t[0],s=t[1],a=Object(o.createRef)(),r=Object(o.createRef)();return window.onclick=function(e){e.preventDefault(),e.target!==document.querySelector(".dropdownbtn")&&s(!1)},Object(B.jsx)(B.Fragment,{children:Object(B.jsx)("div",{className:"flex flex-wrap px-4",children:Object(B.jsxs)("div",{className:"relative font-main inline-flex align-middle w-full",children:[Object(B.jsxs)("button",{className:"text-theme-aliceblue text-sm px-4 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150 dropdownbtn bg-theme-darker",type:"button",ref:a,onClick:function(){n?s(!1):(Object(J.a)(a.current,r.current,{placement:"bottom-start"}),s(!0))},children:[A.getProfile().data.username," ",Object(B.jsx)(k.a,{icon:z.a})]}),Object(B.jsxs)("div",{ref:r,className:(n?"block ":"hidden ")+"bg-theme-darker text-base z-50 py-1 list-none text-center rounded shadow-lg mt-1",style:{minWidth:"12rem"},children:[Object(B.jsx)(j.b,{to:"/home",children:Object(B.jsx)("p",{className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent",children:"Home"})}),Object(B.jsx)(j.b,{to:"/creator",children:Object(B.jsx)("p",{className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent",children:"Creator"})}),Object(B.jsx)("a",{href:"/home",className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent",onClick:function(e){return e.preventDefault()},children:"Something else here"}),Object(B.jsx)("div",{className:"h-0 my-2 border border-solid border-t-0 border-blueGray-800 opacity-25"}),Object(B.jsx)("a",{href:"/home",className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent",children:Object(B.jsx)("button",{className:"px-4 py-3 bg-red-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform",onClick:A.logout,children:"Logout"})})]})]})})})}var W={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"inline",textAlign:"right"}};function G(){var e=Object(o.useState)(!1),t=Object(y.a)(e,2),n=t[0],s=t[1],a=Object(o.useState)("login-radio"),r=Object(y.a)(a,2),i=r[0],c=r[1];function l(){s(!1)}function d(e){console.log(e.target)}return Object(B.jsx)("nav",{className:"w-full fixed bg-theme-main z-10",children:Object(B.jsxs)("div",{className:"flex items-center justify-between mx-auto w-11/12 py-3",children:[Object(B.jsx)("div",{children:Object(B.jsx)(j.b,{to:"/home",children:Object(B.jsx)("p",{className:"tracking-widest text-theme-aliceblue font-main font-semibold text-xl",as:j.b,children:"Quizzard"})})}),Object(B.jsx)("div",{children:A.loggedIn()?Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(V,{})}):Object(B.jsx)(B.Fragment,{children:Object(B.jsx)("button",{className:"openModal font-main text-center",onClick:function(){s(!0)},children:"Log In | Sign Up"})})}),Object(B.jsxs)(q.a,{isOpen:n,onRequestClose:l,style:W,shouldReturnFocusAfterClose:!1,shouldCloseOnOverlayClick:!0,contentLabel:"Login/Signup Modal",children:[Object(B.jsx)("button",{className:"text-center",onClick:l,children:Object(B.jsx)(k.a,{icon:z.d,size:"2x"})}),Object(B.jsx)("form",{children:Object(B.jsxs)("fieldset",{className:"text-center space-x-4",children:[Object(B.jsxs)("label",{children:[Object(B.jsx)("input",{id:"login-radio",checked:"login-radio"===i,value:"login-radio",onClick:function(){return c("login-radio")},onChange:d,name:"modalRadio",type:"radio"})," Log In"]}),Object(B.jsxs)("label",{children:[Object(B.jsx)("input",{id:"signup-radio",checked:"signup-radio"===i,value:"signup-radio",onClick:function(){return c("signup-radio")},onChange:d,name:"modalRadio",type:"radio"})," Sign Up"]})]})}),Object(B.jsx)("div",{children:"login-radio"===i?Object(B.jsx)(M,{}):Object(B.jsx)(Y,{})})]})]})})}function H(){return Object(B.jsx)("div",{className:"min-h-screen flex justify-center items-center bg-theme-lighter",children:Object(B.jsx)("div",{className:"mx-auto my-20 w-4/5 md:w-2/3",children:Object(B.jsxs)("div",{className:"container divide-y divide-theme-darker bg-theme-bluegray space-y-2 text-center text-theme-aliceblue p-6 rounded-md border-2 border-theme-main md:border-4",children:[Object(B.jsx)("h2",{className:"text-2xl font-semibold",children:"Welcome to Quizzard!"}),Object(B.jsx)("p",{className:"text-sm md:text-base",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec efficitur ante eget magna dignissim egestas. Duis accumsan placerat nibh, id vehicula tellus finibus quis. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Pellentesque aliquam, augue eget efficitur dignissim, risus quam lobortis diam, tincidunt bibendum lectus libero in sem. Nulla maximus placerat ipsum, vitae consequat ligula euismod nec. Donec finibus eros ut purus porttitor blandit. Nam faucibus eget leo quis sollicitudin."}),Object(B.jsx)("p",{className:"text-sm md:text-base",children:"Nullam condimentum imperdiet cursus. Praesent at sem et ex accumsan aliquet in at ex. Suspendisse luctus et libero at molestie. Phasellus dictum, sem et dictum vehicula, dui dolor vestibulum mauris, id condimentum eros sem at ex. Nullam ut tristique lacus. Etiam a dui placerat, volutpat arcu ac, ultrices ante. Curabitur quam ante, tempor in orci vel, iaculis varius ex. Nam imperdiet varius elit, non fermentum nulla ultricies id. Vestibulum vel risus sit amet magna tincidunt bibendum ut vel dui. Donec lacus lacus, elementum quis ex consequat, luctus laoreet justo. Nullam quis erat sit amet elit varius ultrices at eget leo. Pellentesque id lobortis tellus, vel congue turpis. Integer tristique urna quis risus vehicula, commodo gravida erat vehicula."}),Object(B.jsx)("p",{className:"text-sm md:text-base",children:"Duis pretium tempus lacus, eget malesuada augue porttitor vitae. Integer a orci lacus. In at lacinia odio, quis vestibulum ex. Nulla in ex ac est elementum consequat sit amet a sem. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Suspendisse molestie velit lacus, eu varius nibh pharetra et. Pellentesque tincidunt sit amet elit venenatis hendrerit. Sed porta eget tellus sit amet tempor. Vestibulum et felis in tortor scelerisque ornare. Sed rhoncus, metus sit amet blandit commodo, orci lacus porta lorem, non eleifend ex diam eget est. Integer in malesuada elit. Donec lectus augue, condimentum faucibus scelerisque malesuada, luctus eu ipsum. Maecenas facilisis condimentum cursus. Pellentesque luctus tincidunt auctor. Praesent mollis leo vel arcu tempus aliquet."})]})})})}q.a.setAppElement(document.getElementById("root"));var K,X,Z,ee,te,ne,se=n(138),ae=(Object(E.a)(K||(K=Object(D.a)(["\n    query users {\n        users {\n            _id\n            username\n        }\n    }\n"]))),Object(E.a)(X||(X=Object(D.a)(["\n    query user($userId: ID!) {\n        user(userId: $userId) {\n            username\n            quizzes {\n                title\n                questions {\n                    questionText\n                    answers {\n                        answerText\n                        isCorrect\n                    }\n                }\n            }\n        }\n    }\n"]))),Object(E.a)(Z||(Z=Object(D.a)(["\n    query quizzes($authorId: ID!, $offset: Int, $limit: Int) {\n        quizzes(authorId: $authorId, offset: $offset, limit: $limit) {\n            _id\n            title\n            author\n            questions {\n                questionText\n                answers {\n                    answerText\n                    isCorrect\n                }\n            }\n        }\n    }\n"])))),re=Object(E.a)(ee||(ee=Object(D.a)(["\n    query quiz($quizId: ID!) {\n        quiz(quizId: $quizId) {\n            _id\n            title\n            author\n            createdAt\n            description\n            questions {\n                questionText\n                index\n                answers {\n                    answerText\n                    index\n                    isCorrect\n                }\n            }\n            scores {\n                username\n                percent\n            }\n        }\n    }\n"]))),ie=(Object(E.a)(te||(te=Object(D.a)(["\n  query me {\n    me {\n      _id\n      username\n      quizzes(offset: $offset, limit: $limit) {\n        _id\n        title\n        questions {\n          questionText\n          index\n          answers {\n            answerText\n            index\n            isCorrect\n          }\n        }\n      }\n    }\n  }\n"]))),Object(E.a)(ne||(ne=Object(D.a)(["\n  query search($search: String!) {\n    searchQuizzes(search: $search) {\n      _id\n      title\n      author\n    }\n  }\n"]))));function ce(e){var t=e.input,n=Object(se.a)(ie,{variables:{search:t}}),s=n.loading,a=n.data,r=(n.error,(null===a||void 0===a?void 0:a.searchQuizzes)||[]);return s?Object(B.jsx)("div",{className:"h-2/3 md:h-ninety p-5 justify-center flex items-center overflow-y-auto bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:Object(B.jsx)("div",{className:" flex justify-center items-center",children:Object(B.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main"})})}):Object(B.jsx)("div",{className:"h-2/3 md:h-ninety p-5 overflow-y-auto bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:r.length?Object(B.jsxs)("div",{children:[Object(B.jsx)("span",{className:"italic",children:"Search Results for '".concat(t,"'")}),Object(B.jsx)("div",{className:"flex flex-col space-y-3 container",children:r.map((function(e){return Object(B.jsx)(j.b,{to:"/quiz/".concat(e._id),children:Object(B.jsxs)("div",{className:"flex justify-between container rounded bg-theme-darkerer hover:bg-theme-darkest hover:shadow-sm transition duration-200 px-2 py-1",children:[Object(B.jsx)("span",{children:e.title}),Object(B.jsx)("span",{children:e.author}),Object(B.jsx)("div",{children:Object(B.jsx)("span",{children:Object(B.jsx)(k.a,{icon:z.b})})})]})})}))})]}):"No results for that search!"})}function oe(){var e=Object(T.a)(R),t=Object(y.a)(e,1)[0],n=Object(o.useState)(""),s=Object(y.a)(n,2),a=s[0],r=(s[1],Object(se.a)(ae,{variables:{authorId:A.getProfile().data._id,offset:0,limit:10},fetchPolicy:"cache-and-network"})),i=r.loading,c=r.data,l=r.refetch,d=(r.fetchMore,(null===c||void 0===c?void 0:c.quizzes)||[]);if(i)return Object(B.jsx)("div",{className:"h-auto overflow-y-auto md:h-1/2 p-5 bg-theme-bluegray text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:Object(B.jsx)("h2",{className:"text-xl font-bold",children:"Loading"})});function u(){return(u=Object(I.a)(C.a.mark((function e(n,s){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.stopPropagation(),s.preventDefault(),e.next=4,t({variables:{quizId:n._id}});case 4:a=e.sent,a.data&&l();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i?Object(B.jsx)("div",{className:"h-auto overflow-y-auto flex justify-center md:h-1/2 p-5 bg-theme-bluegray text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:Object(B.jsx)("div",{className:" flex justify-center items-center",children:Object(B.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main"})})}):a?Object(B.jsx)(m.a,{to:"/creator"}):Object(B.jsxs)("div",{className:"h-auto overflow-y-auto md:h-1/2 p-5 bg-theme-bluegray text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:[Object(B.jsx)("h2",{className:"text-lg mb-5 font-semibold",children:"Your Quizzes"}),d.length?Object(B.jsxs)("div",{children:[Object(B.jsx)("span",{children:"You have ".concat(d.length," Saved Quizzes")}),Object(B.jsx)("div",{className:"mt-5 flex flex-col space-y-3 container",children:d.map((function(e,t){return Object(B.jsx)(j.b,{to:"/quiz/".concat(e._id),children:Object(B.jsxs)("div",{className:"flex justify-between container rounded bg-theme-darkerer hover:bg-theme-darkest hover:shadow-sm transition duration-200 px-2 py-1",children:[Object(B.jsx)("span",{children:e.title}),Object(B.jsx)("div",{className:"px-1",onClick:function(t){return function(e,t){return u.apply(this,arguments)}(e,t)},children:Object(B.jsx)("span",{children:Object(B.jsx)(k.a,{icon:z.d})})})]})},t)}))})]}):"You have no Saved Quizzes"]})}function le(){var e=Object(o.useState)(""),t=Object(y.a)(e,2),n=t[0],s=t[1];!function(){var e=Object(o.useState)(0),t=Object(y.a)(e,2),n=(t[0],t[1])}();return localStorage.getItem("id_token")?Object(B.jsx)("div",{className:"min-h-screen flex justify-center items-center bg-theme-lighter",children:Object(B.jsxs)("div",{className:"h-auto md:h-eightyvh m-2 md:m-5 grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4",children:[Object(B.jsxs)("div",{className:"text-center h-full space-y-4 mt-20 md:mt-0 mb-14",children:[Object(B.jsx)("form",{className:"h-10 md:h-ten",children:Object(B.jsx)("input",{value:n,onChange:function(e){s(e.target.value)},onKeyPress:function(e){13===e.keyCode&&(window.location.reload(!1),function(e){e.preventDefault()}())},type:"text",className:"w-full bg-theme-aliceblue placeholder-gray-400 placeholder-opacity-70 p-3 rounded",placeholder:"Search for topics!"})}),""!==n?Object(B.jsx)(ce,{input:n}):Object(B.jsx)("div",{className:"h-2/3 md:h-ninety p-5 bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:"Top Quizzes"})]}),Object(B.jsxs)("div",{className:"flex flex-wrap space-y-0 md:space-y-4 text-center",children:[Object(B.jsxs)("div",{className:"h-ten w-full mt-12 md:mt-0 grid grid-flow-col grid-cols-2 gap-3",children:[Object(B.jsx)(j.b,{to:"/creator",children:Object(B.jsx)("button",{className:"w-full p-1 md:p-3 bg-theme-darkerer hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg",children:Object(B.jsx)("p",{children:"Create a quiz"})})}),Object(B.jsx)(j.b,{to:"/",onClick:A.logout,children:Object(B.jsx)("button",{className:"w-full p-1 md:p-3 bg-theme-darkerer hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg",children:Object(B.jsx)("p",{children:"Log out"})})}),Object(B.jsx)(j.b,{to:"/",children:Object(B.jsx)("button",{className:"w-full p-1 md:p-3 bg-theme-darkerer hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg",children:Object(B.jsx)("p",{children:"Third button"})})}),Object(B.jsx)(j.b,{to:"/",children:Object(B.jsx)("button",{className:"w-full p-1 md:p-3 bg-theme-darkerer hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg",children:Object(B.jsx)("p",{children:"Fourth button"})})})]}),Object(B.jsx)("div",{className:"hidden md:grid h-ninety p-5 flex-grow bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:"Top Categories"})]}),Object(B.jsxs)("div",{className:"text-center space-y-4",children:[Object(B.jsx)(oe,{}),Object(B.jsx)("div",{className:"hidden md:grid h-1/2 p-5 bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main",children:"Top Users"})]})]})}):Object(B.jsx)(m.a,{to:"/"})}function de(e){var t=e.hideFunction,n=e.message;return Object(B.jsx)("div",{children:Object(B.jsxs)("div",{className:"text-white flex px-6 py-4 border-0 rounded relative mb-4 bg-red-700",children:[Object(B.jsx)("span",{className:"text-xl inline-block mr-5 align-middle",children:Object(B.jsx)(k.a,{icon:z.c})}),Object(B.jsxs)("span",{className:"inline-block align-middle mr-8",children:[Object(B.jsx)("b",{className:"capitalize",children:"Failed: "})," ",n]}),Object(B.jsx)("button",{onClick:t,className:"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none",children:Object(B.jsx)("span",{children:"\xd7"})})]})})}function ue(){var e=Object(T.a)(L),t=Object(y.a)(e,2),n=t[0],s=t[1].error,a=Object(o.useState)({show:!1,message:""}),r=Object(y.a)(a,2),i=r[0],c=r[1],l={title:"",description:"",questions:[]},d={questionText:"",answers:[],index:0},u={answerText:"",isCorrect:!1,index:0},j=localStorage.getItem("quiz")?JSON.parse(localStorage.getItem("quiz")):l;j.__typename&&(delete j.__typename,j.questions.map((function(e){return delete e.__typename,e.answers.map((function(e){return delete e.__typename,e})),e}))),(j._id||j.author)&&(delete j._id,delete j.author),j.createdAt&&delete j.createdAt,j.scores&&delete j.scores,Object(o.useEffect)((function(){s&&(console.log(s.message),c({show:!0,message:s.message}))}),[s]);var h=Object(o.useState)(j),x=Object(y.a)(h,2),p=x[0],g=x[1],O=Object(o.useState)({}),f=Object(y.a)(O,2),v=f[0],w=f[1],N=Object(o.useState)({}),q=Object(y.a)(N,2),S=q[0],$=q[1],_=Object(o.useState)(!1),Q=Object(y.a)(_,2),A=Q[0],D=Q[1];function E(){var e=p.questions;e[v.index-1]=v,g(Object(b.a)(Object(b.a)({},p),{},{questions:e})),localStorage.setItem("quiz",JSON.stringify(p))}function P(){var e=v.answers;e[S.index-1]=S,w(Object(b.a)(Object(b.a)({},v),{},{answers:e}))}function F(){return(F=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({variables:{input:p}});case 2:t=e.sent,t.data&&(w({}),$({}),g(l),localStorage.getItem("quiz")&&localStorage.removeItem("quiz"),D(!0));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(p),localStorage.getItem("id_token")?A?Object(B.jsx)(m.a,{to:"/home/reload"}):Object(B.jsx)("div",{className:"min-h-screen flex bg-theme-lighter",children:Object(B.jsxs)("div",{className:"bg-theme-bluegray border-2 md:border-4 border-theme-main mt-20 w-full rounded shadow-lg p-5 m-5",children:[Object(B.jsxs)("div",{className:"mb-3 md:flex md:justify-between",children:[Object(B.jsx)("h1",{className:"text-2xl font-bold text-center md:text-right mb-3",children:"Quiz Creator"}),Object(B.jsx)("form",{children:Object(B.jsx)("input",{className:"bg-theme-aliceblue w-full md:w-96 rounded-lg",type:"text",value:p.title,placeholder:"Enter a title...",onChange:function(e){return g(Object(b.a)(Object(b.a)({},p),{},{title:e.target.value}))}})}),Object(B.jsx)("form",{children:Object(B.jsx)("input",{className:"bg-theme-aliceblue w-full md:w-96 rounded-lg",type:"text",value:p.description,placeholder:"Enter a Description...",onChange:function(e){return g(Object(b.a)(Object(b.a)({},p),{},{description:e.target.value}))}})})]}),Object(B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 mt-2 gap-3 text-theme-aliceblue",children:[Object(B.jsxs)("div",{className:"bg-theme-darker rounded-lg p-3",children:[Object(B.jsx)("h2",{className:"text-lg font-bold mb-4 text-center",children:"Question List"}),Object(B.jsx)("div",{className:"space-y-2 flex flex-col",children:p.questions.length?p.questions.map((function(e){return Object(B.jsxs)("div",{onClick:function(){return function(e){E(),w(e),$({})}(e)},className:"flex flex-row justify-between container ".concat(v.index===e.index?"bg-theme-magenta shadow-md":"bg-theme-lightmagenta hover:bg-theme-darkmagenta"," rounded p-2 transition duration-200"),children:[Object(B.jsxs)("span",{children:[Object(B.jsxs)("strong",{children:[e.index,". ) "]}),e.questionText]}),Object(B.jsx)("div",{onClick:function(t){return function(e,t){t.stopPropagation(),e.index===v.index&&(w({}),$({}));var n=p.questions,s=n.indexOf(e);n.splice(s,1),n.forEach((function(e,t){e.index=t+1})),g(Object(b.a)(Object(b.a)({},p),{},{questions:n}))}(e,t)},className:"px-1",children:Object(B.jsx)("span",{children:Object(B.jsx)(k.a,{icon:z.d})})})]},e.index)})):Object(B.jsx)("p",{children:"Add questions by clicking the button below"})}),Object(B.jsx)("button",{className:"mt-4 w-full rounded py-1 font-semibold hover:bg-theme-darkroyal bg-theme-royalpurple transition duration-200",onClick:function(){return function(){var e=p.questions;d.index=p.questions.length+1,e.push(d),g(Object(b.a)(Object(b.a)({},p),{},{questions:e})),console.log(p)}()},children:"Add Question"})]}),Object(B.jsxs)("div",{className:"bg-theme-darkerer rounded-lg p-3",children:[Object(B.jsx)("h2",{className:"text-lg font-bold mb-4 text-center",children:"Question Editor"}),v.index?Object(B.jsxs)("div",{children:[Object(B.jsx)("form",{children:Object(B.jsx)("textarea",{className:"text-black w-full rounded p-1",type:"text",value:v.questionText,placeholder:"Make sure the correct answer is selected...",onChange:function(e){return w(Object(b.a)(Object(b.a)({},v),{},{questionText:e.target.value}))}})}),Object(B.jsxs)("div",{className:"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3",children:[Object(B.jsx)("span",{className:"font-semibold text-lg",children:"Answers"}),Object(B.jsx)("div",{className:"space-y-2",children:v.answers.map((function(e,t){return Object(B.jsxs)("div",{onClick:function(){return function(e){P(),$(e)}(e)},className:"flex flex-row justify-between container rounded ".concat(S.index===e.index?"bg-theme-magenta shadow-md":"bg-theme-lightmagenta hover:bg-theme-darkmagenta transition duration-200"," p-2"),children:[Object(B.jsxs)("span",{children:[Object(B.jsxs)("strong",{children:[e.index,". "]}),e.answerText]}),Object(B.jsxs)("div",{className:"flex",children:[Object(B.jsx)("div",{className:"px-3",children:Object(B.jsx)("input",{checked:e.isCorrect,onChange:function(t){return function(e,t){t.stopPropagation();var n=v.answers.map((function(t){return t.isCorrect=t===e,t}));console.log(n),w(Object(b.a)(Object(b.a)({},v),{},{answers:n}))}(e,t)},type:"checkbox"})}),Object(B.jsx)("div",{onClick:function(t){return function(e,t){t.stopPropagation(),e.index===S.index&&$({});var n=v.answers,s=n.indexOf(e);n.splice(s,1),n.forEach((function(e,t){e.index=t+1})),e.isCorrect&&n.length&&(n[0].isCorrect=!0),w(Object(b.a)(Object(b.a)({},v),{},{answers:n}))}(e,t)},className:"px-1",children:Object(B.jsx)("span",{children:Object(B.jsx)(k.a,{icon:z.d})})})]})]},t)}))}),Object(B.jsx)("button",{onClick:function(){return function(){var e=v.answers,t=u;t.index=v.answers.length+1,1===t.index&&(t.isCorrect=!0),e.push(t),w(Object(b.a)(Object(b.a)({},v),{},{answers:e}))}()},className:"mx-auto bg-theme-grass hover:bg-theme-forest py-1 font-semibold rounded w-full mt-2 transition duration-200",children:"Add Answer"})]}),Object(B.jsx)("button",{className:"mt-4 w-full rounded hover:bg-theme-darkroyal bg-theme-royalpurple py-1 font-semibold transition duration-200",onClick:function(){return E()},children:"Update Question"})]}):Object(B.jsx)("p",{children:"Select a question to edit"})]}),Object(B.jsxs)("div",{className:"bg-theme-darkest rounded-lg p-3",children:[Object(B.jsx)("h2",{className:"text-lg font-bold mb-4 text-center",children:"Answer Editor"}),S.index?Object(B.jsxs)("div",{children:[Object(B.jsx)("form",{children:Object(B.jsx)("textarea",{className:"text-black w-full rounded p-1",type:"text",value:S.answerText,placeholder:"Answer",onChange:function(e){return $(Object(b.a)(Object(b.a)({},S),{},{answerText:e.target.value}))}})}),Object(B.jsx)("button",{className:"mt-4 w-full rounded hover:bg-theme-darkroyal bg-theme-royalpurple py-1 font-semibold transition duration-200",onClick:function(){return P()},children:"Update Answer"})]}):Object(B.jsx)("p",{children:"Select an answer to edit"})]})]}),Object(B.jsx)("div",{className:"text-center",children:p.questions.length>=3?Object(B.jsx)("button",{onClick:function(){return function(){return F.apply(this,arguments)}()},className:"rounded bg-green-500 hover:bg-green-700 mx-auto font-bold text-lg mt-10 py-3 px-20 transition duration-200",children:"Create Quiz"}):null}),i.show?Object(B.jsx)("div",{children:Object(B.jsx)(de,{message:i.message,hideFunction:function(){return c({show:!1,message:""})}})}):null]})}):Object(B.jsx)(m.a,{to:"/"})}function be(){var e=Object(o.useState)({}),t=Object(y.a)(e,2),n=t[0],s=t[1],a=Object(o.useState)([]),r=Object(y.a)(a,2),i=r[0],c=r[1],l=Object(o.useState)({percentage:0,results:[]}),d=Object(y.a)(l,2),u=d[0],b=d[1],j=Object(o.useState)({show:!1,message:""}),h=Object(y.a)(j,2),x=h[0],p=h[1],g=Object(o.useState)(!1),O=Object(y.a)(g,2),f=O[0],v=O[1],w=Object(o.useState)(!1),N=Object(y.a)(w,2),q=N[0],k=N[1],z=Object(T.a)(U),S=Object(y.a)(z,1)[0],$=Object(m.g)().id,_=Object(se.a)(re,{variables:{quizId:$}}),Q=_.loading,D=_.data,E=_.error;Object(o.useEffect)((function(){if(s(D?D.quiz.questions[0]:{}),!i.length&&D){var e=D.quiz.questions.map((function(e){return{chosenAnswer:0,questionIndex:e.index}}));c(e)}}),[D]);var P=function(){var e=Object(o.useState)(0),t=Object(y.a)(e,2),n=(t[0],t[1]);return function(){return n((function(e){return e+1}))}}();function F(e){var t,n=i.find((function(t){return t.questionIndex===e})).chosenAnswer;return null===(t=D.quiz.questions[e-1].answers[n-1])||void 0===t?void 0:t.answerText}function L(e){return 1==e?"theme-magenta":e>=.85?"green-500":e>=.7?"yellow-300":e>=.6?"yellow-600":"red-700"}function R(){return(R=Object(I.a)(C.a.mark((function e(){var t,n,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,i.forEach((function(e){0===e.chosenAnswer&&(t=!1)})),!t){e.next=10;break}return e.next=5,S({variables:{quizId:$,answers:i}});case 5:n=e.sent,s=n.data,b(s.submitQuiz),e.next=11;break;case 10:p({show:!0,message:"You have unanswered questions!"});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){var t=e.question,n=e.answersList;if(t.answers){var s=t.answers.map((function(e){var s;return Object(B.jsx)("div",{className:"w-full flex justify-center",children:Object(B.jsx)("div",{onClick:function(){return function(e,t){var n=i;n[e.index-1].chosenAnswer=t.index,c(n),P()}(t,e)},className:"w-3/4 p-2 rounded transition duration-200 ".concat((null===(s=n[t.index-1])||void 0===s?void 0:s.chosenAnswer)===e.index?"bg-blue-800":"bg-blue-400 hover:bg-blue-600"),children:Object(B.jsx)("span",{children:e.answerText})})},"".concat(t.index).concat(e.index))}));return Object(B.jsx)("div",{className:"space-y-3",children:s})}return Object(B.jsx)("p",{children:"No Answers"})}return q?Object(B.jsx)(m.a,{to:"/creator"}):Q?Object(B.jsx)("div",{className:"min-h-screen items-center justify-center flex bg-theme-lighter",children:Object(B.jsx)("div",{className:" flex justify-center items-center",children:Object(B.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main"})})}):E?Object(B.jsx)("div",{className:"min-h-screen items-center justify-center flex bg-theme-lighter",children:Object(B.jsx)("div",{className:"p-10 rounded bg-red-400",children:Object(B.jsx)("span",{className:"text-3xl font-bold",children:"Quiz ID not Found"})})}):Object(B.jsx)("div",{className:"items-center justify-center flex bg-theme-lighter",children:Object(B.jsxs)("div",{className:"rounded mt-36 w-full shadow-lg p-5 bg-theme-main mx-1 md:mx-0 md:w-10/12",children:[Object(B.jsx)("h3",{className:"text-4xl text-white font-main",children:D.quiz.title}),!f&&D?Object(B.jsxs)("div",{className:"w-full mx-auto",children:[Object(B.jsxs)("div",{className:"grid grid-cols-2 px-5 gap-5",children:[Object(B.jsxs)("div",{className:"w-full my-10 mx-auto p-3 bg-theme-aliceblue border-4 border-theme-darker rounded-lg",children:[Object(B.jsx)("h2",{className:"text-xl font-bold text-theme-bluegray underline",children:"Description"}),Object(B.jsx)("p",{className:"mx-3 py-3",children:D.quiz.description})]}),Object(B.jsxs)("div",{className:"w-full my-10 mx-auto p-3 bg-theme-aliceblue border-4 border-theme-darker rounded-lg",children:[Object(B.jsx)("h2",{className:"text-xl text-theme-bluegray font-bold underline",children:"Recent Scores"}),D.quiz.scores.map((function(e){return Object(B.jsxs)("div",{className:"flex justify-between w-1/2 mx-auto",children:[Object(B.jsx)("span",{className:"text-lg font-semibold",children:e.username}),Object(B.jsxs)("span",{className:"text-lg font-semibold text-".concat(L(e.percent)),children:[(100*e.percent).toFixed(),"%"]})]})}))]})]}),Object(B.jsxs)("div",{className:"text-center",children:[Object(B.jsx)("button",{className:"py-2 px-8 bg-theme-lightmagenta hover:bg-theme-magenta transition duration-200 rounded center",onClick:function(){return v(!0)},children:"Start Quiz"}),D.quiz.author===A.getProfile().data.username?Object(B.jsx)("button",{className:"py-2 px-8 bg-green-400 hover:bg-green-600 ml-5 transition duration-200 rounded center",onClick:function(){return localStorage.setItem("quiz",JSON.stringify(null===D||void 0===D?void 0:D.quiz)),void k(!0)},children:"Copy and Edit"}):null]})]}):null,!u.results.length&&f?Object(B.jsxs)("div",{className:"mt-10",children:[Object(B.jsx)("span",{children:n.questionText}),Object(B.jsx)(M,{question:n,answersList:i}),Object(B.jsxs)("div",{className:"mt-10 items-center justify-center flex space-x-5",children:[1!==n.index?Object(B.jsx)("button",{className:"p-2 rounded bg-theme-darker",onClick:function(){return function(){if(n.index>1){var e=n.index-1,t=D.quiz.questions[e-1];s(t)}}()},children:"Back"}):null,n.index!==D.quiz.questions.length?Object(B.jsx)("button",{className:"p-2 rounded bg-theme-darker",onClick:function(){return function(){if(n.index<D.quiz.questions.length){var e=D.quiz.questions[n.index];s(e)}}()},children:"Next Question"}):Object(B.jsx)("button",{onClick:function(){return function(){return R.apply(this,arguments)}()},className:"p-2 rounded bg-green-600",children:"Submit Quiz"})]}),Object(B.jsx)("div",{className:"w-full text-right",children:Object(B.jsxs)("span",{className:"pt-5 pr-2",children:[n.index,"/",D.quiz.questions.length]})})]}):null,u.results.length?Object(B.jsxs)("div",{className:"space-y-2 mt-5",children:[Object(B.jsx)("div",{className:"text-center mb-5",children:Object(B.jsxs)("span",{className:"text-3xl",children:["You scored ",Object(B.jsx)("span",{className:"font-semibold text-".concat(L(u.percentage)),children:(100*u.percentage).toFixed()}),"%"]})}),u.results.map((function(e){return Object(B.jsxs)("div",{className:"p-2 flex justify-between rounded ".concat(e.correct?"bg-green-400":"bg-red-600"),children:[Object(B.jsx)("span",{children:D.quiz.questions[e.questionIndex-1].questionText}),Object(B.jsxs)("span",{children:["Your Answer: ",F(e.questionIndex)]})]})}))]}):null,x.show?Object(B.jsx)("div",{className:"mt-5",children:Object(B.jsx)(de,{message:x.message,hideFunction:function(){return p({show:!1,message:""})}})}):null,Object(B.jsx)("div",{className:"text-right mt-5",children:Object(B.jsxs)("span",{children:["Created By: ",D.quiz.author," on ",D.quiz.createdAt]})})]})})}var me=Object(h.a)({uri:"/graphql"}),je=Object(O.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&console.log("graphQLErrors",t),n&&console.log("networkError",n)})),he=f.a.from([je,me]),xe=Object(v.a)((function(e,t){var n=t.headers,s=localStorage.getItem("id_token");return{headers:Object(b.a)(Object(b.a)({},n),{},{authorization:s?"Bearer ".concat(s):""})}})),pe=new x.a({link:xe.concat(he),cache:new p.a({typePolicies:{Query:{fields:{quizzes:Object(w.a)()}}}})});var ge=function(){return Object(B.jsx)(g.a,{client:pe,children:Object(B.jsx)(j.a,{children:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(G,{}),Object(B.jsxs)(m.d,{children:[Object(B.jsx)(m.b,{exact:!0,path:"/",component:H}),Object(B.jsx)(m.b,{exact:!0,path:"/home",component:le}),Object(B.jsx)(m.a,{exact:!0,from:"/home/reload",to:"/home"}),Object(B.jsx)(m.b,{path:"/creator",component:ue}),Object(B.jsx)(m.b,{path:"/quiz/:id",component:be})]})]})})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))};u.a.render(Object(B.jsx)(l.a.StrictMode,{children:Object(B.jsx)(ge,{})}),document.getElementById("root")),Oe()}},[[123,1,2]]]);
//# sourceMappingURL=main.61f00f41.chunk.js.map