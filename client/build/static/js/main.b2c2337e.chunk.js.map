{"version":3,"sources":["utils/auth.js","utils/mutations.js","components/LogInForm/index.js","components/SignUpForm/index.js","components/Dropdown/index.js","components/MainNavbar/index.js","pages/Splash/index.js","utils/queries.js","components/TopUsersList/index.js","components/TopQuizzesList/index.js","components/SearchResults/index.js","components/QuizList/index.js","components/RecentlyTaken/index.js","pages/Dashboard/index.js","components/Alert/index.js","pages/QuizCreator/index.js","pages/Quiz/index.js","pages/User/index.js","utils/dateFormat.js","pages/Search/index.js","App.js","reportWebVitals.js","index.js"],"names":["localStorage","getItem","token","decode","exp","Date","now","removeItem","this","getToken","isTokenExpired","idToken","setItem","window","location","assign","LOGIN_USER","gql","CREATE_USER","CREATE_QUIZ","DELETE_QUIZ","SUBMIT_QUIZ","LogInForm","useState","email","password","userFormData","setUserFormData","useMutation","loginUser","handleFormSubmit","event","a","preventDefault","variables","data","Error","Auth","login","console","error","className","onSubmit","e","value","onChange","target","type","placeholder","SignUpForm","username","createUser","addUser","Dropdown","dropdownPopoverShow","setDropdownPopoverShow","btnDropdownRef","createRef","popoverDropdownRef","onclick","document","querySelector","ref","onClick","createPopper","current","placement","getProfile","icon","faChevronDown","style","minWidth","to","href","logout","customStyles","content","top","left","right","bottom","marginRight","transform","display","textAlign","backgroundColor","width","maxWidth","MainNavbar","isOpen","setIsOpen","checked","setChecked","closeModal","handleRadioChange","log","src","loggedIn","onRequestClose","shouldReturnFocusAfterClose","shouldCloseOnOverlayClick","contentLabel","faTimes","size","id","name","Modal","setAppElement","getElementById","Splash","rel","faGithub","faLinkedinIn","faAddressCard","GET_TOP_USERS","GET_TOP_QUIZZES","GET_USER","GET_QUIZZES","GET_QUIZ","GET_ME","SEARCH_QUIZZES","DEEP_SEARCH","TopUsersList","useQuery","pollInterval","loading","stopPolling","setTimeout","topUsers","map","user","_id","quizzes","length","quizzesTaken","TopQuizzesList","currentPage","setCurrentPage","itemsPerPage","pages","indexOfLastItem","indexOfFirstItem","topQuizzesData","topQuizzes","i","Math","ceil","push","currentItems","slice","renderPageNumbers","n","padding","handleClick","Number","quiz","title","author","faChevronRight","renderData","disabled","faChevronLeft","SearchResults","input","search","searchData","searchQuizzes","QuizList","deleteQuiz","redirect","setRedirect","fetchPolicy","refetch","quizData","stopPropagation","quizId","JSON","stringify","handleQuizEdit","faEdit","handleQuizDelete","RecentlyTaken","me","recentlyTaken","Dashboard","searchInput","setSearchInput","Alert","hideFunction","message","faExclamation","QuizCreator","createQuiz","show","alert","setAlert","baseQuiz","description","tags","questions","baseQuestion","questionText","answers","index","baseAnswer","answerText","isCorrect","loadedQuiz","parse","__typename","question","answer","takers","createdAt","scores","useEffect","setQuiz","currentQuestion","setCurrentQuestion","currentAnswer","setCurrentAnswer","tagText","setTagText","updateQuestion","newQuestionList","updateAnswer","newAnswerList","handleQuizValidate","valid","forEach","handleQuizCreate","handleTagInputEnter","key","newTags","handleTagSubmit","questionInput","focus","handleQuestionChange","delIndex","indexOf","splice","handleQuestionDelete","newQuestion","addQuestion","faPlus","answerInput","handleAnswerChange","correctAnswer","handleCorrectChange","handleAnswerDelete","newAnswer","addAnswer","options","allowTabFill","onKeyDown","tag","deleteTag","Quiz","setAnswers","percentage","results","grades","setGrades","started","setStarted","submitQuiz","useParams","answerList","chosenAnswer","questionIndex","forceUpdate","setValue","useForceUpdate","getChosenAnswer","chosenIndex","find","gradeColor","Answers","answersList","questionList","newAnswers","checkAnswer","faTag","score","percent","toFixed","newIndex","prevQuestion","nextQuestion","gradeQuiz","grade","correct","UserPage","userId","addDateSuffix","date","dateStr","toString","lastChar","charAt","dateFormat","timestamp","monthLength","dateSuffix","months","dateObj","parseInt","formattedMonth","getMonth","dayOfMonth","getDate","year","getFullYear","hour","getHours","floor","getMinutes","formattedTimeStamp","SearchPage","setSearch","setInput","TagsList","deletable","deepSearchData","deepSearch","result","handleSearchSubmit","httpLink","createHttpLink","uri","errorLink","onError","graphQLErrors","networkError","link","ApolloLink","from","authLink","setContext","_","headers","authorization","client","ApolloClient","concat","cache","InMemoryCache","App","ApolloProvider","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b2c2337e.chunk.js","sourcesContent":["import decode from 'jwt-decode';\n\nclass AuthService {\n  getToken() {\n    return localStorage.getItem('id_token');\n  };\n\n  isTokenExpired(token) {\n    const decoded = decode(token);\n    if (decoded.exp < Date.now() / 1000) {\n      localStorage.removeItem('id_token');\n      return true;\n    }\n    return false;\n  };\n\n  getProfile()  {\n    return decode(this.getToken());\n  };\n\n  loggedIn() {\n    const token = this.getToken();\n    return token && !this.isTokenExpired(token) ? true : false;\n  };\n\n  login(idToken) {\n    localStorage.setItem('id_token', idToken);\n  };\n\n  logout() {\n    localStorage.removeItem('id_token');\n    window.location.assign('/');\n  };\n};\n\nexport default new AuthService();\n","import { gql } from \"@apollo/client\";\n\nexport const LOGIN_USER = gql`\n    mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n        user {\n          _id\n          username\n        }\n        token\n  }\n}\n`\n\nexport const CREATE_USER = gql`\n    mutation createUser($email: String!, $username: String!, $password: String!) {\n     addUser(email: $email, username: $username, password: $password) {\n         user {\n              _id\n              username\n             }\n         token\n  }\n}\n`\n\nexport const CREATE_QUIZ = gql `\n    mutation createQuiz($input: QuizInput!) {\n  createQuiz(input: $input) {\n    title\n    _id\n    createdAt\n    author\n    questions {\n      questionText\n      answers {\n        answerText\n        isCorrect\n      }\n    }\n  }\n}\n`\n\nexport const DELETE_QUIZ = gql`\n  mutation deleteQuiz($quizId: ID!) {\n    deleteQuiz(quizId: $quizId) {\n      title\n      _id\n      author\n    }\n  }\n`\n\nexport const SUBMIT_QUIZ = gql`\n  mutation submitQuiz($quizId: ID!, $answers: [submittedAnswer]) {\n    submitQuiz(quizId: $quizId, answers: $answers) {\n      percentage\n      results {\n        questionIndex\n        correct\n      }\n    }\n  }\n`","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\n\nimport Auth from '../../utils/auth';\nimport { LOGIN_USER } from '../../utils/mutations';\n\nexport default function LogInForm() {\n  const [userFormData, setUserFormData] = useState({ email: '', password: '' });\n\n  const [loginUser] = useMutation(LOGIN_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await loginUser({\n        variables: {...userFormData}\n      });\n      if (!data) {\n        throw new Error('Something went wrong!');\n      }\n      Auth.login(data.login.token);\n      window.location.assign('/home');\n    } catch(err) {\n      console.error(err);\n    }\n  \n    setUserFormData({\n      email: '',\n      password: ''\n    });\n  };\n  \n  return (\n    <div>\n      <form className='p-3' onSubmit={(e) => handleFormSubmit(e)}>\n        <input value={userFormData.email} onChange={(e) => setUserFormData({...userFormData, email: e.target.value})} type='email' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='john@website.com' />\n        <input value={userFormData.password} onChange={(e) => setUserFormData({...userFormData, password: e.target.value})} type='password' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='password' />\n        <button \n          type='submit' className='w-full px-4 py-3 bg-blue-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform'\n        >\n          Log In\n        </button>\n      </form>\n    </div>\n  )\n};\n","import React, { useState } from 'react';\n\nimport { useMutation } from '@apollo/client';\n\nimport Auth from '../../utils/auth';\nimport { CREATE_USER } from '../../utils/mutations';\n\nexport default function SignUpForm() {\n  const [userFormData, setUserFormData] = useState({ username: '', email: '', password: ''});\n  const [createUser] = useMutation(CREATE_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await createUser({\n        variables: {...userFormData}\n      });\n\n      if (!data) {\n        throw new Error('something went wrong!');\n      }\n      Auth.login(data.addUser.token);\n      window.location.assign('/home');\n    } catch (err) {\n      console.error(err);\n    }\n\n    setUserFormData({\n      username: '',\n      email: '',\n      password: ''\n    });\n  };\n\n  return (\n    <div>\n      <form className='p-3' onSubmit={(e) => handleFormSubmit(e)}>\n      <input value={userFormData.username} onChange={(e) => setUserFormData({...userFormData, username: e.target.value})} type='text' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='username' />\n        <input value={userFormData.email} onChange={(e) => setUserFormData({...userFormData, email: e.target.value})} type='email' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='john@website.com' />\n        <input value={userFormData.password} onChange={(e) => setUserFormData({...userFormData, password: e.target.value})} type='password' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='password' />\n        {/* <input onChange={handleInputChange} type='password' className='w-full mb-3 placeholder-gray-400 placeholder-opacity-70 px-4 py-3 rounded-full' placeholder='confirm password' /> */}\n        <button \n          type='submit' className='w-full px-4 py-3 bg-blue-600 rounded-md text-white outline-none focus:ring-4 shadow-lg transform active:scale-x-75 transition-transform'>\n          Sign Up\n        </button>\n      </form>\n    </div>\n  )\n};\n","import React, { useState, createRef } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { createPopper } from \"@popperjs/core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown } from \"@fortawesome/free-solid-svg-icons\";\n\nimport Auth from '../../utils/auth';\n\nexport default function Dropdown() {\n  const [dropdownPopoverShow, setDropdownPopoverShow] = useState(false);\n  const btnDropdownRef = createRef();\n  const popoverDropdownRef = createRef();\n\n  const openDropdownPopover = () => {\n    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {\n      placement: \"bottom-end\"\n    });\n    setDropdownPopoverShow(true);\n  };\n\n  const closeDropdownPopover = () => {\n    setDropdownPopoverShow(false);\n  };\n\n  window.onclick = function(event) {\n    event.preventDefault();\n    if (event.target !== document.querySelector('.dropdownbtn')) {\n      setDropdownPopoverShow(false);\n    }\n  }\n\n  return (\n    <>\n      <div className=\"flex flex-wrap px-4\">\n      <div className=\"relative font-main inline-flex align-middle gap-x-1 w-full\">\n            <button\n              className={dropdownPopoverShow ?\n                \"text-theme-aliceblue text-sm px-4 py-2 rounded-t-full shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-100 dropdownbtn bg-theme-blueblack\" :\n                \"text-theme-aliceblue text-sm px-4 py-2 rounded-full shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-100 dropdownbtn bg-theme-bluemidgray\"\n              }\n              type=\"button\"\n              ref={btnDropdownRef}\n              onClick={() => {\n                dropdownPopoverShow\n                  ? closeDropdownPopover()\n                  : openDropdownPopover();\n              }}\n            >\n              {Auth.getProfile().data.username} {\" \"} \n              <FontAwesomeIcon icon={faChevronDown} />\n            </button>\n            <div\n              ref={popoverDropdownRef}\n              className={\n                (dropdownPopoverShow ? \"block \" : \"hidden \") +\n                \"bg-theme-darksmoke text-base divide-y divide-theme-bluemidgray overflow-y-hidden transition duration-100 text-theme-aliceblue z-50 py-1 list-none text-center rounded-br-full rounded-bl-full rounded-tl-full shadow-xl mt-1\"\n              }\n              style={{ minWidth: \"16rem\" }}\n            >\n            <Link to=\"/home\">\n              <p className=\"text-sm p-2 hover:text-gray-400 transition duration-200 font-normal block w-full whitespace-nowrap bg-transparent\">\n                Home\n              </p>\n            </Link>\n            <Link to=\"/creator\">\n              <p className=\"text-sm p-2 hover:text-gray-400 transition duration-200 font-normal block w-full whitespace-nowrap bg-transparent\">\n                Creator\n              </p>\n            </Link>\n            <Link to=\"/search\">\n              <p className=\"text-sm hover:text-gray-400 transition duration-200 p-2 font-normal block w-full whitespace-nowrap bg-transparent\">\n                Advanced Search\n              </p>\n            </Link>\n              <a\n                href=\"/home\"\n                className=\"text-sm p-2 font-normal block w-full whitespace-nowrap bg-transparent\"\n              >\n                <button className='p-2 bg-red-500 hover:bg-red-800 transition duration-200 rounded-md text-white outline-none shadow-lg' onClick={Auth.logout}>Logout</button>\n              </a>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Modal from 'react-modal';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\n\nimport LogInForm from '../LogInForm';\nimport SignUpForm from '../SignUpForm';\nimport Dropdown from '../Dropdown';\nimport Auth from '../../utils/auth';\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    display: 'inline',\n    textAlign: 'right',\n    backgroundColor: '#F0F8FF',\n    width: '24rem',\n    maxWidth: '90vw'\n  }\n};\n\nModal.setAppElement(document.getElementById('root'));\n\nexport default function MainNavbar() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [checked, setChecked] = useState('login-radio');\n\n  function openModal() {\n    setIsOpen(true);\n  };\n  \n  function closeModal() {\n    setIsOpen(false);\n  };\n\n  function handleRadioChange(event) {\n    console.log(event.target);\n  }\n\n  return (\n    <nav className='w-full fixed bg-theme-main z-10'>\n      <div className='flex items-center justify-between mx-auto w-11/12 py-1'>\n        <div>\n          <Link to=\"/home\">\n            <img className='h-14 md:h-16' src='./quizzard-logo.png'/>\n          </Link>\n        </div>\n        <div>\n          {Auth.loggedIn() ? (\n            <>\n              <Dropdown/>\n            </>\n          ) : (\n            <>\n            <button className='openModal text-theme-aliceblue hover:text-gray-300 bg-theme-bluemidgray transition duration-200 hover:bg-theme-bluedarkgray rounded-full p-2 text-center' onClick={openModal}>Log In | Sign Up</button>\n            </>\n          )}\n        </div>\n        <Modal \n          isOpen={isOpen}\n          onRequestClose={closeModal}\n          style={customStyles}\n          shouldReturnFocusAfterClose={false}\n          shouldCloseOnOverlayClick={true}\n          contentLabel=\"Login/Signup Modal\"\n          >\n          <button className=\"text-center\" onClick={closeModal}><FontAwesomeIcon icon={faTimes} size='2x' /></button>\n          <form>\n            <fieldset className='text-center space-x-4'>\n              <label>\n                <input id='login-radio' checked={checked === 'login-radio'} value='login-radio' onClick={() => setChecked('login-radio')} onChange={handleRadioChange} name='modalRadio' type='radio' /> Log In\n              </label>\n              <label>\n                <input id='signup-radio' checked={checked === 'signup-radio'} value='signup-radio' onClick={() => setChecked('signup-radio')} onChange={handleRadioChange} name='modalRadio' type='radio' /> Sign Up\n              </label>\n            </fieldset>\n          </form>\n          <div>\n            {checked === 'login-radio' ? <LogInForm /> : <SignUpForm />}\n          </div>\n        </Modal>\n      </div>\n    </nav>\n  )\n};\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGithub, faLinkedinIn } from '@fortawesome/free-brands-svg-icons';\nimport { faAddressCard } from '@fortawesome/free-regular-svg-icons';\n\nexport default function Splash() {\n  return (\n    <div className='min-h-screen flex justify-center items-center '>\n      <div className='mx-auto my-20 w-4/5 md:w-2/3'>\n        <div className='container shadow-xl grid grid-cols-1 divide-y divide-y-8 divide-theme-lighter bg-theme-bluegray text-theme-aliceblue p-6 rounded-md border-2 border-theme-main md:border-4'>\n          <div className='md:p-2 whitespace-nowrap md:whitespace-normal text-xl md:text-2xl lg:text-3xl animate-float font-semibold'>\n            <p className='font-title text-center tracking-wide'>\n              Welcome to Quizzard!\n            </p>\n          </div>\n          <div className='p-2 text-xs md:text-base'>\n            <p>\n              A web app where users can create and take quizzes on a variety of topics. Their results and the amount of times the quiz has been taken are stored, to be proudly displayed on the homepage.\n            </p>\n          </div>\n          <div className='p-2 text-xs md:text-base'>\n            <p>\n              To get started with Quizzard, simply <span className='text-theme-complement'>sign up using the button in the top right or log in</span> if you already have an account. Once logged in, you can search for a quiz, or if there isn't one on a certain topic, making a quiz is very intuitive!\n            </p>\n          </div>\n          <div className='p-2 text-xs md:text-base'>\n            <p>\n              The <span className='text-theme-blueblack'>top quizzes</span> are determined by the amount of times a quiz has been taken, and <span className='text-theme-bluedarkgray'>top tags</span> are controlled by how many quizzes belong to that tag. <span className='text-theme-darkest'>Top users</span> are decided by the amount of quizzes they've made and the amount of times their quizzes have been taken.\n            </p>\n          </div>\n          <div className='p-2 text-xs md:text-base'>\n            <p>\n              Quizzard is a progressive web app built on the MERN stack, and uses GraphQL/Apollo for routing as opposed to a RESTful API. Created by <span className='text-theme-darker'>Jared Donovan</span> and <span className='text-theme-darker'>Anthony Krueger</span>, this is the final project for{\" \"}\n              <span className='text-theme-darkroyal'>\n                Northwestern University's\n              </span>{\" \"}\n              Full-Stack Web Development Boot Camp.\n            </p>\n          </div>\n          <div className='p-2 text-center space-y-2'>\n            <h2 className=\"text-xl font-bold\">Links</h2>\n            <div className='grid grid-cols-1 justify-center md:flex md:divide-x divide-theme-lighter items-center'>\n              <div className='flex items-center justify-between md:space-x-1 p-3'>\n                <p className='text-gray-200 text-xs md:text-sm lg:text-base'>\n                  Github Repo:\n                </p>\n                <a \n                  className='text-theme-berry hover:text-theme-darkberry animate-pulse transition duration-200' \n                  href='https://github.com/Quizzard-Dev/Quizzard' \n                  target='_blank' \n                  rel='noreferrer'\n                >\n                  <FontAwesomeIcon icon={faGithub} size='3x'/>\n                </a>\n              </div>\n              <div className='flex items-center justify-between md:space-x-1 p-3'>\n                <p className='text-gray-200 text-xs md:text-sm lg:text-base'>\n                  Jared: \n                </p>\n                <div className='flex space-x-2 md:space-x-3'>\n                  <a \n                    className='text-theme-berry hover:text-theme-darkberry animate-pulse transition duration-200' \n                    href='https://github.com/jdono100' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faGithub} size='2x'/> \n                  </a>\n                  <a\n                    className='text-theme-berry hover:text-theme-darkberry animate-pulse transition duration-200' \n                    href='https://www.linkedin.com/in/jared-donovan/' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faLinkedinIn} size='2x'/>\n                  </a>\n                  <a\n                    className='text-theme-berry hover:text-theme-darkberry animate-pulse transition duration-200' \n                    href='http://www.jareddonovanportfolio.com/' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faAddressCard} size='2x'/>\n                  </a>\n                </div>\n              </div>\n              <div className='flex items-center justify-between md:space-x-1 p-3'>\n                <p className='text-xs md:text-sm lg:text-base text-gray-200'>\n                  Anthony: \n                </p>\n                <div className='flex space-x-2 md:space-x-3'>\n                  <a\n                    className='text-theme-berry hover:text-theme-darkberry animate-pulse transition duration-200' \n                    href='https://github.com/AnthonyKrueger' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faGithub} size='2x'/> \n                  </a>\n                  <a\n                    className='text-theme-berry hover:text-theme-darkberry animate-pulse transition duration-200' \n                    href='https://www.linkedin.com/in/anthony-krueger-1545a5208/' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faLinkedinIn} size='2x'/>\n                  </a>\n                  <a\n                    className='text-theme-berry hover:text-theme-darkberry animate-pulse transition duration-200' \n                    href='https://aik-portfolio.herokuapp.com/' \n                    target='_blank' \n                    rel='noreferrer'\n                  >\n                    <FontAwesomeIcon icon={faAddressCard} size='2x'/>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n};\n","import { gql } from '@apollo/client';\n\nexport const GET_USERS = gql`\n    query users {\n        users {\n            _id\n            username\n        }\n    }\n`;\n\nexport const GET_TOP_USERS = gql`\n    query topUsers {\n        topUsers {\n            _id\n            username\n            quizzesTaken\n            quizzes {\n                _id\n            }\n        }\n    }\n`;\n\nexport const GET_TOP_QUIZZES = gql`\n    query topQuizzes {\n        topQuizzes {\n            _id\n            title\n            author\n            takers\n        }\n    }\n`;\n\nexport const GET_USER = gql`\n    query user($userId: ID!) {\n        user(userId: $userId) {\n            username\n            _id\n            quizzesTaken\n            quizzes {\n                _id\n                title\n                takers\n                description\n                tags\n                createdAt\n                questions {\n                    questionText\n                    index\n                    answers {\n                        answerText\n                        isCorrect\n                        index\n                    }\n                }\n            }\n            recentlyTaken {\n                title\n                author\n                description\n                _id\n            }\n        }\n    }\n`;\n\nexport const GET_QUIZZES = gql`\n    query quizzes($author: String!) {\n        quizzes(author: $author) {\n            _id\n            title\n            tags\n            description\n            takers\n            author\n            questions {\n                questionText\n                index\n                answers {\n                    answerText\n                    isCorrect\n                    index\n                }\n            }\n        }\n    }\n`;\n\nexport const GET_QUIZ = gql`\n    query quiz($quizId: ID!) {\n        quiz(quizId: $quizId) {\n            _id\n            title\n            author\n            createdAt\n            description\n            tags\n            questions {\n                questionText\n                index\n                answers {\n                    answerText\n                    index\n                    isCorrect\n                }\n            }\n            scores {\n                username\n                percent\n            }\n        }\n    }\n`;\n\nexport const GET_ME = gql`\n  query me {\n    me {\n      _id\n      username\n      recentlyTaken {\n          title\n          description\n          _id\n          author\n      }\n      quizzes {\n        _id\n        title\n        questions {\n          questionText\n          index\n          answers {\n            answerText\n            index\n            isCorrect\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const SEARCH_QUIZZES = gql`\n  query search($search: String!) {\n    searchQuizzes(search: $search) {\n      _id\n      title\n      author\n    }\n  }\n`;\n\nexport const DEEP_SEARCH = gql`\n    query DeepSearch($input: SearchInput) {\n        deepSearch(input: $input) {\n         title\n         _id\n         author\n         description\n         tags\n         createdAt\n  }\n}\n`\n","import { useQuery } from '@apollo/client';\nimport {Link} from \"react-router-dom\"\nimport { GET_TOP_USERS } from '../../utils/queries';\n\nexport default function TopUsersList() {\n    const {loading, data, error, stopPolling} = useQuery(GET_TOP_USERS, {\n      pollInterval: 1000\n    })\n\n    if (loading) {\n      return (\n          <div className=\"flex justify-center items-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n          </div>\n      )\n    }\n  \n    if(error) {\n      return(\n        <span>Error</span>\n      )\n    }\n\n    setTimeout(() => {\n      stopPolling()\n    }, 120000)\n  \n    return (\n      <div className=\"space-y-1\">\n        {data.topUsers ? data.topUsers.map(user => {\n          return (\n            <div>\n            <Link to={`/user/${user._id}`}>\n            <div className=\"bg-theme-berry hover:bg-theme-berrydark transition duration-200 p-1 overflow-x-auto text-base flex-wrap font-normal flex justify-between rounded\">\n              <div className=\"w-2/6\">\n                <span>{user.username}</span>\n              </div>\n              <div className=\"w-2/6\">\n                <span>Quizzes: {user.quizzes.length}</span>\n              </div>\n              <div className=\"w-2/6\">\n                <span>Taken: {user.quizzesTaken}</span>\n              </div>\n            </div>\n            </Link>\n            </div>\n          )\n        }) : null}\n      </div>\n    )}","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\nimport { useQuery } from '@apollo/client';\nimport { GET_TOP_QUIZZES } from '../../utils/queries';\n\nexport default function TopQuizzesList() {\n  const renderData = (data) => {\n    return (\n      <>\n        {data.map((quiz, i) => {\n          return (\n            <Link to={`/quiz/${quiz._id}`} key={i}>\n              <div className=\"flex justify-between p-1 text-base flex-wrap font-normal container rounded bg-theme-berry hover:bg-theme-darkberry hover:shadow-sm transition duration-200\">\n                <span>{quiz.title}</span>\n                <span>by: {quiz.author}</span>\n                <div>\n                  <span><FontAwesomeIcon icon={faChevronRight} /></span>\n                </div>\n              </div>\n            </Link>\n          )\n        })}\n      </>\n    )\n  };\n    const {loading, data, error, stopPolling} = useQuery(GET_TOP_QUIZZES, {\n      pollInterval: 1000\n    });\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const [itemsPerPage] = useState(8);\n  \n    const pages = [];\n    const indexOfLastItem = currentPage * itemsPerPage;\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n\n    let topQuizzesData = data?.topQuizzes || [];\n\n    for (let i = 0; i < Math.ceil(topQuizzesData.length/itemsPerPage); i++) {\n      pages.push(i + 1);\n    };\n\n    const currentItems = topQuizzesData.slice(indexOfFirstItem, indexOfLastItem);\n\n    if (loading) {\n      return (\n          <div className=\"flex justify-center items-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n          </div>\n      )\n    };\n    \n    if(error) {\n      return(\n        <span>Error :/</span>\n      )\n    };\n\n    const renderPageNumbers = pages.map(n => {\n      return (\n        <div className='cursor-pointer'>\n          <li \n            className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\n            style={{\n              padding: '0.25rem'\n            }}\n            key={n} \n            id={n}\n            onClick={handleClick}\n          >\n            {n}\n          </li>\n        </div>\n      );\n    });\n  \n    function handleClick(event) {\n      setCurrentPage(Number(event.target.id));\n    };\n  \n    function handlePrevBtn() {\n      setCurrentPage(currentPage - 1);\n    };\n  \n    function handleNextBtn() {\n      setCurrentPage(currentPage + 1);\n    };\n\n    setTimeout(() => {\n      stopPolling()\n    }, 120000)\n  \n    return (\n      <div className=\"space-y-4 text-sm md:text-lg\">\n        <h1 className='font-semibold text-lg'>Top Quizzes</h1>\n        {topQuizzesData.length ? (\n          <div className=\"container flex flex-col space-y-2\">\n            {renderData(currentItems)}\n            <ul className='flex justify-center flex-wrap list-none'>\n              <li key='prevbtn' className='p-1'>\n                <button\n                  onClick={handlePrevBtn}\n                  disabled={currentPage == pages[0] ? true : false}\n                >\n                  <FontAwesomeIcon icon={faChevronLeft} />\n                </button>\n              </li>\n              {topQuizzesData.length > 8 ? renderPageNumbers : null}\n              <li key='nextbtn' className='p-1'>\n                <button\n                  onClick={handleNextBtn}\n                  disabled={currentPage == pages[pages.length - 1] ? true : false}\n                >\n                  <FontAwesomeIcon icon={faChevronRight} />\n                </button>\n              </li>\n            </ul>\n          </div>\n        )\n        : null}\n      </div>\n    )}","import React, { useState } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\n\nimport { SEARCH_QUIZZES } from '../../utils/queries';\n\nexport default function SearchResults({ input }) {\n  const renderData = (data) => {\n    return (\n      <>\n        {data.map((quiz, i) => {\n          return (\n            <Link to={`/quiz/${quiz._id}`} key={i}>\n              <div className=\"flex justify-between text-base container rounded bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 px-2 py-1\">\n                <span>{quiz.title}</span>\n                <span>{quiz.author}</span>\n                <div>\n                  <span><FontAwesomeIcon icon={faChevronRight} /></span>\n                </div>\n              </div>\n            </Link>\n          )\n        })}\n      </>\n    )\n  };\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage] = useState(8);\n\n  const pages = [];\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n\n  const { loading, data, error } = useQuery(SEARCH_QUIZZES, {\n    variables: { search: input }\n  });\n\n  let searchData = data?.searchQuizzes || [];\n  \n  for (let i = 0; i < Math.ceil(searchData.length/itemsPerPage); i++) {\n    pages.push(i + 1);\n  };\n\n  const currentItems = searchData.slice(indexOfFirstItem, indexOfLastItem);\n\n  if (loading) {\n    return (\n      <div className='h-auto md:h-ninety p-5 justify-center flex items-center overflow-y-auto bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\n        <div className=\" flex justify-center items-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n        </div>\n      </div>\n    )\n  };\n\n  const renderPageNumbers = pages.map(n => {\n    return (\n      <div className='cursor-pointer'>\n        <li \n          className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\n          style={{\n            padding: '0.25rem'\n          }}\n          key={n} \n          id={n}\n          onClick={handleClick}\n        >\n          {n}\n        </li>\n      </div>\n    );\n  });\n\n  function handleClick(event) {\n    setCurrentPage(Number(event.target.id));\n  };\n\n  function handlePrevBtn() {\n    setCurrentPage(currentPage - 1);\n  };\n\n  function handleNextBtn() {\n    setCurrentPage(currentPage + 1);\n  };\n\n  return (\n    <div className='h-auto shadow-2xl md:h-ninety p-5 bg-theme-bluegray text-sm md:text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\n      {searchData.length \n      ? (\n        <div className='space-y-4'>\n          <span className='italic'>{`Search Results for '${input}'`}</span>\n          <div className='flex flex-col font-normal space-y-2 container'>\n            {renderData(currentItems)}\n            <div className='flex justify-center items-center'>\n              <ul className='flex flex-wrap list-none'>\n                <li key='prevbtn' className='p-1'>\n                  <button\n                    onClick={handlePrevBtn}\n                    disabled={currentPage == pages[0] ? true : false}\n                  >\n                    <FontAwesomeIcon icon={faChevronLeft} />\n                  </button>\n                </li>\n                {searchData.length > 8 ? renderPageNumbers : null}\n                <li key='nextbtn' className='p-1'>\n                  <button\n                    onClick={handleNextBtn}\n                    disabled={currentPage == pages[pages.length - 1] ? true : false}\n                  >\n                    <FontAwesomeIcon icon={faChevronRight} />\n                  </button>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      )\n    : `No results for that search!`}\n    </div>\n  )\n}\n","import { useQuery, useMutation } from \"@apollo/client\";\nimport { useState, useEffect } from 'react';\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { \n  faTimes, \n  faChevronLeft, \n  faChevronRight, \n  faEdit \n} from '@fortawesome/free-solid-svg-icons';\n\nimport { DELETE_QUIZ } from \"../../utils/mutations\";\nimport { GET_QUIZZES } from \"../../utils/queries\";\nimport Auth from \"../../utils/auth\";\n\nexport default function QuizList() {\n  const renderData = (data) => {\n    return (\n      <>\n        {data.map((quiz, i) => {\n          return (\n            <div key={i} className=\"flex justify-between container rounded bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 px-2 py-1\">\n              <Link to={`/quiz/${quiz._id}`}>\n                <div className='w-auto'>\n                  <span>{quiz.title}</span>\n                </div>\n              </Link>\n              <div className=\"px-1 space-x-3\">\n                <Link to='/creator'>\n                  <span onClick={() => handleQuizEdit(quiz)}>\n                    <FontAwesomeIcon icon={faEdit} />\n                  </span>\n                </Link>\n                <span className='cursor-pointer' onClick={(e) => handleQuizDelete(quiz, e)}>\n                  <FontAwesomeIcon icon={faTimes} />\n                </span>\n              </div>\n            </div>\n          )\n        })}\n      </>\n    )\n  }\n\n  const [deleteQuiz] = useMutation(DELETE_QUIZ);\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(6);\n\n  const [redirect, setRedirect] = useState(\"\");\n\n  const pages = [];\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  \n  const { loading, data, refetch } = useQuery(GET_QUIZZES, {\n    variables: { \n      author: Auth.getProfile().data.username,\n    },\n    fetchPolicy: \"cache-and-network\"\n  });\n  \n  let quizData = data?.quizzes || [];\n  \n  for (let i = 0; i < Math.ceil(quizData.length/itemsPerPage); i++) {\n    pages.push(i + 1);\n  };\n\n  const currentItems = quizData.slice(indexOfFirstItem, indexOfLastItem);\n\n  const renderPageNumbers = pages.map(n => {\n    return (\n      <div className='cursor-pointer'>\n        <li \n          className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\n          style={{\n            padding: '0.25rem'\n          }}\n          key={n} \n          id={n}\n          onClick={handleClick}\n        >\n          {n}\n        </li>\n      </div>\n    );\n  });\n\n  \n  function handleClick(event) {\n    setCurrentPage(Number(event.target.id));\n  };\n  \n  function handlePrevBtn() {\n    setCurrentPage(currentPage - 1);\n  };\n  \n  function handleNextBtn() {\n    setCurrentPage(currentPage + 1);\n  };\n\n  function handleQuizEdit(quiz) {\n    localStorage.setItem('quiz', JSON.stringify(quiz));\n    setRedirect(true);\n  };\n\n  async function handleQuizDelete(quiz, e) {\n    e.stopPropagation();\n    e.preventDefault();\n    const { data } = await deleteQuiz({\n      variables: { quizId: quiz._id }\n    });\n    if(data) {\n      refetch()\n    }\n  };\n\n  if (loading) {\n    return (\n        <div className=\"flex justify-center items-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n        </div>\n    )\n  }\n  \n  if (redirect) {\n    return <Redirect to=\"/creator\" />;\n  };\n\n  return (\n    <div className='text-base'>\n      <h2 className=\"text-lg mb-5 font-semibold\">Your Quizzes</h2>\n      {quizData.length\n        ? (<div>\n          <span className='italic'>{`You have ${quizData.length} saved Quizzes`}</span>\n          <div className=\"mt-5 flex flex-col space-y-2 container\">\n            {renderData(currentItems)}\n            <div className='flex justify-center items-center'>\n              <ul className='flex flex-wrap list-none'>\n                <li key='prevbtn' className='p-1'>\n                  <button\n                    onClick={handlePrevBtn}\n                    disabled={currentPage == pages[0] ? true : false}\n                  >\n                    <FontAwesomeIcon icon={faChevronLeft} />\n                  </button>\n                </li>\n                {quizData.length > 6 ? renderPageNumbers : null}\n                <li key='nextbtn' className='p-1'>\n                  <button\n                    onClick={handleNextBtn}\n                    disabled={currentPage == pages[pages.length - 1] ? true : false}\n                  >\n                    <FontAwesomeIcon icon={faChevronRight} />\n                  </button>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>)\n        : <p className='italic'>You have no saved quizzes...</p>}\n    </div>\n  )\n};\n","import { useQuery } from \"@apollo/client\"\nimport { GET_ME } from \"../../utils/queries\"\nimport { Link } from \"react-router-dom\"\n\nexport default function RecentlyTaken() {\n    const { data, loading, error } = useQuery(GET_ME)\n\n    if (loading) {\n        return (\n            <div className=\"flex justify-center items-center\">\n                <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n            </div>\n        )\n    }\n\n    if (error) {\n        return (\n            <span>Error</span>\n        )\n    }\n\n    return (\n        <div>\n            {data.me.recentlyTaken.length ?\n                <div>\n                    {data.me.recentlyTaken.map(quiz => {\n                        return (\n                            <div className=\"my-2\">\n                                <Link to={`/quiz/${quiz._id}`}>\n                                    <div className=\"bg-theme-main hover:bg-theme-darkest transition duration-200 flex justify-between rounded p-1\">\n                                        <p>{quiz.title}</p>\n                                        <p className=\"text-md font-normal\">{quiz.author}</p>\n                                    </div>\n                                </Link>\n\n                            </div>\n                        )\n                    })}\n                </div>\n                : <span className='italic font-normal'>No quizzes taken!</span>}\n        </div>\n    )\n}","import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\n\nimport TopUsersList from '../../components/TopUsersList';\nimport TopQuizzesList from \"../../components/TopQuizzesList\"\nimport SearchResults from '../../components/SearchResults';\nimport Auth from '../../utils/auth';\nimport QuizList from '../../components/QuizList';\nimport RecentlyTaken from '../../components/RecentlyTaken';\n\n\nexport default function Dashboard() {\n  const [searchInput, setSearchInput] = useState('');\n\n  let token = localStorage.getItem('id_token');\n  \n  if (!token) {\n    return <Redirect to='/' />\n  };\n\n  return (\n    <div className='min-h-screen flex md:pt-16 justify-center '>\n      <div className='h-auto w-full md:h-eightyvh m-2 md:m-5 grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4'>\n        <div className='text-center h-full space-y-4 mt-20 md:mt-0'>\n          <form className='h-10 md:h-ten'>\n            <input \n              value={searchInput}\n              onChange={(e) => {\n                setSearchInput(e.target.value);\n              }}\n              type='text'\n              className='w-full bg-theme-aliceblue hover:bg-gray-200 placeholder-gray-500 placeholder-opacity-70 transition duration-200 shadow-lg p-3 rounded'\n              placeholder='Search for topics!'\n            />\n          </form>\n          {!(searchInput === \"\") ? <SearchResults input={searchInput} /> : (\n            <div className='h-auto shadow-2xl md:h-ninety p-5 bg-theme-bluegray text-sm md:text-lg text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\n              <TopQuizzesList />\n            </div>\n          )}\n        </div>\n        <div className='flex flex-wrap space-y-0 md:space-y-4 text-xs lg:text-sm text-center'>\n          <div className='h-ten justify-between w-full flex lg:w-full mb-3 md:mb-0 md:pt-0 md:mt-0 gap-3'>\n            <div className='w-full'>\n              <Link to='/search'>\n                <button className='w-full p-3 h-10 md:h-16 bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg'>\n                    <p className='whitespace-nowrap'>\n                      Advanced Search\n                    </p>\n                </button>\n              </Link>\n            </div>\n            <div className='w-full'>\n              <Link to='/creator'>\n                <button className='w-full p-3 h-10 md:h-16 bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg'>\n                  <p className='whitespace-nowrap'>\n                    Create a quiz\n                  </p>\n                </button>\n              </Link>\n            </div>\n            <div className='w-full'>\n              <Link to='/' onClick={Auth.logout}>\n                <button className='w-full p-3 h-10 md:h-16 bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 rounded-md text-white outline-none focus:ring-4 shadow-lg'>\n                  <p>\n                    Log out\n                  </p>\n                </button>\n              </Link>\n            </div>\n          </div>\n          <div className='grid md:h-ninety overflow-y-auto shadow-2xl p-5 flex-grow bg-theme-bluegray text-lg text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\n          <QuizList />\n          </div>\n        </div>\n        <div className='text-center space-y-4'>\n        <div className=\"hidden md:grid h-auto shadow-2xl text-sm md:text-lg overflow-y-auto md:h-1/2 p-5 bg-theme-bluegray font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main\">\n            Recently Taken\n            <RecentlyTaken />\n        </div>\n          <div className='hidden md:grid h-1/2 overflow-y-auto p-5 shadow-2xl bg-theme-bluegray text-lg font-semibold text-theme-aliceblue border-2 md:border-4 rounded-md border-theme-main'>\n            Top Users\n            <TopUsersList />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons';\n\nexport default function Alert({ hideFunction, message }) {\n  return (\n    <div>\n      <div className=\"text-white flex px-6 py-4 border-0 rounded relative mb-4 bg-red-700\">\n        <span className=\"text-xl inline-block mr-5 align-middle\">\n          <FontAwesomeIcon icon={faExclamation} />\n        </span>\n        <span className=\"inline-block align-middle mr-8\">\n          <b className=\"capitalize\">Failed: </b> {message}\n        </span>\n        <button onClick={hideFunction} className=\"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none\">\n          <span>×</span>\n        </button>\n      </div>\n    </div>\n  )\n};\n","import React, { useState, useEffect } from 'react';\nimport { Redirect } from \"react-router\";\nimport { useMutation } from '@apollo/client';\nimport { CREATE_QUIZ } from '../../utils/mutations';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { Hint } from 'react-autocomplete-hint';\n\nimport Alert from '../../components/Alert';\n\nexport default function QuizCreator() {\n  const [createQuiz, {error}] = useMutation(CREATE_QUIZ);\n\n  const [alert, setAlert] = useState({show: false, message:\"\"})\n\n  const baseQuiz = {\n    title: \"\",\n    description: \"\",\n    tags: [],\n    questions: []\n  };\n\n  const baseQuestion = {\n    questionText: \"\",\n    answers: [],\n    index: 0\n  };\n\n  const baseAnswer = {\n    answerText: \"\",\n    isCorrect: false,\n    index: 0\n  };\n\n  const tags = [\n    \"Programming\",\n    \"Javascript\",\n    \"Node\",\n    \"MySQL\",\n    \"CSS\",\n    \"React\",\n    \"MongoDB\",\n    \"WebDev\",\n    \"HTML\",\n    \"Movies\",\n    \"Television\",\n    \"Math\",\n    \"History\",\n    \"Science\",\n    \"Geography\"\n  ]\n\n  const loadedQuiz = localStorage.getItem('quiz')\n    ? JSON.parse(localStorage.getItem('quiz'))\n    : baseQuiz;\n\n  if (loadedQuiz.__typename) {\n    delete loadedQuiz.__typename;\n    loadedQuiz.questions.map((question) => {\n      delete question.__typename;\n      question.answers.map((answer) => {\n        delete answer.__typename;\n        return answer;\n      });\n      return question;\n    });\n  };\n\n  if (loadedQuiz._id || loadedQuiz.author) {\n    delete loadedQuiz._id;\n    delete loadedQuiz.author;\n    delete loadedQuiz.takers;\n  };\n\n  if(loadedQuiz.createdAt) {\n    delete loadedQuiz.createdAt\n  }\n\n  if(loadedQuiz.scores) {\n    delete loadedQuiz.scores\n  }\n\n  if(!loadedQuiz.tags) {\n    loadedQuiz.tags = []\n  }\n\n  useEffect(() => {\n    if(error) {\n      setAlert({show: true, message: error.message})\n    }\n  }, [error])\n\n  const [quiz, setQuiz] = useState(loadedQuiz);\n\n  const [currentQuestion, setCurrentQuestion] = useState({});\n\n  const [currentAnswer, setCurrentAnswer] = useState({});\n\n  const [tagText, setTagText] = useState(\"\")\n\n  const [redirect, setRedirect] = useState(false);\n\n  function addQuestion() {\n    if(currentAnswer.answerText) {\n      updateAnswer();\n    }\n    updateQuestion()\n    const newQuestionList = quiz.questions;\n    if(newQuestionList.length < 30) {\n      const newQuestion = baseQuestion;\n      newQuestion.index = quiz.questions.length + 1;\n      newQuestionList.push(baseQuestion);\n      setQuiz({ ...quiz, questions: newQuestionList });\n      setCurrentAnswer({})\n      setCurrentQuestion(newQuestion)\n      setTimeout(() => {\n        const questionInput = document.querySelector(\"#questionInput\")\n        if(questionInput) {\n          questionInput.focus()\n        }\n      }, 100)\n    }\n    else {\n      setAlert({show: true, message: \"Max of 30 questions!\"})\n    }\n  };\n\n  function addAnswer() {\n    updateAnswer()\n    const newAnswerList = currentQuestion.answers;\n    if(newAnswerList.length < 10) {\n      const newAnswer = baseAnswer;\n      newAnswer.index = currentQuestion.answers.length + 1;\n      if (newAnswer.index === 1) {\n        newAnswer.isCorrect = true;\n      };\n      newAnswerList.push(newAnswer);\n      setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\n      setCurrentAnswer(newAnswer)\n      updateQuestion()\n      setTimeout(() => {\n        const answerInput = document.querySelector(\"#answerInput\")\n        if(answerInput) {\n          answerInput.focus()\n        }\n      }, 100)\n    }\n    else {\n      setAlert({show: true, message: \"Max of 10 answers per question!\"})\n    }\n  };\n\n  function updateQuestion() {\n    const newQuestionList = quiz.questions;\n    newQuestionList[currentQuestion.index - 1] = currentQuestion;\n    setQuiz({ ...quiz, questions: newQuestionList });\n    localStorage.setItem('quiz', JSON.stringify(quiz));\n  };\n\n  function updateAnswer() {\n    const newAnswerList = currentQuestion.answers;\n    newAnswerList[currentAnswer.index - 1] = currentAnswer;\n    setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\n  };\n\n  function handleQuestionInput(value) {\n    setCurrentQuestion({ ...currentQuestion, questionText: value })\n\n  }\n\n  function handleQuestionChange(question) {\n    if(currentAnswer.answerText) {\n      updateAnswer()\n    }\n    updateQuestion();\n    setCurrentQuestion(question);\n    setCurrentAnswer({});\n    setTimeout(() => {\n      const questionInput = document.querySelector(\"#questionInput\")\n      if(questionInput) {\n        questionInput.focus()\n      }\n    }, 100)\n  };\n\n  function handleAnswerChange(answer) {\n    updateAnswer();\n    updateQuestion();\n    setCurrentAnswer(answer);\n    setTimeout(() => {\n      const answerInput = document.querySelector(\"#answerInput\")\n      if(answerInput) {\n        answerInput.focus()\n      }\n    }, 100)\n  };\n\n  function handleQuestionDelete(question, e) {\n    e.stopPropagation();\n    if(currentAnswer.answerText) {\n      updateAnswer();\n    }\n    updateQuestion();\n    if (question.index === currentQuestion.index) {\n      setCurrentQuestion({});\n      setCurrentAnswer({});\n    };\n\n    const newQuestionList = quiz.questions;\n    const delIndex = newQuestionList.indexOf(question);\n    newQuestionList.splice(delIndex, 1);\n    newQuestionList.forEach((question, index) => {\n      question.index = (index + 1);\n    });\n    setQuiz({ ...quiz, questions: newQuestionList });\n  };\n\n  function handleAnswerDelete(answer, e) {\n    e.stopPropagation();\n    updateAnswer();\n    if (answer.index === currentAnswer.index) {\n      setCurrentAnswer({});\n    };\n    const newAnswerList = currentQuestion.answers;\n    const delIndex = newAnswerList.indexOf(answer);\n    newAnswerList.splice(delIndex, 1);\n    newAnswerList.forEach((answer, index) => {\n      answer.index = (index + 1);\n    })\n    if (answer.isCorrect && newAnswerList.length) {\n      newAnswerList[0].isCorrect = true;\n    }\n    setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\n  }\n\n  function handleCorrectChange(correctAnswer, e) {\n    e.stopPropagation();\n    const newAnswerList = currentQuestion.answers.map((answer) => {\n      if (answer === correctAnswer) {\n        answer.isCorrect = true;\n      }\n      else {\n        answer.isCorrect = false;\n      }\n      return answer;\n    })\n    console.log(newAnswerList);\n    setCurrentQuestion({ ...currentQuestion, answers: newAnswerList });\n\n  }\n\n  function handleQuizValidate() {\n    if(currentAnswer.answerText) {\n      updateAnswer();\n    }\n    updateQuestion();\n    let valid = true\n    if(!quiz.title) {\n      valid = false;\n      setAlert({show: true, message: \"You need a title!\"})\n    }\n    if(!(quiz.description.length >= 10)) {\n      valid = false;\n      setAlert({show: true, message: \"You need a Description of at least 10 characters!\"})\n    }\n    if(!(quiz.questions.length >= 3)) {\n      valid = false;\n      setAlert({show: true, message: \"You need at least 3 questions!\"})\n    }\n    if(!quiz.tags.length) {\n      valid = false;\n      setAlert({show: true, message: \"At least 1 tag is required!\"})\n    }\n    quiz.questions.forEach(question => {\n      if(!(question.answers.length >= 2)) {\n        valid= false;\n        setAlert({show: true, message: \"Each question must have at least 2 answers!\"})\n      }\n      if(!question.questionText) {\n        valid= false;\n        setAlert({show: true, message: \"Questions are missing text!\"})\n      }\n      question.answers.forEach(answer => {\n        if(!answer.answerText) {\n          valid= false;\n          setAlert({show: true, message: \"Answers are missing text!\"})\n        }\n      })\n    })\n    if(valid) {\n      handleQuizCreate()\n    }\n  }\n\n  function deleteTag(tag) {\n    const newTags = quiz.tags\n    const delIndex = newTags.indexOf(tag)\n    newTags.splice(delIndex, 1)\n    setQuiz({...quiz, tags: newTags})\n  }\n\n  function handleTagSubmit() {\n    const newTags = quiz.tags\n    if(newTags.length < 5) {\n      if(tagText.length < 13) {\n        newTags.push(tagText)\n        setQuiz({...quiz, tags: newTags})\n      }\n      else {\n        setAlert({show: true, message:\"Maximum tag length is 12 characters!\"})\n      }\n    }\n    else {\n      setAlert({show: true, message:\"Maximum allowed tags is 5!\"})\n    }\n    setTagText(\"\")\n  }\n\n  function handleTagInputEnter(e) {\n    if(e.key === \"Enter\") {\n      handleTagSubmit()\n    }\n  }\n\n  async function handleQuizCreate() {\n    const { data } = await createQuiz({\n      variables: { input: quiz }\n    })\n    if (data) {\n      setCurrentQuestion({});\n      setCurrentAnswer({});\n      setQuiz(baseQuiz);\n      if (localStorage.getItem('quiz')) {\n        localStorage.removeItem('quiz');\n      }\n      setRedirect(true);\n    }\n  }\n\n  let token = localStorage.getItem('id_token');\n\n  if (!token) {\n    return <Redirect to='/' />;\n  };\n\n  if (redirect) {\n    return <Redirect to=\"/home/reload\" />;\n  };\n\n  return (\n    <div className='min-h-screen flex '>\n      <div className=\"bg-theme-bluegray border-2 md:border-4 border-theme-main mt-20 w-full rounded shadow-lg p-5 m-5\">\n        <div className='mb-3 md:flex md:justify-between'>\n          <h1 className=\"text-2xl font-bold font-title text-center md:text-right mb-3\">Quiz Creator</h1>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 mt-2 gap-3 text-theme-aliceblue\">\n\n          {/* Questions List */}\n\n          <div className=\"bg-theme-main rounded-lg p-3\">\n            <h2 className=\"text-lg font-bold mb-4 text-center\">Question List</h2>\n            <div className=\"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3\">\n              <div className=\"space-y-2 flex flex-col\">\n                {quiz.questions.length ? quiz.questions.map((question) => {\n                  return (\n                    <div onClick={() => handleQuestionChange(question)} className={`flex flex-row justify-between container ${currentQuestion.index === question.index ? \"bg-theme-berrydarker shadow-md\" : \"bg-theme-berry hover:bg-theme-berrydark\"} rounded p-2 transition duration-200`} key={question.index}>\n                      <span><strong>{question.index}. ) </strong>{question.questionText}</span>\n                      <div onClick={(e) => handleQuestionDelete(question, e)} className=\"px-1 transition duration-100 hover:text-red-700 cursor-pointer\">\n                        <span><FontAwesomeIcon icon={faTimes} /></span>\n                      </div>\n                    </div>\n                  )\n                }) : <p className='text-center italic'>Add questions by clicking the button below</p>}\n              </div>\n              <button className=\"mt-4 w-full rounded py-1 font-semibold hover:bg-green-700 bg-green-500 transition duration-200\" onClick={() => addQuestion()}>\n                <FontAwesomeIcon icon={faPlus}/> Question\n              </button>\n            </div>\n          </div>\n\n          {/* Question Editor */}\n\n          <div className=\"bg-theme-main rounded-lg p-3\">\n            <h2 className=\"text-lg font-bold mb-4 text-center\">Question Editor</h2>\n            {currentQuestion.index ? (\n              <>\n                  <form>\n                    <textarea id=\"questionInput\" className=\"hover:bg-gray-200 transition duration-200 text-black w-full rounded p-1\" type=\"text\" value={currentQuestion.questionText} placeholder=\"Make sure the correct answer is selected...\" onChange={(e) => handleQuestionInput(e.target.value)}/>\n                  </form>\n\n              {/* Answers List */}\n\n                <div className=\"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3\">\n                    <span className=\"font-semibold text-lg\">Answers</span>\n                    <div className=\"space-y-2\">\n                      {currentQuestion.answers.map((answer, index) => {\n                        return (\n                          <div onClick={() => handleAnswerChange(answer)} className={`flex flex-row justify-between container rounded ${currentAnswer.index === answer.index ? \"bg-theme-berrydarker shadow-md\" : \"bg-theme-berry hover:bg-theme-berrydark\"} transition duration-200 p-2`} key={index}>\n                            <span><strong>{answer.index}. </strong>{answer.answerText}</span>\n                            <div className=\"flex\">\n                              <div className=\"px-3\">\n                                <input checked={answer.isCorrect} onChange={(e) => handleCorrectChange(answer, e)} type=\"checkbox\" />\n                              </div>\n                              <div onClick={(e) => handleAnswerDelete(answer, e)} className=\"px-1 transition duration-100 hover:text-red-700 cursor-pointer\">\n                                <span><FontAwesomeIcon icon={faTimes} /></span>\n                              </div>\n                            </div>\n                          </div>\n                        )\n                      })}\n                    </div>\n\n                    <button onClick={() => addAnswer()} className=\"mx-auto hover:bg-green-700 bg-green-500 py-1 font-semibold rounded w-full mt-2 transition duration-200\">\n                      <FontAwesomeIcon icon={faPlus}/>  Answer\n                    </button>\n\n                </div>\n              </>\n            ) : (\n              <p className='text-center italic'>Select a question to edit</p>\n            )}\n\n\n\n          </div>\n\n          {/* Answer Editor */}\n\n          <div className=\"bg-theme-main rounded-lg p-3\">\n            <h2 className=\"text-lg font-bold mb-4 text-center\">Answer Editor</h2>\n            {currentAnswer.index ? (\n              <>\n                <div className=\"rounded container border-2 border-theme-aliceblue bg-theme-smoke p-2 mt-3\">\n                  <form>\n                    <textarea id=\"answerInput\" className=\"hover:bg-gray-200 transition duration-200 text-black w-full rounded p-1\" type=\"text\" value={currentAnswer.answerText} placeholder=\"Answer\" onChange={(e) => setCurrentAnswer({ ...currentAnswer, answerText: e.target.value })} />\n                  </form>\n                </div>\n              </>\n            ) : (\n              <p className='text-center italic'>Select an answer to edit</p>\n            )}\n          </div>\n        </div>\n\n\n        <div className=\"flex flex-wrap justify-center mt-8 gap-3 lg:gap-10\">\n        <div>\n          <input className=\"hover:bg-gray-200 transition duration-200 bg-theme-aliceblue w-full md:w-96 rounded-lg\" type=\"text\" value={quiz.title} placeholder=\"Enter a title...\" onChange={(e) => setQuiz({ ...quiz, title: e.target.value })} />\n        </div>\n          <div>\n           <input className=\"hover:bg-gray-200 transition duration-200 bg-theme-aliceblue w-full md:w-96 rounded-lg\" type=\"text\" value={quiz.description} placeholder=\"Enter a description...\" onChange={(e) => setQuiz({ ...quiz, description: e.target.value })} />\n          </div>\n          <div className=\"justify-center\">\n          <Hint options={tags} allowTabFill>\n            <input className=\"hover:bg-gray-200 transition duration-200 bg-theme-aliceblue w-full md:w-96 rounded-lg\"\n              value={tagText}\n              type=\"text\"\n              placeholder=\"Add tags...\"\n              onChange={e => setTagText(e.target.value)}\n              onKeyDown={e => handleTagInputEnter(e)}\n            />\n          </Hint>\n          {quiz.tags.length ? \n          <div className=\"grid grid-cols-3 w-full gap-2 mt-3 flex-grow-0\">\n            {quiz.tags.map(tag => {\n              return(\n                <div className=\"p-1 rounded-xl text-sm bg-yellow-300 flex justify-between\">\n                <span className=\"overflow-x-hidden max-w-sm\">{tag}</span>\n                <div onClick={() => deleteTag(tag)} className=\"transition duration-100 hover:text-red-700 cursor-pointer px-1\">\n                  <span><FontAwesomeIcon icon={faTimes} /></span>\n                </div>\n                </div>\n              )\n            })}\n          </div>\n          : null}\n          </div>\n        </div>\n        <div className=\"text-center\">\n          <button disabled={quiz.questions.length < 3 ? true : false} onClick={() => handleQuizValidate()} className={`rounded ${quiz.questions.length >= 3 ? \"bg-green-500 hover:bg-green-700\" : \"bg-gray-500\"} mx-auto font-bold text-lg mt-10 py-3 px-20 transition duration-200`}>Create Quiz</button>\n        </div>\n        {alert.show ?\n        <div className=\"mt-8\">\n          <Alert message={alert.message} hideFunction={() => setAlert({show: false, message:\"\"})} />\n        </div>\n        : null}\n      </div>\n    </div>\n  )\n}","import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { useParams } from \"react-router-dom\";\nimport { Redirect } from \"react-router\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTag } from '@fortawesome/free-solid-svg-icons';\nimport Auth from \"../../utils/auth\";\n\nimport { GET_QUIZ } from \"../../utils/queries\";\nimport { SUBMIT_QUIZ } from \"../../utils/mutations\";\n\nimport Alert from \"../../components/Alert\"\n\nexport default function Quiz() {\n\n  const [currentQuestion, setCurrentQuestion] = useState({});\n\n  const [answers, setAnswers] = useState([]);\n\n  const [grades, setGrades] = useState({percentage: 0, results: []})\n\n  const [alert, setAlert] = useState({show: false, message:\"\"})\n\n  const [started, setStarted] = useState(false)\n\n  const [redirect, setRedirect] = useState(false)\n\n  const [submitQuiz] = useMutation(SUBMIT_QUIZ)\n\n  const { id } = useParams();\n\n  const { loading, data, error } = useQuery(GET_QUIZ, {\n    variables: { quizId: id }\n  });\n\n  useEffect(() => {\n    setCurrentQuestion(data ? data.quiz.questions[0] : {});\n    if (!answers.length && data) {\n      const answerList = data.quiz.questions.map(question => {\n        return ({ chosenAnswer: 0, questionIndex: question.index });\n      })\n      setAnswers(answerList);\n    }\n  }, [data]);\n\n  function nextQuestion() {\n    if (currentQuestion.index < data.quiz.questions.length) {\n      const nextQuestion = data.quiz.questions[currentQuestion.index];\n      setCurrentQuestion(nextQuestion);\n    };\n  };\n\n  function prevQuestion() {\n    if (currentQuestion.index > 1) {\n      const newIndex = (currentQuestion.index - 1);\n      const prevQuestion = data.quiz.questions[newIndex - 1];\n      setCurrentQuestion(prevQuestion);\n    }\n  }\n\n  function useForceUpdate() {\n    const [value, setValue] = useState(0); // integer state\n    return () => setValue(value => value + 1); // update the state to force render\n  }\n\n  const forceUpdate = useForceUpdate();\n\n  function checkAnswer(question, answer) {\n      let newAnswers = answers;\n      newAnswers[question.index - 1].chosenAnswer = answer.index;\n      setAnswers(newAnswers);\n      forceUpdate();\n  };\n\n  function getChosenAnswer(questionIndex) {\n      const chosenIndex = answers.find(answer => answer.questionIndex === questionIndex).chosenAnswer\n      return data.quiz.questions[questionIndex - 1].answers[chosenIndex - 1]?.answerText\n  }\n\n  function gradeColor(percentage) {\n    if(percentage == 1) {\n      return \"text-theme-magenta\"\n    }\n    else if(percentage >= 0.85) {\n      return \"text-green-500\"\n    }\n    else if (percentage >= 0.7) {\n      return \"text-yellow-300\"\n    }\n    else if (percentage >= 0.6) {\n      return \"text-yellow-600\"\n    }\n    else {\n      return \"text-red-700\"\n    }\n  }\n\n  async function gradeQuiz() {\n      let valid = true\n      answers.forEach(answer => {\n          if(answer.chosenAnswer === 0) {\n              valid = false\n          }\n      })\n      if(valid) {\n          const { data } = await submitQuiz({\n              variables: {quizId: id, answers: answers}\n          })\n          setGrades(data.submitQuiz)\n      }\n      else {\n          setAlert({show: true, message: \"You have unanswered questions!\"})\n      }\n  }\n\n  function handleQuizEdit() {\n    localStorage.setItem('quiz', JSON.stringify(data?.quiz));\n    setRedirect(true);\n  };\n\n  function Answers({ question, answersList }) {\n    if (question.answers) {\n      const questionList = question.answers.map((answer) => {\n        return (\n          <div className=\"w-full flex justify-center\" key={`${question.index}${answer.index}`}>\n            <div onClick={() => checkAnswer(question, answer)} className={`w-3/4 p-2 rounded transition duration-200 ${answersList[question.index - 1]?.chosenAnswer === answer.index ? \"bg-yellow-500\" : \"bg-yellow-200 hover:bg-yellow-400\"}`}>\n              <span><span className=\"font-semibold mr-3\">{answer.index}.) </span>{answer.answerText}</span>\n            </div>\n          </div>\n        )\n      })\n      return (\n        <div className=\"space-y-3\">\n          {questionList}\n        </div>\n      );\n    };\n    return (\n      <p>No Answers</p>\n    );\n  };\n\n  if (redirect) {\n    return <Redirect to=\"/creator\" />;\n  };\n\n  if (loading) {\n    return (\n      <div className='min-h-screen items-center justify-center flex '>\n        <div className=\" flex justify-center items-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n        </div>\n      </div>\n    );\n  };\n\n  if (error) {\n    return (\n      <div className='min-h-screen items-center justify-center flex '>\n        <div className=\"p-10 rounded bg-red-400\">\n          <span className=\"text-3xl font-bold\">Quiz ID not Found</span>\n        </div>\n      </div>\n    );\n  };\n\n\n\n  return (\n    <div className='items-center justify-center flex'>\n      <div className=\"rounded mt-36 w-full shadow-lg p-5 bg-theme-main mx-1 md:mx-0 md:w-10/12\">\n      <div className=\"md:flex md:justify-between\">\n        <h3 className=\"text-4xl text-white font-main\">{data.quiz.title}</h3>\n        {data.quiz.tags && !started ? \n          <div className=\"grid grid-cols-3 md:w-2/6 gap-2 mt-3 mb-5 md:mb-0 flex-grow-0\">\n            {data.quiz.tags.map(tag => {\n              return(\n                <div className=\"p-1 rounded-xl text-sm bg-theme-berry text-white flex justify-between\">\n                <span className=\"overflow-x-hidden max-w-sm\">{tag}</span>\n                <span><FontAwesomeIcon icon={faTag} /></span>\n                </div>\n              )\n            })}\n          </div>\n        : null}\n\n      </div>\n        {!started && data ?\n        <div className=\"w-full mx-auto\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 px-5 md:gap-5\">\n        <div className=\"w-full md:my-10 mx-auto p-3 bg-theme-bluegray rounded-lg\">\n            <h2 className=\"text-xl font-bold text-white underline\">Description</h2>\n            <p className=\"mx-3 py-3\">{data.quiz.description}</p>\n        </div>\n            <div className=\"w-full my-10 mx-auto p-3 bg-theme-bluegray rounded-lg\">\n                <h2 className=\"text-xl text-white font-bold underline\">Recent Scores</h2>\n                {data.quiz.scores.map(score => {\n                    return (\n                        <div className=\"flex justify-between my-2 w-5/6 md:w-1/2 px-2 rounded bg-theme-aliceblue mx-auto\">\n                            <span className=\"text-lg font-semibold\">{score.username}</span>\n                            <span className={`text-lg font-semibold ${gradeColor(score.percent)}`}>{(score.percent * 100).toFixed()}%</span>\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n            <div className=\"text-center\">\n                <button className=\"py-2 px-8 bg-green-500 hover:bg-green-700 transition duration-200 rounded center\" onClick={() => setStarted(true)}>Start Quiz</button>\n                {data.quiz.author === Auth.getProfile().data.username ?\n                <button className=\"py-2 px-8 bg-theme-berry hover:bg-theme-berrydark ml-5 transition duration-200 rounded center\" onClick={() => handleQuizEdit()}>Copy and Edit</button>\n                : null\n                }\n            </div>\n        </div>\n        : null\n        }\n        {!grades.results.length && started\n        ? \n        <div className=\"mt-10\">\n        <div className=\"container rounded bg-theme-aliceblue p-5 mb-8\">\n          <span>{currentQuestion.questionText}</span>\n        </div>\n          <Answers question={currentQuestion} answersList={answers} />\n          <div className=\"mt-10 items-center justify-center flex space-x-5\">\n          {currentQuestion.index !== 1 ?\n            <button className=\"p-2 rounded bg-theme-berry hover:bg-theme-berrydark transition duration-200\" onClick={() => prevQuestion()}>Back</button>\n            : null\n          }\n          {currentQuestion.index !== data.quiz.questions.length ?\n            <button className=\"p-2 rounded bg-theme-berry hover:bg-theme-berrydark transition duration-200\" onClick={() => nextQuestion()}>Next Question</button>\n          : <button onClick={() => gradeQuiz()} className=\"p-2 rounded bg-green-400 hover:bg-green-600 transition duration-200\">Submit Quiz</button>\n          }\n          </div>\n          <div className=\"w-full text-right\">\n            <span className=\"pt-5 pr-2 text-white\">{currentQuestion.index}/{data.quiz.questions.length}</span>\n          </div>\n        </div>\n        : null}\n        {grades.results.length ? \n        <div className=\"space-y-2 mt-5\">\n        <div className=\"text-center mb-5\">\n            <span className=\"text-3xl text-white\">You scored <span className={`font-semibold ${gradeColor(grades.percentage)}`}>{(grades.percentage*100).toFixed()}</span>%</span>\n        </div>\n        <div className=\"space-y-3 py-5\">\n            {grades.results.map(grade => {\n                return (\n                    <div className={`p-2 flex justify-between rounded ${grade.correct ? \"bg-green-400\" : \"bg-red-600\"}`}>\n                        <span>{data.quiz.questions[grade.questionIndex - 1].questionText}</span>\n                        <span>Your Answer: {getChosenAnswer(grade.questionIndex)}</span>\n                    </div>\n                )\n            })}\n\n        </div>\n        </div>\n        : null\n        }\n        {alert.show ?\n        <div className=\"mt-5\">\n            <Alert message={alert.message} hideFunction={() => setAlert({show: false, message: \"\"})} />\n        </div>\n        : null}\n        {!started ? \n        <div className=\"text-right mt-5 text-gray-900\">\n          <span>Created By: {data.quiz.author} on {data.quiz.createdAt}</span>\n        </div>\n        : null\n        }\n      </div>\n    </div>\n  );\n};","import {useQuery} from \"@apollo/client\"\nimport {useState} from 'react'\nimport {GET_USER} from \"../../utils/queries\"\nimport { Link } from \"react-router-dom\"\nimport { useParams } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faChevronLeft, \n  faChevronRight\n} from '@fortawesome/free-solid-svg-icons';\n\nexport default function UserPage() {\n\n    const renderData = (data) => {\n        return (\n            <>\n                {data.map((quiz, i) => {\n                    return (\n                        <Link to={`/quiz/${quiz._id}`}>\n                            <div key={i} className=\"flex justify-between container rounded bg-theme-main hover:bg-theme-darkest hover:shadow-sm transition duration-200 px-2 py-1\">\n                                <div className='w-auto font-semibold'>\n                                    <span>{quiz.title}</span>\n                                </div>\n                            </div>\n                        </Link>\n                    )\n                })}\n            </>\n        )\n    }\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const [itemsPerPage, setItemsPerPage] = useState(6);\n\n    const pages = [];\n    const indexOfLastItem = currentPage * itemsPerPage;\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n\n    const {id} = useParams();\n\n    const {data, loading, error} = useQuery(GET_USER, {\n        variables: {\n            userId: id\n        }\n    })\n\n    let quizData = data?.user?.quizzes || [];\n  \n    for (let i = 0; i < Math.ceil(quizData.length/itemsPerPage); i++) {\n      pages.push(i + 1);\n    };\n  \n    const currentItems = quizData.slice(indexOfFirstItem, indexOfLastItem);\n  \n    const renderPageNumbers = pages.map(n => {\n      return (\n        <div className='cursor-pointer'>\n          <li \n            className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\n            style={{\n              padding: '0.25rem'\n            }}\n            key={n} \n            id={n}\n            onClick={handleClick}\n          >\n            {n}\n          </li>\n        </div>\n      );\n    });\n  \n    \n    function handleClick(event) {\n      setCurrentPage(Number(event.target.id));\n    };\n    \n    function handlePrevBtn() {\n      setCurrentPage(currentPage - 1);\n    };\n    \n    function handleNextBtn() {\n      setCurrentPage(currentPage + 1);\n    };\n\n    if (loading) {\n        return (\n          <div className='min-h-screen items-center justify-center flex '>\n            <div className=\" flex justify-center items-center\">\n              <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n            </div>\n          </div>\n        );\n      };\n    \n      if (error) {\n        return (\n          <div className='min-h-screen items-center justify-center flex '>\n            <div className=\"p-10 rounded bg-red-400\">\n              <span className=\"text-3xl font-bold\">User ID not Found</span>\n            </div>\n          </div>\n        );\n      };\n\n    return (\n        <div className='min-h-screen flex justify-center items-center '>\n            <div className='mx-auto w-full md:w-2/3 bg-theme-bluegray rounded p-3'>\n                <div className='items-center justify-between flex'>\n                    <h2 className=\"text-3xl\">User: <span className=\"text-white\">{data.user.username}</span></h2>\n                    <h2 className=\"text-3xl\">Quizzes: <span className=\"text-white\">{data.user.quizzes.length}</span></h2>\n                    <h2 className=\"text-3xl\">Taken: <span className=\"text-white\">{data.user.quizzesTaken}</span></h2>\n                </div>\n                <div className=\"py-3\">\n                    {quizData.length\n                        ? (<div>\n                            <span>{`User has ${quizData.length} Saved Quizzes`}</span>\n                            <div className=\"mt-5 flex flex-col space-y-2 container\">\n                                {renderData(currentItems)}\n                                <div className='flex justify-center items-center'>\n                                    <ul className='flex flex-wrap list-none'>\n                                        <li key='prevbtn' className='p-1'>\n                                            <button\n                                                onClick={handlePrevBtn}\n                                                disabled={currentPage == pages[0] ? true : false}\n                                            >\n                                                <FontAwesomeIcon icon={faChevronLeft} />\n                                            </button>\n                                        </li>\n                                        {quizData.length > 6 ? renderPageNumbers : null}\n                                        <li key='nextbtn' className='p-1'>\n                                            <button\n                                                onClick={handleNextBtn}\n                                                disabled={currentPage == pages[pages.length - 1] ? true : false}\n                                            >\n                                                <FontAwesomeIcon icon={faChevronRight} />\n                                            </button>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>)\n                        : <p className='italic'>User has no saved quizzes...</p>}\n                </div>\n                <div className=\"py-5\">\n                    {data.user.recentlyTaken.length ?\n                        <div>\n                        <div className=\"pb-3\">\n                            <span>{`Recently Taken`}</span>\n                        </div>\n                            {data.user.recentlyTaken.map(quiz => {\n                                return (\n                                    <div className=\"my-2\">\n                                        <Link to={`/quiz/${quiz._id}`}>\n                                            <div className=\"bg-theme-berry hover:bg-theme-berrydark transition duration-200 flex justify-between rounded p-1\">\n                                                <p>{quiz.title}</p>\n                                                <p className=\"text-md font-normal\">{quiz.author}</p>\n                                            </div>\n                                        </Link>\n\n                                    </div>\n                                )\n                            })}\n                        </div>\n                        : <span className='italic font-normal'>No quizzes taken!</span>}\n                </div>\n            </div>\n        </div>\n    )\n}","const addDateSuffix = (date) => {\n  let dateStr = date.toString();\n\n  // get last char of date string\n  const lastChar = dateStr.charAt(dateStr.length - 1);\n\n  if (lastChar === '1' && dateStr !== '11') {\n    dateStr = `${dateStr}st`;\n  } else if (lastChar === '2' && dateStr !== '12') {\n    dateStr = `${dateStr}nd`;\n  } else if (lastChar === '3' && dateStr !== '13') {\n    dateStr = `${dateStr}rd`;\n  } else {\n    dateStr = `${dateStr}th`;\n  }\n\n  return dateStr;\n};\n\n// function to format a timestamp, accepts the timestamp and an `options` object as parameters\nexport default function dateFormat (\n  timestamp,\n  { monthLength = 'short', dateSuffix = true } = {}\n) {\n  // create month object\n  const months = {\n    0: monthLength === 'short' ? 'Jan' : 'January',\n    1: monthLength === 'short' ? 'Feb' : 'February',\n    2: monthLength === 'short' ? 'Mar' : 'March',\n    3: monthLength === 'short' ? 'Apr' : 'April',\n    4: monthLength === 'short' ? 'May' : 'May',\n    5: monthLength === 'short' ? 'Jun' : 'June',\n    6: monthLength === 'short' ? 'Jul' : 'July',\n    7: monthLength === 'short' ? 'Aug' : 'August',\n    8: monthLength === 'short' ? 'Sep' : 'September',\n    9: monthLength === 'short' ? 'Oct' : 'October',\n    10: monthLength === 'short' ? 'Nov' : 'November',\n    11: monthLength === 'short' ? 'Dec' : 'December',\n  };\n\n  const dateObj = new Date(parseInt(timestamp, 10));\n  const formattedMonth = months[dateObj.getMonth()];\n\n  const dayOfMonth = dateSuffix\n    ? addDateSuffix(dateObj.getDate())\n    : dateObj.getDate();\n\n  const year = dateObj.getFullYear();\n  let hour =\n    dateObj.getHours() > 12\n      ? Math.floor(dateObj.getHours() - 12)\n      : dateObj.getHours();\n\n  // if hour is 0 (12:00am), change it to 12\n  if (hour === 0) {\n    hour = 12;\n  }\n\n  const minutes = (dateObj.getMinutes() < 10 ? '0' : '') + dateObj.getMinutes();\n\n  // set `am` or `pm`\n  const periodOfDay = dateObj.getHours() >= 12 ? 'pm' : 'am';\n\n  const formattedTimeStamp = `${formattedMonth} ${dayOfMonth}, ${year}`;\n\n  return formattedTimeStamp;\n};\n","import { useState } from \"react\"\nimport { useQuery } from \"@apollo/client\"\nimport { Link } from \"react-router-dom\"\nimport { DEEP_SEARCH } from \"../../utils/queries\"\nimport { Hint } from 'react-autocomplete-hint';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\nimport dateFormat from \"../../utils/dateFormat\";\n\nimport Alert from '../../components/Alert';\n\nexport default function SearchPage() {\n\n  const [search, setSearch] = useState({ title: \"\", author: \"\", tags: [] })\n  const [tagText, setTagText] = useState(\"\")\n  const [input, setInput] = useState({})\n\n  const [alert, setAlert] = useState({ show: false, message: \"\" })\n\n  async function handleSearchSubmit() {\n    setInput(search)\n  }\n    \n    function TagsList({tags, deletable}) {\n        return(\n            <div className=\"grid grid-cols-3 w-full gap-2 flex-grow-0\">\n            {tags.length ? tags.map(tag => {\n                return (\n                    <div className=\"p-1 overflow-x-hidden max-w-sm rounded-xl h-7 text-sm bg-theme-berry text-white flex justify-between\">\n                        <span className=\"max-w-sm\">{tag}</span>\n                        {deletable ?\n                        <div onClick={() => deleteTag(tag)} className=\"transition duration-100 hover:text-red-700 cursor-pointer px-1\">\n                            <span><FontAwesomeIcon icon={faTimes} /></span>\n                        </div>\n                        : null\n                        }\n                    </div>\n                )\n            }) : null}\n        </div>\n         )\n        }\n\n  function SearchResults() {\n    const renderData = (data) => {\n      return (\n        <>\n          {data.map(result => {\n            return (\n              <div className=\"rounded w-full p-3 bg-theme-darker lg:flex space-y-4 lg:space-y-0 justify-between mb-1\">\n                <div className=\"w-1/2\">\n                  <p className=\"text-xl font-semibold text-white\">{result.title}<span className=\"text-black ml-1 text-sm font-normal\"> -{result.author}</span></p>\n                  <p className=\"text-xs mt-3\">Created {dateFormat(result.createdAt)}</p>\n                </div>\n                <div className=\"container rounded bg-theme-aliceblue p-3 w-full\">\n                  <span>{result.description}</span>\n                </div>\n                <div className=\"w-3/4 px-5\">\n                  <TagsList tags={result.tags} deletable={false} />\n                </div>\n                <div className=\"w-2/6 flex items-center justify-center\">\n                  <Link to={`/quiz/${result._id}`}>\n                    <button className=\"p-2 rounded bg-green-400 hover:bg-green-600 transition duration-200\">Go to Quiz</button>\n                  </Link>\n                </div>\n              </div>\n            )\n          })}\n        </>\n      )\n    };\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const [itemsPerPage] = useState(8);\n\n    const pages = [];\n    const indexOfLastItem = currentPage * itemsPerPage;\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n\n    const { loading, data, error } = useQuery(DEEP_SEARCH, {\n      variables: {\n        input: {\n          ...input\n        }\n      }\n    });\n\n    let deepSearchData = data?.deepSearch || [];\n\n    for (let i = 0; i < Math.ceil(deepSearchData.length/itemsPerPage); i++) {\n      pages.push(i + 1);\n    };\n\n    const currentItems = deepSearchData.slice(indexOfFirstItem, indexOfLastItem);\n\n    const renderPageNumbers = pages.map(n => {\n      return (\n        <div className='cursor-pointer'>\n          <li \n            className={currentPage == n ? 'bg-theme-darker rounded' : 'null'}\n            style={{\n              padding: '0.25rem'\n            }}\n            key={n} \n            id={n}\n            onClick={handleClick}\n          >\n            {n}\n          </li>\n        </div>\n      );\n    });\n\n    function handleClick(event) {\n      setCurrentPage(Number(event.target.id));\n    };\n  \n    function handlePrevBtn() {\n      setCurrentPage(currentPage - 1);\n    };\n  \n    function handleNextBtn() {\n      setCurrentPage(currentPage + 1);\n    };\n\n    if (loading) {\n      return (\n        <div className=\" flex justify-center items-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-4 border-theme-main\"></div>\n        </div>\n      )\n    }\n\n    if (error) {\n      return (\n        <span>{error}</span>\n      )\n    };\n\n    return (\n      <div className=\"space-y-2 md:px-10\">\n        {deepSearchData.length ? (\n          <div>\n            {renderData(currentItems)}\n            <ul className='flex flex-wrap justify-center list-none text-theme-aliceblue'>\n              <li key='prevbtn' className='p-1'>\n                <button\n                  onClick={handlePrevBtn}\n                  disabled={currentPage == pages[0] ? true : false}\n                >\n                  <FontAwesomeIcon icon={faChevronLeft} />\n                </button>\n              </li>\n              {deepSearchData.length > 8 ? renderPageNumbers : null}\n              <li key='nextbtn' className='p-1'>\n                <button\n                  onClick={handleNextBtn}\n                  disabled={currentPage == pages[pages.length - 1] ? true : false}\n                >\n                  <FontAwesomeIcon icon={faChevronRight} />\n                </button>\n              </li>\n            </ul>\n          </div>\n        ) : (\n          <span className='italic'>No Results Found</span>\n        )}\n      </div>\n    )\n  }\n\n  function handleTagSubmit() {\n    const newTags = search.tags\n    if (newTags.length < 5) {\n      if (tagText.length < 13) {\n        newTags.push(tagText)\n        setSearch({ ...search, tags: newTags })\n      }\n      else {\n        setAlert({ show: true, message: \"Maximum tag length is 12 characters!\" })\n      }\n    }\n    else {\n      setAlert({ show: true, message: \"Maximum allowed tags is 5!\" })\n    }\n    setTagText(\"\")\n  }\n\n  function handleTagInputEnter(e) {\n    if (e.key === \"Enter\") {\n      e.preventDefault()\n      handleTagSubmit()\n    }\n  }\n\n  function deleteTag(tag) {\n    const newTags = search.tags\n    const delIndex = newTags.indexOf(tag)\n    newTags.splice(delIndex, 1)\n    setSearch({ ...search, tags: newTags })\n  }\n\n  const tags = [\n    \"Programming\",\n    \"Javascript\",\n    \"Node\",\n    \"MySQL\",\n    \"CSS\",\n    \"React\",\n    \"MongoDB\",\n    \"WebDev\",\n    \"HTML\",\n    \"Movies\",\n    \"Television\",\n    \"Math\",\n    \"History\",\n    \"Science\",\n    \"Geography\"\n  ]\n\n  return (\n    <div className='min-h-screen flex '>\n      <div className=\"bg-theme-bluegray border-2 md:border-4 border-theme-main mt-20 w-full rounded shadow-lg p-5 m-5\">\n        <h2 className=\"text-4xl font-title text-white mb-5\">Search</h2>\n        <div className=\"rounded bg-theme-aliceblue p-5\">\n          <div className=\"flex flex-wrap w-full justify-center gap-y-1 lg:justify-between\">\n            <div>\n              <input className=\"bg-white rounded-lg hover:bg-gray-100 focus:bg-gray-200 transition duration-200\" type=\"text\" value={search.title} placeholder=\"Title\" onChange={(e) => setSearch({ ...search, title: e.target.value })} />\n            </div>\n            <div>\n              <input className=\"bg-white rounded-lg hover:bg-gray-100 focus:bg-gray-200 transition duration-200\" type=\"text\" value={search.author} placeholder=\"Author\" onChange={(e) => setSearch({ ...search, author: e.target.value })} />\n            </div>\n            <div className=\"flex justify-between gap-2\">\n              <Hint options={tags} allowTabFill>\n                <input className=\"bg-white rounded-lg hover:bg-gray-100 focus:bg-gray-200 transition duration-200\"\n                  value={tagText}\n                  type=\"text\"\n                  placeholder=\"Add tags...\"\n                  onChange={e => setTagText(e.target.value)}\n                  onKeyDown={e => handleTagInputEnter(e)}\n                />\n              </Hint>\n              {search.tags.length ?\n                <TagsList tags={search.tags} deletable={true} />\n                : null}\n            </div>\n            <button className=\"bg-blue-600 hover:bg-blue-800 transition duration-200 rounded p-2 text-white\" onClick={() => handleSearchSubmit()}>Submit Search</button>\n          </div>\n          {alert.show ?\n            <div className=\"mt-8\">\n              <Alert message={alert.message} hideFunction={() => setAlert({ show: false, message: \"\" })} />\n            </div>\n            : null}\n        </div>\n        <div className=\"bg-theme-bluegray rounded p-5 mt-2\">\n          <SearchResults />\n        </div>\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport { Redirect } from \"react-router\";\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  createHttpLink,\n} from '@apollo/client';\nimport { onError } from 'apollo-link-error';\nimport { ApolloLink } from 'apollo-link';\nimport { setContext } from '@apollo/client/link/context';\nimport { relayStylePagination } from '@apollo/client/utilities';\n\nimport MainNavbar from './components/MainNavbar';\nimport Splash from './pages/Splash';\nimport Dashboard from './pages/Dashboard';\nimport QuizCreator from './pages/QuizCreator'\nimport Quiz from './pages/Quiz';\nimport UserPage from \"./pages/User\"\nimport SearchPage from './pages/Search';\n\n\nconst httpLink = createHttpLink({\n  uri: '/graphql',\n});\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors) {\n    console.log('graphQLErrors', graphQLErrors);\n  }\n  if (networkError) {\n    console.log('networkError', networkError);\n  }\n});\n\nconst link = ApolloLink.from([errorLink, httpLink]);\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem('id_token');\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(link),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <div className=\"font-main tracking-wide\">\n          <MainNavbar />\n          <Switch>\n            <Route exact path='/' component={Splash} />\n            <Route exact path='/home' component={Dashboard} />\n            <Redirect exact from=\"/home/reload\" to=\"/home\" />\n            <Route path=\"/creator\" component={QuizCreator} />\n            <Route path=\"/search\" component={SearchPage} />\n            <Route path=\"/quiz/:id\" component={Quiz}/>\n            <Route path=\"/user/:id\" component={UserPage} />\n          </Switch>\n        </div>\n      </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}